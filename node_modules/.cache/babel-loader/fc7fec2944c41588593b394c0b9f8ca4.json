{"ast":null,"code":"var LoaderLoadingError = require(\"./LoaderLoadingError\");\n\nvar url;\n\nmodule.exports = function loadLoader(loader, callback) {\n  if (loader.type === \"module\") {\n    try {\n      if (url === undefined) url = require(\"url\");\n      var loaderUrl = url.pathToFileURL(loader.path);\n      var modulePromise = eval(\"import(\" + JSON.stringify(loaderUrl.toString()) + \")\");\n      modulePromise.then(function (module) {\n        handleResult(loader, module, callback);\n      }, callback);\n      return;\n    } catch (e) {\n      callback(e);\n    }\n  } else {\n    try {\n      var module = require(loader.path);\n    } catch (e) {\n      // it is possible for node to choke on a require if the FD descriptor\n      // limit has been reached. give it a chance to recover.\n      if (e instanceof Error && e.code === \"EMFILE\") {\n        var retry = loadLoader.bind(null, loader, callback);\n\n        if (typeof setImmediate === \"function\") {\n          // node >= 0.9.0\n          return setImmediate(retry);\n        } else {\n          // node < 0.9.0\n          return process.nextTick(retry);\n        }\n      }\n\n      return callback(e);\n    }\n\n    return handleResult(loader, module, callback);\n  }\n};\n\nfunction handleResult(loader, module, callback) {\n  if (typeof module !== \"function\" && typeof module !== \"object\") {\n    return callback(new LoaderLoadingError(\"Module '\" + loader.path + \"' is not a loader (export function or es6 module)\"));\n  }\n\n  loader.normal = typeof module === \"function\" ? module : module.default;\n  loader.pitch = module.pitch;\n  loader.raw = module.raw;\n\n  if (typeof loader.normal !== \"function\" && typeof loader.pitch !== \"function\") {\n    return callback(new LoaderLoadingError(\"Module '\" + loader.path + \"' is not a loader (must have normal or pitch function)\"));\n  }\n\n  callback();\n}","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/loader-runner/lib/loadLoader.js"],"names":["LoaderLoadingError","require","url","module","exports","loadLoader","loader","callback","type","undefined","loaderUrl","pathToFileURL","path","modulePromise","eval","JSON","stringify","toString","then","handleResult","e","Error","code","retry","bind","setImmediate","process","nextTick","normal","default","pitch","raw"],"mappings":"AAAA,IAAIA,kBAAkB,GAAGC,OAAO,CAAC,sBAAD,CAAhC;;AACA,IAAIC,GAAJ;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsC;AACtD,MAAGD,MAAM,CAACE,IAAP,KAAgB,QAAnB,EAA6B;AAC5B,QAAI;AACH,UAAGN,GAAG,KAAKO,SAAX,EAAsBP,GAAG,GAAGD,OAAO,CAAC,KAAD,CAAb;AACtB,UAAIS,SAAS,GAAGR,GAAG,CAACS,aAAJ,CAAkBL,MAAM,CAACM,IAAzB,CAAhB;AACA,UAAIC,aAAa,GAAGC,IAAI,CAAC,YAAYC,IAAI,CAACC,SAAL,CAAeN,SAAS,CAACO,QAAV,EAAf,CAAZ,GAAmD,GAApD,CAAxB;AACAJ,MAAAA,aAAa,CAACK,IAAd,CAAmB,UAASf,MAAT,EAAiB;AACnCgB,QAAAA,YAAY,CAACb,MAAD,EAASH,MAAT,EAAiBI,QAAjB,CAAZ;AACA,OAFD,EAEGA,QAFH;AAGA;AACA,KARD,CAQE,OAAMa,CAAN,EAAS;AACVb,MAAAA,QAAQ,CAACa,CAAD,CAAR;AACA;AACD,GAZD,MAYO;AACN,QAAI;AACH,UAAIjB,MAAM,GAAGF,OAAO,CAACK,MAAM,CAACM,IAAR,CAApB;AACA,KAFD,CAEE,OAAMQ,CAAN,EAAS;AACV;AACA;AACA,UAAGA,CAAC,YAAYC,KAAb,IAAsBD,CAAC,CAACE,IAAF,KAAW,QAApC,EAA8C;AAC7C,YAAIC,KAAK,GAAGlB,UAAU,CAACmB,IAAX,CAAgB,IAAhB,EAAsBlB,MAAtB,EAA8BC,QAA9B,CAAZ;;AACA,YAAG,OAAOkB,YAAP,KAAwB,UAA3B,EAAuC;AACtC;AACA,iBAAOA,YAAY,CAACF,KAAD,CAAnB;AACA,SAHD,MAGO;AACN;AACA,iBAAOG,OAAO,CAACC,QAAR,CAAiBJ,KAAjB,CAAP;AACA;AACD;;AACD,aAAOhB,QAAQ,CAACa,CAAD,CAAf;AACA;;AACD,WAAOD,YAAY,CAACb,MAAD,EAASH,MAAT,EAAiBI,QAAjB,CAAnB;AACA;AACD,CAjCD;;AAmCA,SAASY,YAAT,CAAsBb,MAAtB,EAA8BH,MAA9B,EAAsCI,QAAtC,EAAgD;AAC/C,MAAG,OAAOJ,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAP,KAAkB,QAArD,EAA+D;AAC9D,WAAOI,QAAQ,CAAC,IAAIP,kBAAJ,CACf,aAAaM,MAAM,CAACM,IAApB,GAA2B,mDADZ,CAAD,CAAf;AAGA;;AACDN,EAAAA,MAAM,CAACsB,MAAP,GAAgB,OAAOzB,MAAP,KAAkB,UAAlB,GAA+BA,MAA/B,GAAwCA,MAAM,CAAC0B,OAA/D;AACAvB,EAAAA,MAAM,CAACwB,KAAP,GAAe3B,MAAM,CAAC2B,KAAtB;AACAxB,EAAAA,MAAM,CAACyB,GAAP,GAAa5B,MAAM,CAAC4B,GAApB;;AACA,MAAG,OAAOzB,MAAM,CAACsB,MAAd,KAAyB,UAAzB,IAAuC,OAAOtB,MAAM,CAACwB,KAAd,KAAwB,UAAlE,EAA8E;AAC7E,WAAOvB,QAAQ,CAAC,IAAIP,kBAAJ,CACf,aAAaM,MAAM,CAACM,IAApB,GAA2B,wDADZ,CAAD,CAAf;AAGA;;AACDL,EAAAA,QAAQ;AACR","sourcesContent":["var LoaderLoadingError = require(\"./LoaderLoadingError\");\nvar url;\n\nmodule.exports = function loadLoader(loader, callback) {\n\tif(loader.type === \"module\") {\n\t\ttry {\n\t\t\tif(url === undefined) url = require(\"url\");\n\t\t\tvar loaderUrl = url.pathToFileURL(loader.path);\n\t\t\tvar modulePromise = eval(\"import(\" + JSON.stringify(loaderUrl.toString()) + \")\");\n\t\t\tmodulePromise.then(function(module) {\n\t\t\t\thandleResult(loader, module, callback);\n\t\t\t}, callback);\n\t\t\treturn;\n\t\t} catch(e) {\n\t\t\tcallback(e);\n\t\t}\n\t} else {\n\t\ttry {\n\t\t\tvar module = require(loader.path);\n\t\t} catch(e) {\n\t\t\t// it is possible for node to choke on a require if the FD descriptor\n\t\t\t// limit has been reached. give it a chance to recover.\n\t\t\tif(e instanceof Error && e.code === \"EMFILE\") {\n\t\t\t\tvar retry = loadLoader.bind(null, loader, callback);\n\t\t\t\tif(typeof setImmediate === \"function\") {\n\t\t\t\t\t// node >= 0.9.0\n\t\t\t\t\treturn setImmediate(retry);\n\t\t\t\t} else {\n\t\t\t\t\t// node < 0.9.0\n\t\t\t\t\treturn process.nextTick(retry);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn callback(e);\n\t\t}\n\t\treturn handleResult(loader, module, callback);\n\t}\n};\n\nfunction handleResult(loader, module, callback) {\n\tif(typeof module !== \"function\" && typeof module !== \"object\") {\n\t\treturn callback(new LoaderLoadingError(\n\t\t\t\"Module '\" + loader.path + \"' is not a loader (export function or es6 module)\"\n\t\t));\n\t}\n\tloader.normal = typeof module === \"function\" ? module : module.default;\n\tloader.pitch = module.pitch;\n\tloader.raw = module.raw;\n\tif(typeof loader.normal !== \"function\" && typeof loader.pitch !== \"function\") {\n\t\treturn callback(new LoaderLoadingError(\n\t\t\t\"Module '\" + loader.path + \"' is not a loader (must have normal or pitch function)\"\n\t\t));\n\t}\n\tcallback();\n}\n"]},"metadata":{},"sourceType":"script"}