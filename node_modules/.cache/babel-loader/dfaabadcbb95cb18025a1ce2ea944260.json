{"ast":null,"code":"'use strict';\n\nconst {\n  PassThrough\n} = require('stream');\n\nmodule.exports = function\n  /*streams...*/\n() {\n  var sources = [];\n  var output = new PassThrough({\n    objectMode: true\n  });\n  output.setMaxListeners(0);\n  output.add = add;\n  output.isEmpty = isEmpty;\n  output.on('unpipe', remove);\n  Array.prototype.slice.call(arguments).forEach(add);\n  return output;\n\n  function add(source) {\n    if (Array.isArray(source)) {\n      source.forEach(add);\n      return this;\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source));\n    source.once('error', output.emit.bind(output, 'error'));\n    source.pipe(output, {\n      end: false\n    });\n    return this;\n  }\n\n  function isEmpty() {\n    return sources.length == 0;\n  }\n\n  function remove(source) {\n    sources = sources.filter(function (it) {\n      return it !== source;\n    });\n\n    if (!sources.length && output.readable) {\n      output.end();\n    }\n  }\n};","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/merge-stream/index.js"],"names":["PassThrough","require","module","exports","sources","output","objectMode","setMaxListeners","add","isEmpty","on","remove","Array","prototype","slice","call","arguments","forEach","source","isArray","push","once","bind","emit","pipe","end","length","filter","it","readable"],"mappings":"AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAkBC,OAAO,CAAC,QAAD,CAA/B;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAAU;AAAV,GAA0B;AACzC,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,MAAM,GAAI,IAAIL,WAAJ,CAAgB;AAACM,IAAAA,UAAU,EAAE;AAAb,GAAhB,CAAd;AAEAD,EAAAA,MAAM,CAACE,eAAP,CAAuB,CAAvB;AAEAF,EAAAA,MAAM,CAACG,GAAP,GAAaA,GAAb;AACAH,EAAAA,MAAM,CAACI,OAAP,GAAiBA,OAAjB;AAEAJ,EAAAA,MAAM,CAACK,EAAP,CAAU,QAAV,EAAoBC,MAApB;AAEAC,EAAAA,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsCC,OAAtC,CAA8CT,GAA9C;AAEA,SAAOH,MAAP;;AAEA,WAASG,GAAT,CAAcU,MAAd,EAAsB;AACpB,QAAIN,KAAK,CAACO,OAAN,CAAcD,MAAd,CAAJ,EAA2B;AACzBA,MAAAA,MAAM,CAACD,OAAP,CAAeT,GAAf;AACA,aAAO,IAAP;AACD;;AAEDJ,IAAAA,OAAO,CAACgB,IAAR,CAAaF,MAAb;AACAA,IAAAA,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBV,MAAM,CAACW,IAAP,CAAY,IAAZ,EAAkBJ,MAAlB,CAAnB;AACAA,IAAAA,MAAM,CAACG,IAAP,CAAY,OAAZ,EAAqBhB,MAAM,CAACkB,IAAP,CAAYD,IAAZ,CAAiBjB,MAAjB,EAAyB,OAAzB,CAArB;AACAa,IAAAA,MAAM,CAACM,IAAP,CAAYnB,MAAZ,EAAoB;AAACoB,MAAAA,GAAG,EAAE;AAAN,KAApB;AACA,WAAO,IAAP;AACD;;AAED,WAAShB,OAAT,GAAoB;AAClB,WAAOL,OAAO,CAACsB,MAAR,IAAkB,CAAzB;AACD;;AAED,WAASf,MAAT,CAAiBO,MAAjB,EAAyB;AACvBd,IAAAA,OAAO,GAAGA,OAAO,CAACuB,MAAR,CAAe,UAAUC,EAAV,EAAc;AAAE,aAAOA,EAAE,KAAKV,MAAd;AAAsB,KAArD,CAAV;;AACA,QAAI,CAACd,OAAO,CAACsB,MAAT,IAAmBrB,MAAM,CAACwB,QAA9B,EAAwC;AAAExB,MAAAA,MAAM,CAACoB,GAAP;AAAc;AACzD;AACF,CApCD","sourcesContent":["'use strict';\n\nconst { PassThrough } = require('stream');\n\nmodule.exports = function (/*streams...*/) {\n  var sources = []\n  var output  = new PassThrough({objectMode: true})\n\n  output.setMaxListeners(0)\n\n  output.add = add\n  output.isEmpty = isEmpty\n\n  output.on('unpipe', remove)\n\n  Array.prototype.slice.call(arguments).forEach(add)\n\n  return output\n\n  function add (source) {\n    if (Array.isArray(source)) {\n      source.forEach(add)\n      return this\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source))\n    source.once('error', output.emit.bind(output, 'error'))\n    source.pipe(output, {end: false})\n    return this\n  }\n\n  function isEmpty () {\n    return sources.length == 0;\n  }\n\n  function remove (source) {\n    sources = sources.filter(function (it) { return it !== source })\n    if (!sources.length && output.readable) { output.end() }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}