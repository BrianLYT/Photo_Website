{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  SyncWaterfallHook\n} = require(\"tapable\");\n\nconst util = require(\"util\");\n\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\n\nconst memoize = require(\"./util/memoize\");\n/** @typedef {import(\"webpack-sources\").ConcatSource} ConcatSource */\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"../declarations/WebpackOptions\").Output} OutputOptions */\n\n/** @typedef {import(\"./ModuleTemplate\")} ModuleTemplate */\n\n/** @typedef {import(\"./Chunk\")} Chunk */\n\n/** @typedef {import(\"./Compilation\")} Compilation */\n\n/** @typedef {import(\"./Compilation\").AssetInfo} AssetInfo */\n\n/** @typedef {import(\"./Module\")} Module} */\n\n/** @typedef {import(\"./util/Hash\")} Hash} */\n\n/** @typedef {import(\"./DependencyTemplates\")} DependencyTemplates} */\n\n/** @typedef {import(\"./javascript/JavascriptModulesPlugin\").RenderContext} RenderContext} */\n\n/** @typedef {import(\"./RuntimeTemplate\")} RuntimeTemplate} */\n\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph} */\n\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph} */\n\n/** @typedef {import(\"./Template\").RenderManifestOptions} RenderManifestOptions} */\n\n/** @typedef {import(\"./Template\").RenderManifestEntry} RenderManifestEntry} */\n\n\nconst getJavascriptModulesPlugin = memoize(() => require(\"./javascript/JavascriptModulesPlugin\"));\nconst getJsonpTemplatePlugin = memoize(() => require(\"./web/JsonpTemplatePlugin\"));\nconst getLoadScriptRuntimeModule = memoize(() => require(\"./runtime/LoadScriptRuntimeModule\")); // TODO webpack 6 remove this class\n\nclass MainTemplate {\n  /**\n   *\n   * @param {OutputOptions} outputOptions output options for the MainTemplate\n   * @param {Compilation} compilation the compilation\n   */\n  constructor(outputOptions, compilation) {\n    /** @type {OutputOptions} */\n    this._outputOptions = outputOptions || {};\n    this.hooks = Object.freeze({\n      renderManifest: {\n        tap: util.deprecate((options, fn) => {\n          compilation.hooks.renderManifest.tap(options, (entries, options) => {\n            if (!options.chunk.hasRuntime()) return entries;\n            return fn(entries, options);\n          });\n        }, \"MainTemplate.hooks.renderManifest is deprecated (use Compilation.hooks.renderManifest instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_MANIFEST\")\n      },\n      modules: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.modules has been removed (there is no replacement, please create an issue to request that)\");\n        }\n      },\n      moduleObj: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.moduleObj has been removed (there is no replacement, please create an issue to request that)\");\n        }\n      },\n      require: {\n        tap: util.deprecate((options, fn) => {\n          getJavascriptModulesPlugin().getCompilationHooks(compilation).renderRequire.tap(options, fn);\n        }, \"MainTemplate.hooks.require is deprecated (use JavascriptModulesPlugin.getCompilationHooks().renderRequire instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_REQUIRE\")\n      },\n      beforeStartup: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.beforeStartup has been removed (use RuntimeGlobals.startupOnlyBefore instead)\");\n        }\n      },\n      startup: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.startup has been removed (use RuntimeGlobals.startup instead)\");\n        }\n      },\n      afterStartup: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.afterStartup has been removed (use RuntimeGlobals.startupOnlyAfter instead)\");\n        }\n      },\n      render: {\n        tap: util.deprecate((options, fn) => {\n          getJavascriptModulesPlugin().getCompilationHooks(compilation).render.tap(options, (source, renderContext) => {\n            if (renderContext.chunkGraph.getNumberOfEntryModules(renderContext.chunk) === 0 || !renderContext.chunk.hasRuntime()) {\n              return source;\n            }\n\n            return fn(source, renderContext.chunk, compilation.hash, compilation.moduleTemplates.javascript, compilation.dependencyTemplates);\n          });\n        }, \"MainTemplate.hooks.render is deprecated (use JavascriptModulesPlugin.getCompilationHooks().render instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_RENDER\")\n      },\n      renderWithEntry: {\n        tap: util.deprecate((options, fn) => {\n          getJavascriptModulesPlugin().getCompilationHooks(compilation).render.tap(options, (source, renderContext) => {\n            if (renderContext.chunkGraph.getNumberOfEntryModules(renderContext.chunk) === 0 || !renderContext.chunk.hasRuntime()) {\n              return source;\n            }\n\n            return fn(source, renderContext.chunk, compilation.hash);\n          });\n        }, \"MainTemplate.hooks.renderWithEntry is deprecated (use JavascriptModulesPlugin.getCompilationHooks().render instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_WITH_ENTRY\")\n      },\n      assetPath: {\n        tap: util.deprecate((options, fn) => {\n          compilation.hooks.assetPath.tap(options, fn);\n        }, \"MainTemplate.hooks.assetPath is deprecated (use Compilation.hooks.assetPath instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_ASSET_PATH\"),\n        call: util.deprecate((filename, options) => {\n          return compilation.getAssetPath(filename, options);\n        }, \"MainTemplate.hooks.assetPath is deprecated (use Compilation.hooks.assetPath instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_ASSET_PATH\")\n      },\n      hash: {\n        tap: util.deprecate((options, fn) => {\n          compilation.hooks.fullHash.tap(options, fn);\n        }, \"MainTemplate.hooks.hash is deprecated (use Compilation.hooks.fullHash instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_HASH\")\n      },\n      hashForChunk: {\n        tap: util.deprecate((options, fn) => {\n          getJavascriptModulesPlugin().getCompilationHooks(compilation).chunkHash.tap(options, (chunk, hash) => {\n            if (!chunk.hasRuntime()) return;\n            return fn(hash, chunk);\n          });\n        }, \"MainTemplate.hooks.hashForChunk is deprecated (use JavascriptModulesPlugin.getCompilationHooks().chunkHash instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\")\n      },\n      globalHashPaths: {\n        tap: util.deprecate(() => {}, \"MainTemplate.hooks.globalHashPaths has been removed (it's no longer needed)\", \"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\")\n      },\n      globalHash: {\n        tap: util.deprecate(() => {}, \"MainTemplate.hooks.globalHash has been removed (it's no longer needed)\", \"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\")\n      },\n      hotBootstrap: {\n        tap: () => {\n          throw new Error(\"MainTemplate.hooks.hotBootstrap has been removed (use your own RuntimeModule instead)\");\n        }\n      },\n      // for compatibility:\n\n      /** @type {SyncWaterfallHook<[string, Chunk, string, ModuleTemplate, DependencyTemplates]>} */\n      bootstrap: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleTemplate\", \"dependencyTemplates\"]),\n\n      /** @type {SyncWaterfallHook<[string, Chunk, string]>} */\n      localVars: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\n      /** @type {SyncWaterfallHook<[string, Chunk, string]>} */\n      requireExtensions: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\n      /** @type {SyncWaterfallHook<[string, Chunk, string, string]>} */\n      requireEnsure: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"chunkIdExpression\"]),\n\n      get jsonpScript() {\n        const hooks = getLoadScriptRuntimeModule().getCompilationHooks(compilation);\n        return hooks.createScript;\n      },\n\n      get linkPrefetch() {\n        const hooks = getJsonpTemplatePlugin().getCompilationHooks(compilation);\n        return hooks.linkPrefetch;\n      },\n\n      get linkPreload() {\n        const hooks = getJsonpTemplatePlugin().getCompilationHooks(compilation);\n        return hooks.linkPreload;\n      }\n\n    });\n    this.renderCurrentHashCode = util.deprecate(\n    /**\n     * @deprecated\n     * @param {string} hash the hash\n     * @param {number=} length length of the hash\n     * @returns {string} generated code\n     */\n    (hash, length) => {\n      if (length) {\n        return `${RuntimeGlobals.getFullHash} ? ${RuntimeGlobals.getFullHash}().slice(0, ${length}) : ${hash.slice(0, length)}`;\n      }\n\n      return `${RuntimeGlobals.getFullHash} ? ${RuntimeGlobals.getFullHash}() : ${hash}`;\n    }, \"MainTemplate.renderCurrentHashCode is deprecated (use RuntimeGlobals.getFullHash runtime function instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_CURRENT_HASH_CODE\");\n    this.getPublicPath = util.deprecate(\n    /**\n     *\n     * @param {object} options get public path options\n     * @returns {string} hook call\n     */\n    options => {\n      return compilation.getAssetPath(compilation.outputOptions.publicPath, options);\n    }, \"MainTemplate.getPublicPath is deprecated (use Compilation.getAssetPath(compilation.outputOptions.publicPath, options) instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_GET_PUBLIC_PATH\");\n    this.getAssetPath = util.deprecate((path, options) => {\n      return compilation.getAssetPath(path, options);\n    }, \"MainTemplate.getAssetPath is deprecated (use Compilation.getAssetPath instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_GET_ASSET_PATH\");\n    this.getAssetPathWithInfo = util.deprecate((path, options) => {\n      return compilation.getAssetPathWithInfo(path, options);\n    }, \"MainTemplate.getAssetPathWithInfo is deprecated (use Compilation.getAssetPath instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_GET_ASSET_PATH_WITH_INFO\");\n  }\n\n}\n\nObject.defineProperty(MainTemplate.prototype, \"requireFn\", {\n  get: util.deprecate(() => \"__webpack_require__\", 'MainTemplate.requireFn is deprecated (use \"__webpack_require__\")', \"DEP_WEBPACK_MAIN_TEMPLATE_REQUIRE_FN\")\n});\nObject.defineProperty(MainTemplate.prototype, \"outputOptions\", {\n  get: util.deprecate(\n  /**\n   * @this {MainTemplate}\n   * @returns {OutputOptions} output options\n   */\n  function () {\n    return this._outputOptions;\n  }, \"MainTemplate.outputOptions is deprecated (use Compilation.outputOptions instead)\", \"DEP_WEBPACK_MAIN_TEMPLATE_OUTPUT_OPTIONS\")\n});\nmodule.exports = MainTemplate;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/MainTemplate.js"],"names":["SyncWaterfallHook","require","util","RuntimeGlobals","memoize","getJavascriptModulesPlugin","getJsonpTemplatePlugin","getLoadScriptRuntimeModule","MainTemplate","constructor","outputOptions","compilation","_outputOptions","hooks","Object","freeze","renderManifest","tap","deprecate","options","fn","entries","chunk","hasRuntime","modules","Error","moduleObj","getCompilationHooks","renderRequire","beforeStartup","startup","afterStartup","render","source","renderContext","chunkGraph","getNumberOfEntryModules","hash","moduleTemplates","javascript","dependencyTemplates","renderWithEntry","assetPath","call","filename","getAssetPath","fullHash","hashForChunk","chunkHash","globalHashPaths","globalHash","hotBootstrap","bootstrap","localVars","requireExtensions","requireEnsure","jsonpScript","createScript","linkPrefetch","linkPreload","renderCurrentHashCode","length","getFullHash","slice","getPublicPath","publicPath","path","getAssetPathWithInfo","defineProperty","prototype","get","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { SyncWaterfallHook } = require(\"tapable\");\nconst util = require(\"util\");\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\nconst memoize = require(\"./util/memoize\");\n\n/** @typedef {import(\"webpack-sources\").ConcatSource} ConcatSource */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../declarations/WebpackOptions\").Output} OutputOptions */\n/** @typedef {import(\"./ModuleTemplate\")} ModuleTemplate */\n/** @typedef {import(\"./Chunk\")} Chunk */\n/** @typedef {import(\"./Compilation\")} Compilation */\n/** @typedef {import(\"./Compilation\").AssetInfo} AssetInfo */\n/** @typedef {import(\"./Module\")} Module} */\n/** @typedef {import(\"./util/Hash\")} Hash} */\n/** @typedef {import(\"./DependencyTemplates\")} DependencyTemplates} */\n/** @typedef {import(\"./javascript/JavascriptModulesPlugin\").RenderContext} RenderContext} */\n/** @typedef {import(\"./RuntimeTemplate\")} RuntimeTemplate} */\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph} */\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph} */\n/** @typedef {import(\"./Template\").RenderManifestOptions} RenderManifestOptions} */\n/** @typedef {import(\"./Template\").RenderManifestEntry} RenderManifestEntry} */\n\nconst getJavascriptModulesPlugin = memoize(() =>\n\trequire(\"./javascript/JavascriptModulesPlugin\")\n);\nconst getJsonpTemplatePlugin = memoize(() =>\n\trequire(\"./web/JsonpTemplatePlugin\")\n);\nconst getLoadScriptRuntimeModule = memoize(() =>\n\trequire(\"./runtime/LoadScriptRuntimeModule\")\n);\n\n// TODO webpack 6 remove this class\nclass MainTemplate {\n\t/**\n\t *\n\t * @param {OutputOptions} outputOptions output options for the MainTemplate\n\t * @param {Compilation} compilation the compilation\n\t */\n\tconstructor(outputOptions, compilation) {\n\t\t/** @type {OutputOptions} */\n\t\tthis._outputOptions = outputOptions || {};\n\t\tthis.hooks = Object.freeze({\n\t\t\trenderManifest: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tcompilation.hooks.renderManifest.tap(\n\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t(entries, options) => {\n\t\t\t\t\t\t\t\tif (!options.chunk.hasRuntime()) return entries;\n\t\t\t\t\t\t\t\treturn fn(entries, options);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.renderManifest is deprecated (use Compilation.hooks.renderManifest instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_MANIFEST\"\n\t\t\t\t)\n\t\t\t},\n\t\t\tmodules: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.modules has been removed (there is no replacement, please create an issue to request that)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmoduleObj: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.moduleObj has been removed (there is no replacement, please create an issue to request that)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\trequire: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tgetJavascriptModulesPlugin()\n\t\t\t\t\t\t\t.getCompilationHooks(compilation)\n\t\t\t\t\t\t\t.renderRequire.tap(options, fn);\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.require is deprecated (use JavascriptModulesPlugin.getCompilationHooks().renderRequire instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_REQUIRE\"\n\t\t\t\t)\n\t\t\t},\n\t\t\tbeforeStartup: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.beforeStartup has been removed (use RuntimeGlobals.startupOnlyBefore instead)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tstartup: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.startup has been removed (use RuntimeGlobals.startup instead)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tafterStartup: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.afterStartup has been removed (use RuntimeGlobals.startupOnlyAfter instead)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\trender: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tgetJavascriptModulesPlugin()\n\t\t\t\t\t\t\t.getCompilationHooks(compilation)\n\t\t\t\t\t\t\t.render.tap(options, (source, renderContext) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trenderContext.chunkGraph.getNumberOfEntryModules(\n\t\t\t\t\t\t\t\t\t\trenderContext.chunk\n\t\t\t\t\t\t\t\t\t) === 0 ||\n\t\t\t\t\t\t\t\t\t!renderContext.chunk.hasRuntime()\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn source;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn fn(\n\t\t\t\t\t\t\t\t\tsource,\n\t\t\t\t\t\t\t\t\trenderContext.chunk,\n\t\t\t\t\t\t\t\t\tcompilation.hash,\n\t\t\t\t\t\t\t\t\tcompilation.moduleTemplates.javascript,\n\t\t\t\t\t\t\t\t\tcompilation.dependencyTemplates\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.render is deprecated (use JavascriptModulesPlugin.getCompilationHooks().render instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_RENDER\"\n\t\t\t\t)\n\t\t\t},\n\t\t\trenderWithEntry: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tgetJavascriptModulesPlugin()\n\t\t\t\t\t\t\t.getCompilationHooks(compilation)\n\t\t\t\t\t\t\t.render.tap(options, (source, renderContext) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trenderContext.chunkGraph.getNumberOfEntryModules(\n\t\t\t\t\t\t\t\t\t\trenderContext.chunk\n\t\t\t\t\t\t\t\t\t) === 0 ||\n\t\t\t\t\t\t\t\t\t!renderContext.chunk.hasRuntime()\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn source;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn fn(source, renderContext.chunk, compilation.hash);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.renderWithEntry is deprecated (use JavascriptModulesPlugin.getCompilationHooks().render instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_WITH_ENTRY\"\n\t\t\t\t)\n\t\t\t},\n\t\t\tassetPath: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tcompilation.hooks.assetPath.tap(options, fn);\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.assetPath is deprecated (use Compilation.hooks.assetPath instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_ASSET_PATH\"\n\t\t\t\t),\n\t\t\t\tcall: util.deprecate(\n\t\t\t\t\t(filename, options) => {\n\t\t\t\t\t\treturn compilation.getAssetPath(filename, options);\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.assetPath is deprecated (use Compilation.hooks.assetPath instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_ASSET_PATH\"\n\t\t\t\t)\n\t\t\t},\n\t\t\thash: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tcompilation.hooks.fullHash.tap(options, fn);\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.hash is deprecated (use Compilation.hooks.fullHash instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_HASH\"\n\t\t\t\t)\n\t\t\t},\n\t\t\thashForChunk: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t(options, fn) => {\n\t\t\t\t\t\tgetJavascriptModulesPlugin()\n\t\t\t\t\t\t\t.getCompilationHooks(compilation)\n\t\t\t\t\t\t\t.chunkHash.tap(options, (chunk, hash) => {\n\t\t\t\t\t\t\t\tif (!chunk.hasRuntime()) return;\n\t\t\t\t\t\t\t\treturn fn(hash, chunk);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t\"MainTemplate.hooks.hashForChunk is deprecated (use JavascriptModulesPlugin.getCompilationHooks().chunkHash instead)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\"\n\t\t\t\t)\n\t\t\t},\n\t\t\tglobalHashPaths: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t() => {},\n\t\t\t\t\t\"MainTemplate.hooks.globalHashPaths has been removed (it's no longer needed)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\"\n\t\t\t\t)\n\t\t\t},\n\t\t\tglobalHash: {\n\t\t\t\ttap: util.deprecate(\n\t\t\t\t\t() => {},\n\t\t\t\t\t\"MainTemplate.hooks.globalHash has been removed (it's no longer needed)\",\n\t\t\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_HASH_FOR_CHUNK\"\n\t\t\t\t)\n\t\t\t},\n\t\t\thotBootstrap: {\n\t\t\t\ttap: () => {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"MainTemplate.hooks.hotBootstrap has been removed (use your own RuntimeModule instead)\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// for compatibility:\n\t\t\t/** @type {SyncWaterfallHook<[string, Chunk, string, ModuleTemplate, DependencyTemplates]>} */\n\t\t\tbootstrap: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleTemplate\",\n\t\t\t\t\"dependencyTemplates\"\n\t\t\t]),\n\t\t\t/** @type {SyncWaterfallHook<[string, Chunk, string]>} */\n\t\t\tlocalVars: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\t/** @type {SyncWaterfallHook<[string, Chunk, string]>} */\n\t\t\trequireExtensions: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\t/** @type {SyncWaterfallHook<[string, Chunk, string, string]>} */\n\t\t\trequireEnsure: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"chunkIdExpression\"\n\t\t\t]),\n\t\t\tget jsonpScript() {\n\t\t\t\tconst hooks =\n\t\t\t\t\tgetLoadScriptRuntimeModule().getCompilationHooks(compilation);\n\t\t\t\treturn hooks.createScript;\n\t\t\t},\n\t\t\tget linkPrefetch() {\n\t\t\t\tconst hooks = getJsonpTemplatePlugin().getCompilationHooks(compilation);\n\t\t\t\treturn hooks.linkPrefetch;\n\t\t\t},\n\t\t\tget linkPreload() {\n\t\t\t\tconst hooks = getJsonpTemplatePlugin().getCompilationHooks(compilation);\n\t\t\t\treturn hooks.linkPreload;\n\t\t\t}\n\t\t});\n\n\t\tthis.renderCurrentHashCode = util.deprecate(\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t * @param {string} hash the hash\n\t\t\t * @param {number=} length length of the hash\n\t\t\t * @returns {string} generated code\n\t\t\t */ (hash, length) => {\n\t\t\t\tif (length) {\n\t\t\t\t\treturn `${RuntimeGlobals.getFullHash} ? ${\n\t\t\t\t\t\tRuntimeGlobals.getFullHash\n\t\t\t\t\t}().slice(0, ${length}) : ${hash.slice(0, length)}`;\n\t\t\t\t}\n\t\t\t\treturn `${RuntimeGlobals.getFullHash} ? ${RuntimeGlobals.getFullHash}() : ${hash}`;\n\t\t\t},\n\t\t\t\"MainTemplate.renderCurrentHashCode is deprecated (use RuntimeGlobals.getFullHash runtime function instead)\",\n\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_RENDER_CURRENT_HASH_CODE\"\n\t\t);\n\n\t\tthis.getPublicPath = util.deprecate(\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {object} options get public path options\n\t\t\t * @returns {string} hook call\n\t\t\t */ options => {\n\t\t\t\treturn compilation.getAssetPath(\n\t\t\t\t\tcompilation.outputOptions.publicPath,\n\t\t\t\t\toptions\n\t\t\t\t);\n\t\t\t},\n\t\t\t\"MainTemplate.getPublicPath is deprecated (use Compilation.getAssetPath(compilation.outputOptions.publicPath, options) instead)\",\n\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_GET_PUBLIC_PATH\"\n\t\t);\n\n\t\tthis.getAssetPath = util.deprecate(\n\t\t\t(path, options) => {\n\t\t\t\treturn compilation.getAssetPath(path, options);\n\t\t\t},\n\t\t\t\"MainTemplate.getAssetPath is deprecated (use Compilation.getAssetPath instead)\",\n\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_GET_ASSET_PATH\"\n\t\t);\n\n\t\tthis.getAssetPathWithInfo = util.deprecate(\n\t\t\t(path, options) => {\n\t\t\t\treturn compilation.getAssetPathWithInfo(path, options);\n\t\t\t},\n\t\t\t\"MainTemplate.getAssetPathWithInfo is deprecated (use Compilation.getAssetPath instead)\",\n\t\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_GET_ASSET_PATH_WITH_INFO\"\n\t\t);\n\t}\n}\n\nObject.defineProperty(MainTemplate.prototype, \"requireFn\", {\n\tget: util.deprecate(\n\t\t() => \"__webpack_require__\",\n\t\t'MainTemplate.requireFn is deprecated (use \"__webpack_require__\")',\n\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_REQUIRE_FN\"\n\t)\n});\n\nObject.defineProperty(MainTemplate.prototype, \"outputOptions\", {\n\tget: util.deprecate(\n\t\t/**\n\t\t * @this {MainTemplate}\n\t\t * @returns {OutputOptions} output options\n\t\t */\n\t\tfunction () {\n\t\t\treturn this._outputOptions;\n\t\t},\n\t\t\"MainTemplate.outputOptions is deprecated (use Compilation.outputOptions instead)\",\n\t\t\"DEP_WEBPACK_MAIN_TEMPLATE_OUTPUT_OPTIONS\"\n\t)\n});\n\nmodule.exports = MainTemplate;\n"]},"metadata":{},"sourceType":"script"}