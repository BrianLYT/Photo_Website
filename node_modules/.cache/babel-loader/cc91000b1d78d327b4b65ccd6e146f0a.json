{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst isWeakKey = thing => typeof thing === \"object\" && thing !== null;\n/**\n * @template {any[]} T\n * @template V\n */\n\n\nclass WeakTupleMap {\n  constructor() {\n    /** @private */\n    this.f = 0;\n    /** @private @type {any} */\n\n    this.v = undefined;\n    /** @private @type {Map<object, WeakTupleMap<T, V>> | undefined} */\n\n    this.m = undefined;\n    /** @private @type {WeakMap<object, WeakTupleMap<T, V>> | undefined} */\n\n    this.w = undefined;\n  }\n  /**\n   * @param {[...T, V]} args tuple\n   * @returns {void}\n   */\n\n\n  set() {\n    var _ref;\n\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n\n    for (let i = 0; i < arguments.length - 1; i++) {\n      node = node._get(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n    }\n\n    node._setValue((_ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref]));\n  }\n  /**\n   * @param {T} args tuple\n   * @returns {boolean} true, if the tuple is in the Set\n   */\n\n\n  has() {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n\n    for (let i = 0; i < arguments.length; i++) {\n      node = node._peek(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n      if (node === undefined) return false;\n    }\n\n    return node._hasValue();\n  }\n  /**\n   * @param {T} args tuple\n   * @returns {V} the value\n   */\n\n\n  get() {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n\n    for (let i = 0; i < arguments.length; i++) {\n      node = node._peek(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n      if (node === undefined) return undefined;\n    }\n\n    return node._getValue();\n  }\n  /**\n   * @param {[...T, function(): V]} args tuple\n   * @returns {V} the value\n   */\n\n\n  provide() {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    for (let i = 0; i < args.length - 1; i++) {\n      node = node._get(args[i]);\n    }\n\n    if (node._hasValue()) return node._getValue();\n    const fn = args[args.length - 1];\n    const newValue = fn(...args.slice(0, -1));\n\n    node._setValue(newValue);\n\n    return newValue;\n  }\n  /**\n   * @param {T} args tuple\n   * @returns {void}\n   */\n\n\n  delete() {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n\n    for (let i = 0; i < arguments.length; i++) {\n      node = node._peek(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n      if (node === undefined) return;\n    }\n\n    node._deleteValue();\n  }\n  /**\n   * @returns {void}\n   */\n\n\n  clear() {\n    this.f = 0;\n    this.v = undefined;\n    this.w = undefined;\n    this.m = undefined;\n  }\n\n  _getValue() {\n    return this.v;\n  }\n\n  _hasValue() {\n    return (this.f & 1) === 1;\n  }\n\n  _setValue(v) {\n    this.f |= 1;\n    this.v = v;\n  }\n\n  _deleteValue() {\n    this.f &= 6;\n    this.v = undefined;\n  }\n\n  _peek(thing) {\n    if (isWeakKey(thing)) {\n      if ((this.f & 4) !== 4) return undefined;\n      return this.w.get(thing);\n    } else {\n      if ((this.f & 2) !== 2) return undefined;\n      return this.m.get(thing);\n    }\n  }\n\n  _get(thing) {\n    if (isWeakKey(thing)) {\n      if ((this.f & 4) !== 4) {\n        const newMap = new WeakMap();\n        this.f |= 4;\n        const newNode = new WeakTupleMap();\n        (this.w = newMap).set(thing, newNode);\n        return newNode;\n      }\n\n      const entry = this.w.get(thing);\n\n      if (entry !== undefined) {\n        return entry;\n      }\n\n      const newNode = new WeakTupleMap();\n      this.w.set(thing, newNode);\n      return newNode;\n    } else {\n      if ((this.f & 2) !== 2) {\n        const newMap = new Map();\n        this.f |= 2;\n        const newNode = new WeakTupleMap();\n        (this.m = newMap).set(thing, newNode);\n        return newNode;\n      }\n\n      const entry = this.m.get(thing);\n\n      if (entry !== undefined) {\n        return entry;\n      }\n\n      const newNode = new WeakTupleMap();\n      this.m.set(thing, newNode);\n      return newNode;\n    }\n  }\n\n}\n\nmodule.exports = WeakTupleMap;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/util/WeakTupleMap.js"],"names":["isWeakKey","thing","WeakTupleMap","constructor","f","v","undefined","m","w","set","node","i","length","_get","_setValue","has","_peek","_hasValue","get","_getValue","provide","args","fn","newValue","slice","delete","_deleteValue","clear","newMap","WeakMap","newNode","entry","Map","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst isWeakKey = thing => typeof thing === \"object\" && thing !== null;\n\n/**\n * @template {any[]} T\n * @template V\n */\nclass WeakTupleMap {\n\tconstructor() {\n\t\t/** @private */\n\t\tthis.f = 0;\n\t\t/** @private @type {any} */\n\t\tthis.v = undefined;\n\t\t/** @private @type {Map<object, WeakTupleMap<T, V>> | undefined} */\n\t\tthis.m = undefined;\n\t\t/** @private @type {WeakMap<object, WeakTupleMap<T, V>> | undefined} */\n\t\tthis.w = undefined;\n\t}\n\n\t/**\n\t * @param {[...T, V]} args tuple\n\t * @returns {void}\n\t */\n\tset(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length - 1; i++) {\n\t\t\tnode = node._get(args[i]);\n\t\t}\n\t\tnode._setValue(args[args.length - 1]);\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {boolean} true, if the tuple is in the Set\n\t */\n\thas(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return false;\n\t\t}\n\t\treturn node._hasValue();\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {V} the value\n\t */\n\tget(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return undefined;\n\t\t}\n\t\treturn node._getValue();\n\t}\n\n\t/**\n\t * @param {[...T, function(): V]} args tuple\n\t * @returns {V} the value\n\t */\n\tprovide(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length - 1; i++) {\n\t\t\tnode = node._get(args[i]);\n\t\t}\n\t\tif (node._hasValue()) return node._getValue();\n\t\tconst fn = args[args.length - 1];\n\t\tconst newValue = fn(...args.slice(0, -1));\n\t\tnode._setValue(newValue);\n\t\treturn newValue;\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {void}\n\t */\n\tdelete(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return;\n\t\t}\n\t\tnode._deleteValue();\n\t}\n\n\t/**\n\t * @returns {void}\n\t */\n\tclear() {\n\t\tthis.f = 0;\n\t\tthis.v = undefined;\n\t\tthis.w = undefined;\n\t\tthis.m = undefined;\n\t}\n\n\t_getValue() {\n\t\treturn this.v;\n\t}\n\n\t_hasValue() {\n\t\treturn (this.f & 1) === 1;\n\t}\n\n\t_setValue(v) {\n\t\tthis.f |= 1;\n\t\tthis.v = v;\n\t}\n\n\t_deleteValue() {\n\t\tthis.f &= 6;\n\t\tthis.v = undefined;\n\t}\n\n\t_peek(thing) {\n\t\tif (isWeakKey(thing)) {\n\t\t\tif ((this.f & 4) !== 4) return undefined;\n\t\t\treturn this.w.get(thing);\n\t\t} else {\n\t\t\tif ((this.f & 2) !== 2) return undefined;\n\t\t\treturn this.m.get(thing);\n\t\t}\n\t}\n\n\t_get(thing) {\n\t\tif (isWeakKey(thing)) {\n\t\t\tif ((this.f & 4) !== 4) {\n\t\t\t\tconst newMap = new WeakMap();\n\t\t\t\tthis.f |= 4;\n\t\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t\t(this.w = newMap).set(thing, newNode);\n\t\t\t\treturn newNode;\n\t\t\t}\n\t\t\tconst entry = this.w.get(thing);\n\t\t\tif (entry !== undefined) {\n\t\t\t\treturn entry;\n\t\t\t}\n\t\t\tconst newNode = new WeakTupleMap();\n\t\t\tthis.w.set(thing, newNode);\n\t\t\treturn newNode;\n\t\t} else {\n\t\t\tif ((this.f & 2) !== 2) {\n\t\t\t\tconst newMap = new Map();\n\t\t\t\tthis.f |= 2;\n\t\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t\t(this.m = newMap).set(thing, newNode);\n\t\t\t\treturn newNode;\n\t\t\t}\n\t\t\tconst entry = this.m.get(thing);\n\t\t\tif (entry !== undefined) {\n\t\t\t\treturn entry;\n\t\t\t}\n\t\t\tconst newNode = new WeakTupleMap();\n\t\t\tthis.m.set(thing, newNode);\n\t\t\treturn newNode;\n\t\t}\n\t}\n}\n\nmodule.exports = WeakTupleMap;\n"]},"metadata":{},"sourceType":"script"}