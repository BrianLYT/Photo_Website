{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Template = require(\"../Template\");\n\nconst {\n  cleverMerge\n} = require(\"../util/cleverMerge\");\n\nconst {\n  getTargetsProperties,\n  getTargetProperties,\n  getDefaultTarget\n} = require(\"./target\");\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\n\nconst D = (obj, prop, value) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = value;\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst F = (obj, prop, factory) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = factory();\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst A = (obj, prop, factory) => {\n  const value = obj[prop];\n\n  if (value === undefined) {\n    obj[prop] = factory();\n  } else if (Array.isArray(value)) {\n    /** @type {any[]} */\n    let newArray = undefined;\n\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n\n      if (item === \"...\") {\n        if (newArray === undefined) {\n          newArray = value.slice(0, i);\n          obj[prop] =\n          /** @type {T[P]} */\n\n          /** @type {unknown} */\n          newArray;\n        }\n\n        const items =\n        /** @type {any[]} */\n\n        /** @type {unknown} */\n        factory();\n\n        if (items !== undefined) {\n          for (const item of items) {\n            newArray.push(item);\n          }\n        }\n      } else if (newArray !== undefined) {\n        newArray.push(item);\n      }\n    }\n  }\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsBaseDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  applyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  F(options, \"target\", () => {\n    return getDefaultTarget(options.context);\n  });\n  const {\n    mode,\n    name,\n    target\n  } = options;\n  let targetProperties = target === false ?\n  /** @type {false} */\n  false : typeof target === \"string\" ? getTargetProperties(target, options.context) : getTargetsProperties(target, options.context);\n  const development = mode === \"development\";\n  const production = mode === \"production\" || !mode;\n\n  if (typeof options.entry !== \"function\") {\n    for (const key of Object.keys(options.entry)) {\n      F(options.entry[key], \"import\", () =>\n      /** @type {[string]} */\n      [\"./src\"]);\n    }\n  }\n\n  F(options, \"devtool\", () => development ? \"eval\" : false);\n  D(options, \"watch\", false);\n  D(options, \"profile\", false);\n  D(options, \"parallelism\", 100);\n  D(options, \"recordsInputPath\", false);\n  D(options, \"recordsOutputPath\", false);\n  applyExperimentsDefaults(options.experiments, {\n    production,\n    development,\n    targetProperties\n  });\n  const futureDefaults = options.experiments.futureDefaults;\n  F(options, \"cache\", () => development ? {\n    type:\n    /** @type {\"memory\"} */\n    \"memory\"\n  } : false);\n  applyCacheDefaults(options.cache, {\n    name: name || \"default\",\n    mode: mode || \"production\",\n    development,\n    cacheUnaffected: options.experiments.cacheUnaffected\n  });\n  const cache = !!options.cache;\n  applySnapshotDefaults(options.snapshot, {\n    production,\n    futureDefaults\n  });\n  applyModuleDefaults(options.module, {\n    cache,\n    syncWebAssembly: options.experiments.syncWebAssembly,\n    asyncWebAssembly: options.experiments.asyncWebAssembly,\n    css: options.experiments.css,\n    futureDefaults\n  });\n  applyOutputDefaults(options.output, {\n    context: options.context,\n    targetProperties,\n    isAffectedByBrowserslist: target === undefined || typeof target === \"string\" && target.startsWith(\"browserslist\") || Array.isArray(target) && target.some(target => target.startsWith(\"browserslist\")),\n    outputModule: options.experiments.outputModule,\n    development,\n    entry: options.entry,\n    module: options.module,\n    futureDefaults\n  });\n  applyExternalsPresetsDefaults(options.externalsPresets, {\n    targetProperties,\n    buildHttp: !!options.experiments.buildHttp\n  });\n  applyLoaderDefaults(options.loader, {\n    targetProperties\n  });\n  F(options, \"externalsType\", () => {\n    const validExternalTypes = require(\"../../schemas/WebpackOptions.json\").definitions.ExternalsType.enum;\n\n    return options.output.library && validExternalTypes.includes(options.output.library.type) ?\n    /** @type {ExternalsType} */\n    options.output.library.type : options.output.module ? \"module\" : \"var\";\n  });\n  applyNodeDefaults(options.node, {\n    futureDefaults: options.experiments.futureDefaults,\n    targetProperties\n  });\n  F(options, \"performance\", () => production && targetProperties && (targetProperties.browser || targetProperties.browser === null) ? {} : false);\n  applyPerformanceDefaults(options.performance, {\n    production\n  });\n  applyOptimizationDefaults(options.optimization, {\n    development,\n    production,\n    css: options.experiments.css,\n    records: !!(options.recordsInputPath || options.recordsOutputPath)\n  });\n  options.resolve = cleverMerge(getResolveDefaults({\n    cache,\n    context: options.context,\n    targetProperties,\n    mode: options.mode\n  }), options.resolve);\n  options.resolveLoader = cleverMerge(getResolveLoaderDefaults({\n    cache\n  }), options.resolveLoader);\n};\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\n\n\nconst applyExperimentsDefaults = (experiments, _ref) => {\n  let {\n    production,\n    development,\n    targetProperties\n  } = _ref;\n  D(experiments, \"futureDefaults\", false);\n  D(experiments, \"backCompat\", !experiments.futureDefaults);\n  D(experiments, \"topLevelAwait\", experiments.futureDefaults);\n  D(experiments, \"syncWebAssembly\", false);\n  D(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n  D(experiments, \"outputModule\", false);\n  D(experiments, \"layers\", false);\n  D(experiments, \"lazyCompilation\", undefined);\n  D(experiments, \"buildHttp\", undefined);\n  D(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n  F(experiments, \"css\", () => experiments.futureDefaults ? {} : undefined);\n\n  if (typeof experiments.buildHttp === \"object\") {\n    D(experiments.buildHttp, \"frozen\", production);\n    D(experiments.buildHttp, \"upgrade\", false);\n  }\n\n  if (typeof experiments.css === \"object\") {\n    D(experiments.css, \"exportsOnly\", !targetProperties || !targetProperties.document);\n  }\n};\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {string} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\n\n\nconst applyCacheDefaults = (cache, _ref2) => {\n  let {\n    name,\n    mode,\n    development,\n    cacheUnaffected\n  } = _ref2;\n  if (cache === false) return;\n\n  switch (cache.type) {\n    case \"filesystem\":\n      F(cache, \"name\", () => name + \"-\" + mode);\n      D(cache, \"version\", \"\");\n      F(cache, \"cacheDirectory\", () => {\n        const cwd = process.cwd();\n        let dir = cwd;\n\n        for (;;) {\n          try {\n            if (fs.statSync(path.join(dir, \"package.json\")).isFile()) break; // eslint-disable-next-line no-empty\n          } catch (e) {}\n\n          const parent = path.dirname(dir);\n\n          if (dir === parent) {\n            dir = undefined;\n            break;\n          }\n\n          dir = parent;\n        }\n\n        if (!dir) {\n          return path.resolve(cwd, \".cache/webpack\");\n        } else if (process.versions.pnp === \"1\") {\n          return path.resolve(dir, \".pnp/.cache/webpack\");\n        } else if (process.versions.pnp === \"3\") {\n          return path.resolve(dir, \".yarn/.cache/webpack\");\n        } else {\n          return path.resolve(dir, \"node_modules/.cache/webpack\");\n        }\n      });\n      F(cache, \"cacheLocation\", () => path.resolve(cache.cacheDirectory, cache.name));\n      D(cache, \"hashAlgorithm\", \"md4\");\n      D(cache, \"store\", \"pack\");\n      D(cache, \"compression\", false);\n      D(cache, \"profile\", false);\n      D(cache, \"idleTimeout\", 60000);\n      D(cache, \"idleTimeoutForInitialStore\", 5000);\n      D(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n      D(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n      D(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\n      D(cache, \"allowCollectingMemory\", development);\n      D(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n      D(cache.buildDependencies, \"defaultWebpack\", [path.resolve(__dirname, \"..\") + path.sep]);\n      break;\n\n    case \"memory\":\n      D(cache, \"maxGenerations\", Infinity);\n      D(cache, \"cacheUnaffected\", development && cacheUnaffected);\n      break;\n  }\n};\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applySnapshotDefaults = (snapshot, _ref3) => {\n  let {\n    production,\n    futureDefaults\n  } = _ref3;\n\n  if (futureDefaults) {\n    F(snapshot, \"managedPaths\", () => process.versions.pnp === \"3\" ? [/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/] : [/^(.+?[\\\\/]node_modules[\\\\/])/]);\n    F(snapshot, \"immutablePaths\", () => process.versions.pnp === \"3\" ? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/] : []);\n  } else {\n    A(snapshot, \"managedPaths\", () => {\n      if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [path.resolve(match[1], \"unplugged\")];\n        }\n      } else {\n        const match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec( // eslint-disable-next-line node/no-extraneous-require\n        require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n    A(snapshot, \"immutablePaths\", () => {\n      if (process.versions.pnp === \"1\") {\n        const match = /^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      } else if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n  }\n\n  F(snapshot, \"resolveBuildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"buildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"module\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n  F(snapshot, \"resolve\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n};\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyJavascriptParserOptionsDefaults = (parserOptions, _ref4) => {\n  let {\n    futureDefaults\n  } = _ref4;\n  D(parserOptions, \"unknownContextRequest\", \".\");\n  D(parserOptions, \"unknownContextRegExp\", false);\n  D(parserOptions, \"unknownContextRecursive\", true);\n  D(parserOptions, \"unknownContextCritical\", true);\n  D(parserOptions, \"exprContextRequest\", \".\");\n  D(parserOptions, \"exprContextRegExp\", false);\n  D(parserOptions, \"exprContextRecursive\", true);\n  D(parserOptions, \"exprContextCritical\", true);\n  D(parserOptions, \"wrappedContextRegExp\", /.*/);\n  D(parserOptions, \"wrappedContextRecursive\", true);\n  D(parserOptions, \"wrappedContextCritical\", false);\n  D(parserOptions, \"strictThisContextOnImports\", false);\n  D(parserOptions, \"importMeta\", true);\n  if (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyModuleDefaults = (module, _ref5) => {\n  let {\n    cache,\n    syncWebAssembly,\n    asyncWebAssembly,\n    css,\n    futureDefaults\n  } = _ref5;\n\n  if (cache) {\n    D(module, \"unsafeCache\", module => {\n      const name = module.nameForCondition();\n      return name && NODE_MODULES_REGEXP.test(name);\n    });\n  } else {\n    D(module, \"unsafeCache\", false);\n  }\n\n  F(module.parser, \"asset\", () => ({}));\n  F(module.parser.asset, \"dataUrlCondition\", () => ({}));\n\n  if (typeof module.parser.asset.dataUrlCondition === \"object\") {\n    D(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n  }\n\n  F(module.parser, \"javascript\", () => ({}));\n  applyJavascriptParserOptionsDefaults(module.parser.javascript, {\n    futureDefaults\n  });\n  A(module, \"defaultRules\", () => {\n    const esm = {\n      type: \"javascript/esm\",\n      resolve: {\n        byDependency: {\n          esm: {\n            fullySpecified: true\n          }\n        }\n      }\n    };\n    const commonjs = {\n      type: \"javascript/dynamic\"\n    };\n    /** @type {RuleSetRules} */\n\n    const rules = [{\n      mimetype: \"application/node\",\n      type: \"javascript/auto\"\n    }, {\n      test: /\\.json$/i,\n      type: \"json\"\n    }, {\n      mimetype: \"application/json\",\n      type: \"json\"\n    }, {\n      test: /\\.mjs$/i,\n      ...esm\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"module\"\n      },\n      ...esm\n    }, {\n      test: /\\.cjs$/i,\n      ...commonjs\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"commonjs\"\n      },\n      ...commonjs\n    }, {\n      mimetype: {\n        or: [\"text/javascript\", \"application/javascript\"]\n      },\n      ...esm\n    }];\n\n    if (asyncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/async\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    } else if (syncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/sync\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    }\n\n    if (css) {\n      const cssRule = {\n        type: \"css\",\n        resolve: {\n          fullySpecified: true,\n          preferRelative: true\n        }\n      };\n      const cssModulesRule = {\n        type: \"css/module\",\n        resolve: {\n          fullySpecified: true\n        }\n      };\n      rules.push({\n        test: /\\.css$/i,\n        oneOf: [{\n          test: /\\.module\\.css$/i,\n          ...cssModulesRule\n        }, { ...cssRule\n        }]\n      });\n      rules.push({\n        mimetype: \"text/css+module\",\n        ...cssModulesRule\n      });\n      rules.push({\n        mimetype: \"text/css\",\n        ...cssRule\n      });\n    }\n\n    rules.push({\n      dependency: \"url\",\n      oneOf: [{\n        scheme: /^data$/,\n        type: \"asset/inline\"\n      }, {\n        type: \"asset/resource\"\n      }]\n    }, {\n      assert: {\n        type: \"json\"\n      },\n      type: \"json\"\n    });\n    return rules;\n  });\n};\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyOutputDefaults = (output, _ref6) => {\n  let {\n    context,\n    targetProperties: tp,\n    isAffectedByBrowserslist,\n    outputModule,\n    development,\n    entry,\n    module,\n    futureDefaults\n  } = _ref6;\n\n  /**\n   * @param {Library=} library the library option\n   * @returns {string} a readable library name\n   */\n  const getLibraryName = library => {\n    const libraryName = typeof library === \"object\" && library && !Array.isArray(library) && \"type\" in library ? library.name :\n    /** @type {LibraryName=} */\n    library;\n\n    if (Array.isArray(libraryName)) {\n      return libraryName.join(\".\");\n    } else if (typeof libraryName === \"object\") {\n      return getLibraryName(libraryName.root);\n    } else if (typeof libraryName === \"string\") {\n      return libraryName;\n    }\n\n    return \"\";\n  };\n\n  F(output, \"uniqueName\", () => {\n    const libraryName = getLibraryName(output.library);\n    if (libraryName) return libraryName;\n    const pkgPath = path.resolve(context, \"package.json\");\n\n    try {\n      const packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n      return packageInfo.name || \"\";\n    } catch (e) {\n      if (e.code !== \"ENOENT\") {\n        e.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n        throw e;\n      }\n\n      return \"\";\n    }\n  });\n  F(output, \"module\", () => !!outputModule);\n  D(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n  F(output, \"iife\", () => !output.module);\n  D(output, \"importFunctionName\", \"import\");\n  D(output, \"importMetaName\", \"import.meta\");\n  F(output, \"chunkFilename\", () => {\n    const filename = output.filename;\n\n    if (typeof filename !== \"function\") {\n      const hasName = filename.includes(\"[name]\");\n      const hasId = filename.includes(\"[id]\");\n      const hasChunkHash = filename.includes(\"[chunkhash]\");\n      const hasContentHash = filename.includes(\"[contenthash]\"); // Anything changing depending on chunk is fine\n\n      if (hasChunkHash || hasContentHash || hasName || hasId) return filename; // Otherwise prefix \"[id].\" in front of the basename to make it changing\n\n      return filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n    }\n\n    return output.module ? \"[id].mjs\" : \"[id].js\";\n  });\n  F(output, \"cssFilename\", () => {\n    const filename = output.filename;\n\n    if (typeof filename !== \"function\") {\n      return filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  F(output, \"cssChunkFilename\", () => {\n    const chunkFilename = output.chunkFilename;\n\n    if (typeof chunkFilename !== \"function\") {\n      return chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  D(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n  D(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n  D(output, \"compareBeforeEmit\", true);\n  D(output, \"charset\", true);\n  F(output, \"hotUpdateGlobal\", () => Template.toIdentifier(\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"chunkLoadingGlobal\", () => Template.toIdentifier(\"webpackChunk\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"globalObject\", () => {\n    if (tp) {\n      if (tp.global) return \"global\";\n      if (tp.globalThis) return \"globalThis\";\n    }\n\n    return \"self\";\n  });\n  F(output, \"chunkFormat\", () => {\n    if (tp) {\n      const helpMessage = isAffectedByBrowserslist ? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\" : \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\n      if (output.module) {\n        if (tp.dynamicImport) return \"module\";\n        if (tp.document) return \"array-push\";\n        throw new Error(\"For the selected environment is no default ESM chunk format available:\\n\" + \"ESM exports can be chosen when 'import()' is available.\\n\" + \"JSONP Array push can be chosen when 'document' is available.\\n\" + helpMessage);\n      } else {\n        if (tp.document) return \"array-push\";\n        if (tp.require) return \"commonjs\";\n        if (tp.nodeBuiltins) return \"commonjs\";\n        if (tp.importScripts) return \"array-push\";\n        throw new Error(\"For the selected environment is no default script chunk format available:\\n\" + \"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" + \"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" + helpMessage);\n      }\n    }\n\n    throw new Error(\"Chunk format can't be selected by default when no target is specified\");\n  });\n  D(output, \"asyncChunks\", true);\n  F(output, \"chunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.document) return \"jsonp\";\n          if (tp.importScripts) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImport) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.document === null || tp.importScripts === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerChunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.importScriptsInWorker) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImportInWorker) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.importScriptsInWorker === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"wasmLoading\", () => {\n    if (tp) {\n      if (tp.fetchWasm) return \"fetch\";\n      if (tp.nodeBuiltins) return output.module ? \"async-node-module\" : \"async-node\";\n\n      if (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerWasmLoading\", () => output.wasmLoading);\n  F(output, \"devtoolNamespace\", () => output.uniqueName);\n\n  if (output.library) {\n    F(output.library, \"type\", () => output.module ? \"module\" : \"var\");\n  }\n\n  F(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n  F(output, \"pathinfo\", () => development);\n  D(output, \"sourceMapFilename\", \"[file].map[query]\");\n  D(output, \"hotUpdateChunkFilename\", `[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`);\n  D(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n  D(output, \"crossOriginLoading\", false);\n  F(output, \"scriptType\", () => output.module ? \"module\" : false);\n  D(output, \"publicPath\", tp && (tp.document || tp.importScripts) || output.scriptType === \"module\" ? \"auto\" : \"\");\n  D(output, \"chunkLoadTimeout\", 120000);\n  D(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n  D(output, \"hashDigest\", \"hex\");\n  D(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n  D(output, \"strictModuleExceptionHandling\", false);\n\n  const optimistic = v => v || v === undefined;\n\n  const conditionallyOptimistic = (v, c) => v === undefined && c || v;\n\n  F(output.environment, \"arrowFunction\", () => tp && optimistic(tp.arrowFunction));\n  F(output.environment, \"const\", () => tp && optimistic(tp.const));\n  F(output.environment, \"destructuring\", () => tp && optimistic(tp.destructuring));\n  F(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\n  F(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\n  F(output.environment, \"dynamicImport\", () => conditionallyOptimistic(tp && tp.dynamicImport, output.module));\n  F(output.environment, \"module\", () => conditionallyOptimistic(tp && tp.module, output.module));\n  const {\n    trustedTypes\n  } = output;\n\n  if (trustedTypes) {\n    F(trustedTypes, \"policyName\", () => output.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\");\n  }\n  /**\n   * @param {function(EntryDescription): void} fn iterator\n   * @returns {void}\n   */\n\n\n  const forEachEntry = fn => {\n    for (const name of Object.keys(entry)) {\n      fn(entry[name]);\n    }\n  };\n\n  A(output, \"enabledLibraryTypes\", () => {\n    const enabledLibraryTypes = [];\n\n    if (output.library) {\n      enabledLibraryTypes.push(output.library.type);\n    }\n\n    forEachEntry(desc => {\n      if (desc.library) {\n        enabledLibraryTypes.push(desc.library.type);\n      }\n    });\n    return enabledLibraryTypes;\n  });\n  A(output, \"enabledChunkLoadingTypes\", () => {\n    const enabledChunkLoadingTypes = new Set();\n\n    if (output.chunkLoading) {\n      enabledChunkLoadingTypes.add(output.chunkLoading);\n    }\n\n    if (output.workerChunkLoading) {\n      enabledChunkLoadingTypes.add(output.workerChunkLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.chunkLoading) {\n        enabledChunkLoadingTypes.add(desc.chunkLoading);\n      }\n    });\n    return Array.from(enabledChunkLoadingTypes);\n  });\n  A(output, \"enabledWasmLoadingTypes\", () => {\n    const enabledWasmLoadingTypes = new Set();\n\n    if (output.wasmLoading) {\n      enabledWasmLoadingTypes.add(output.wasmLoading);\n    }\n\n    if (output.workerWasmLoading) {\n      enabledWasmLoadingTypes.add(output.workerWasmLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.wasmLoading) {\n        enabledWasmLoadingTypes.add(desc.wasmLoading);\n      }\n    });\n    return Array.from(enabledWasmLoadingTypes);\n  });\n};\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\n\n\nconst applyExternalsPresetsDefaults = (externalsPresets, _ref7) => {\n  let {\n    targetProperties,\n    buildHttp\n  } = _ref7;\n  D(externalsPresets, \"web\", !buildHttp && targetProperties && targetProperties.web);\n  D(externalsPresets, \"node\", targetProperties && targetProperties.node);\n  D(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\n  D(externalsPresets, \"electron\", targetProperties && targetProperties.electron);\n  D(externalsPresets, \"electronMain\", targetProperties && targetProperties.electron && targetProperties.electronMain);\n  D(externalsPresets, \"electronPreload\", targetProperties && targetProperties.electron && targetProperties.electronPreload);\n  D(externalsPresets, \"electronRenderer\", targetProperties && targetProperties.electron && targetProperties.electronRenderer);\n};\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\n\n\nconst applyLoaderDefaults = (loader, _ref8) => {\n  let {\n    targetProperties\n  } = _ref8;\n  F(loader, \"target\", () => {\n    if (targetProperties) {\n      if (targetProperties.electron) {\n        if (targetProperties.electronMain) return \"electron-main\";\n        if (targetProperties.electronPreload) return \"electron-preload\";\n        if (targetProperties.electronRenderer) return \"electron-renderer\";\n        return \"electron\";\n      }\n\n      if (targetProperties.nwjs) return \"nwjs\";\n      if (targetProperties.node) return \"node\";\n      if (targetProperties.web) return \"web\";\n    }\n  });\n};\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyNodeDefaults = (node, _ref9) => {\n  let {\n    futureDefaults,\n    targetProperties\n  } = _ref9;\n  if (node === false) return;\n  F(node, \"global\", () => {\n    if (targetProperties && targetProperties.global) return false; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn\" : true;\n  });\n  F(node, \"__filename\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n  F(node, \"__dirname\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n};\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\n\n\nconst applyPerformanceDefaults = (performance, _ref10) => {\n  let {\n    production\n  } = _ref10;\n  if (performance === false) return;\n  D(performance, \"maxAssetSize\", 250000);\n  D(performance, \"maxEntrypointSize\", 250000);\n  F(performance, \"hints\", () => production ? \"warning\" : false);\n};\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\n\n\nconst applyOptimizationDefaults = (optimization, _ref11) => {\n  let {\n    production,\n    development,\n    css,\n    records\n  } = _ref11;\n  D(optimization, \"removeAvailableModules\", false);\n  D(optimization, \"removeEmptyChunks\", true);\n  D(optimization, \"mergeDuplicateChunks\", true);\n  D(optimization, \"flagIncludedChunks\", production);\n  F(optimization, \"moduleIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"chunkIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"sideEffects\", () => production ? true : \"flag\");\n  D(optimization, \"providedExports\", true);\n  D(optimization, \"usedExports\", production);\n  D(optimization, \"innerGraph\", production);\n  D(optimization, \"mangleExports\", production);\n  D(optimization, \"concatenateModules\", production);\n  D(optimization, \"runtimeChunk\", false);\n  D(optimization, \"emitOnErrors\", !production);\n  D(optimization, \"checkWasmTypes\", production);\n  D(optimization, \"mangleWasmImports\", false);\n  D(optimization, \"portableRecords\", records);\n  D(optimization, \"realContentHash\", production);\n  D(optimization, \"minimize\", production);\n  A(optimization, \"minimizer\", () => [{\n    apply: compiler => {\n      // Lazy load the Terser plugin\n      const TerserPlugin = require(\"terser-webpack-plugin\");\n\n      new TerserPlugin({\n        terserOptions: {\n          compress: {\n            passes: 2\n          }\n        }\n      }).apply(compiler);\n    }\n  }]);\n  F(optimization, \"nodeEnv\", () => {\n    if (production) return \"production\";\n    if (development) return \"development\";\n    return false;\n  });\n  const {\n    splitChunks\n  } = optimization;\n\n  if (splitChunks) {\n    A(splitChunks, \"defaultSizeTypes\", () => css ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]);\n    D(splitChunks, \"hidePathInfo\", production);\n    D(splitChunks, \"chunks\", \"async\");\n    D(splitChunks, \"usedExports\", optimization.usedExports === true);\n    D(splitChunks, \"minChunks\", 1);\n    F(splitChunks, \"minSize\", () => production ? 20000 : 10000);\n    F(splitChunks, \"minRemainingSize\", () => development ? 0 : undefined);\n    F(splitChunks, \"enforceSizeThreshold\", () => production ? 50000 : 30000);\n    F(splitChunks, \"maxAsyncRequests\", () => production ? 30 : Infinity);\n    F(splitChunks, \"maxInitialRequests\", () => production ? 30 : Infinity);\n    D(splitChunks, \"automaticNameDelimiter\", \"-\");\n    const {\n      cacheGroups\n    } = splitChunks;\n    F(cacheGroups, \"default\", () => ({\n      idHint: \"\",\n      reuseExistingChunk: true,\n      minChunks: 2,\n      priority: -20\n    }));\n    F(cacheGroups, \"defaultVendors\", () => ({\n      idHint: \"vendors\",\n      reuseExistingChunk: true,\n      test: NODE_MODULES_REGEXP,\n      priority: -10\n    }));\n  }\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveDefaults = _ref12 => {\n  let {\n    cache,\n    context,\n    targetProperties,\n    mode\n  } = _ref12;\n\n  /** @type {string[]} */\n  const conditions = [\"webpack\"];\n  conditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n  if (targetProperties) {\n    if (targetProperties.webworker) conditions.push(\"worker\");\n    if (targetProperties.node) conditions.push(\"node\");\n    if (targetProperties.web) conditions.push(\"browser\");\n    if (targetProperties.electron) conditions.push(\"electron\");\n    if (targetProperties.nwjs) conditions.push(\"nwjs\");\n  }\n\n  const jsExtensions = [\".js\", \".json\", \".wasm\"];\n  const tp = targetProperties;\n  const browserField = tp && tp.web && (!tp.node || tp.electron && tp.electronRenderer);\n  /** @type {function(): ResolveOptions} */\n\n  const cjsDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"require\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {function(): ResolveOptions} */\n\n\n  const esmDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"import\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {ResolveOptions} */\n\n\n  const resolveOptions = {\n    cache,\n    modules: [\"node_modules\"],\n    conditionNames: conditions,\n    mainFiles: [\"index\"],\n    extensions: [],\n    aliasFields: [],\n    exportsFields: [\"exports\"],\n    roots: [context],\n    mainFields: [\"main\"],\n    byDependency: {\n      wasm: esmDeps(),\n      esm: esmDeps(),\n      loaderImport: esmDeps(),\n      url: {\n        preferRelative: true\n      },\n      worker: { ...esmDeps(),\n        preferRelative: true\n      },\n      commonjs: cjsDeps(),\n      amd: cjsDeps(),\n      // for backward-compat: loadModule\n      loader: cjsDeps(),\n      // for backward-compat: Custom Dependency\n      unknown: cjsDeps(),\n      // for backward-compat: getResolve without dependencyType\n      undefined: cjsDeps()\n    }\n  };\n  return resolveOptions;\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveLoaderDefaults = _ref13 => {\n  let {\n    cache\n  } = _ref13;\n\n  /** @type {ResolveOptions} */\n  const resolveOptions = {\n    cache,\n    conditionNames: [\"loader\", \"require\", \"node\"],\n    exportsFields: [\"exports\"],\n    mainFields: [\"loader\", \"main\"],\n    extensions: [\".js\"],\n    mainFiles: [\"index\"]\n  };\n  return resolveOptions;\n};\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\n\n\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n  F(infrastructureLogging, \"stream\", () => process.stderr);\n  const tty =\n  /** @type {any} */\n  infrastructureLogging.stream.isTTY && process.env.TERM !== \"dumb\";\n  D(infrastructureLogging, \"level\", \"info\");\n  D(infrastructureLogging, \"debug\", false);\n  D(infrastructureLogging, \"colors\", tty);\n  D(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/config/defaults.js"],"names":["fs","require","path","Template","cleverMerge","getTargetsProperties","getTargetProperties","getDefaultTarget","NODE_MODULES_REGEXP","D","obj","prop","value","undefined","F","factory","A","Array","isArray","newArray","i","length","item","slice","items","push","applyWebpackOptionsBaseDefaults","options","process","cwd","applyInfrastructureLoggingDefaults","infrastructureLogging","applyWebpackOptionsDefaults","context","mode","name","target","targetProperties","development","production","entry","key","Object","keys","applyExperimentsDefaults","experiments","futureDefaults","type","applyCacheDefaults","cache","cacheUnaffected","applySnapshotDefaults","snapshot","applyModuleDefaults","module","syncWebAssembly","asyncWebAssembly","css","applyOutputDefaults","output","isAffectedByBrowserslist","startsWith","some","outputModule","applyExternalsPresetsDefaults","externalsPresets","buildHttp","applyLoaderDefaults","loader","validExternalTypes","definitions","ExternalsType","enum","library","includes","applyNodeDefaults","node","browser","applyPerformanceDefaults","performance","applyOptimizationDefaults","optimization","records","recordsInputPath","recordsOutputPath","resolve","getResolveDefaults","resolveLoader","getResolveLoaderDefaults","document","dir","statSync","join","isFile","e","parent","dirname","versions","pnp","cacheDirectory","Infinity","buildDependencies","__dirname","sep","match","exec","timestamp","hash","applyJavascriptParserOptionsDefaults","parserOptions","nameForCondition","test","parser","asset","dataUrlCondition","javascript","esm","byDependency","fullySpecified","commonjs","rules","mimetype","descriptionData","or","wasm","cssRule","preferRelative","cssModulesRule","oneOf","dependency","scheme","assert","tp","getLibraryName","libraryName","root","pkgPath","packageInfo","JSON","parse","readFileSync","code","message","filename","hasName","hasId","hasChunkHash","hasContentHash","replace","chunkFilename","toIdentifier","uniqueName","global","globalThis","helpMessage","dynamicImport","Error","nodeBuiltins","importScripts","chunkFormat","importScriptsInWorker","dynamicImportInWorker","fetchWasm","wasmLoading","scriptType","optimistic","v","conditionallyOptimistic","c","environment","arrowFunction","const","destructuring","forOf","bigIntLiteral","trustedTypes","forEachEntry","fn","enabledLibraryTypes","desc","enabledChunkLoadingTypes","Set","chunkLoading","add","workerChunkLoading","from","enabledWasmLoadingTypes","workerWasmLoading","web","nwjs","electron","electronMain","electronPreload","electronRenderer","apply","compiler","TerserPlugin","terserOptions","compress","passes","splitChunks","usedExports","cacheGroups","idHint","reuseExistingChunk","minChunks","priority","conditions","webworker","jsExtensions","browserField","cjsDeps","aliasFields","mainFields","conditionNames","extensions","esmDeps","resolveOptions","modules","mainFiles","exportsFields","roots","loaderImport","url","worker","amd","unknown","stderr","tty","stream","isTTY","env","TERM","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Template = require(\"../Template\");\nconst { cleverMerge } = require(\"../util/cleverMerge\");\nconst {\n\tgetTargetsProperties,\n\tgetTargetProperties,\n\tgetDefaultTarget\n} = require(\"./target\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\nconst D = (obj, prop, value) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = value;\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst F = (obj, prop, factory) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = factory();\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst A = (obj, prop, factory) => {\n\tconst value = obj[prop];\n\tif (value === undefined) {\n\t\tobj[prop] = factory();\n\t} else if (Array.isArray(value)) {\n\t\t/** @type {any[]} */\n\t\tlet newArray = undefined;\n\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\tconst item = value[i];\n\t\t\tif (item === \"...\") {\n\t\t\t\tif (newArray === undefined) {\n\t\t\t\t\tnewArray = value.slice(0, i);\n\t\t\t\t\tobj[prop] = /** @type {T[P]} */ (/** @type {unknown} */ (newArray));\n\t\t\t\t}\n\t\t\t\tconst items = /** @type {any[]} */ (/** @type {unknown} */ (factory()));\n\t\t\t\tif (items !== undefined) {\n\t\t\t\t\tfor (const item of items) {\n\t\t\t\t\t\tnewArray.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (newArray !== undefined) {\n\t\t\t\tnewArray.push(item);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsBaseDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tapplyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tF(options, \"target\", () => {\n\t\treturn getDefaultTarget(options.context);\n\t});\n\n\tconst { mode, name, target } = options;\n\n\tlet targetProperties =\n\t\ttarget === false\n\t\t\t? /** @type {false} */ (false)\n\t\t\t: typeof target === \"string\"\n\t\t\t? getTargetProperties(target, options.context)\n\t\t\t: getTargetsProperties(target, options.context);\n\n\tconst development = mode === \"development\";\n\tconst production = mode === \"production\" || !mode;\n\n\tif (typeof options.entry !== \"function\") {\n\t\tfor (const key of Object.keys(options.entry)) {\n\t\t\tF(\n\t\t\t\toptions.entry[key],\n\t\t\t\t\"import\",\n\t\t\t\t() => /** @type {[string]} */ ([\"./src\"])\n\t\t\t);\n\t\t}\n\t}\n\n\tF(options, \"devtool\", () => (development ? \"eval\" : false));\n\tD(options, \"watch\", false);\n\tD(options, \"profile\", false);\n\tD(options, \"parallelism\", 100);\n\tD(options, \"recordsInputPath\", false);\n\tD(options, \"recordsOutputPath\", false);\n\n\tapplyExperimentsDefaults(options.experiments, {\n\t\tproduction,\n\t\tdevelopment,\n\t\ttargetProperties\n\t});\n\n\tconst futureDefaults = options.experiments.futureDefaults;\n\n\tF(options, \"cache\", () =>\n\t\tdevelopment ? { type: /** @type {\"memory\"} */ (\"memory\") } : false\n\t);\n\tapplyCacheDefaults(options.cache, {\n\t\tname: name || \"default\",\n\t\tmode: mode || \"production\",\n\t\tdevelopment,\n\t\tcacheUnaffected: options.experiments.cacheUnaffected\n\t});\n\tconst cache = !!options.cache;\n\n\tapplySnapshotDefaults(options.snapshot, {\n\t\tproduction,\n\t\tfutureDefaults\n\t});\n\n\tapplyModuleDefaults(options.module, {\n\t\tcache,\n\t\tsyncWebAssembly: options.experiments.syncWebAssembly,\n\t\tasyncWebAssembly: options.experiments.asyncWebAssembly,\n\t\tcss: options.experiments.css,\n\t\tfutureDefaults\n\t});\n\n\tapplyOutputDefaults(options.output, {\n\t\tcontext: options.context,\n\t\ttargetProperties,\n\t\tisAffectedByBrowserslist:\n\t\t\ttarget === undefined ||\n\t\t\t(typeof target === \"string\" && target.startsWith(\"browserslist\")) ||\n\t\t\t(Array.isArray(target) &&\n\t\t\t\ttarget.some(target => target.startsWith(\"browserslist\"))),\n\t\toutputModule: options.experiments.outputModule,\n\t\tdevelopment,\n\t\tentry: options.entry,\n\t\tmodule: options.module,\n\t\tfutureDefaults\n\t});\n\n\tapplyExternalsPresetsDefaults(options.externalsPresets, {\n\t\ttargetProperties,\n\t\tbuildHttp: !!options.experiments.buildHttp\n\t});\n\n\tapplyLoaderDefaults(options.loader, { targetProperties });\n\n\tF(options, \"externalsType\", () => {\n\t\tconst validExternalTypes = require(\"../../schemas/WebpackOptions.json\")\n\t\t\t.definitions.ExternalsType.enum;\n\t\treturn options.output.library &&\n\t\t\tvalidExternalTypes.includes(options.output.library.type)\n\t\t\t? /** @type {ExternalsType} */ (options.output.library.type)\n\t\t\t: options.output.module\n\t\t\t? \"module\"\n\t\t\t: \"var\";\n\t});\n\n\tapplyNodeDefaults(options.node, {\n\t\tfutureDefaults: options.experiments.futureDefaults,\n\t\ttargetProperties\n\t});\n\n\tF(options, \"performance\", () =>\n\t\tproduction &&\n\t\ttargetProperties &&\n\t\t(targetProperties.browser || targetProperties.browser === null)\n\t\t\t? {}\n\t\t\t: false\n\t);\n\tapplyPerformanceDefaults(options.performance, {\n\t\tproduction\n\t});\n\n\tapplyOptimizationDefaults(options.optimization, {\n\t\tdevelopment,\n\t\tproduction,\n\t\tcss: options.experiments.css,\n\t\trecords: !!(options.recordsInputPath || options.recordsOutputPath)\n\t});\n\n\toptions.resolve = cleverMerge(\n\t\tgetResolveDefaults({\n\t\t\tcache,\n\t\t\tcontext: options.context,\n\t\t\ttargetProperties,\n\t\t\tmode: options.mode\n\t\t}),\n\t\toptions.resolve\n\t);\n\n\toptions.resolveLoader = cleverMerge(\n\t\tgetResolveLoaderDefaults({ cache }),\n\t\toptions.resolveLoader\n\t);\n};\n\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\nconst applyExperimentsDefaults = (\n\texperiments,\n\t{ production, development, targetProperties }\n) => {\n\tD(experiments, \"futureDefaults\", false);\n\tD(experiments, \"backCompat\", !experiments.futureDefaults);\n\tD(experiments, \"topLevelAwait\", experiments.futureDefaults);\n\tD(experiments, \"syncWebAssembly\", false);\n\tD(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n\tD(experiments, \"outputModule\", false);\n\tD(experiments, \"layers\", false);\n\tD(experiments, \"lazyCompilation\", undefined);\n\tD(experiments, \"buildHttp\", undefined);\n\tD(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n\tF(experiments, \"css\", () => (experiments.futureDefaults ? {} : undefined));\n\n\tif (typeof experiments.buildHttp === \"object\") {\n\t\tD(experiments.buildHttp, \"frozen\", production);\n\t\tD(experiments.buildHttp, \"upgrade\", false);\n\t}\n\n\tif (typeof experiments.css === \"object\") {\n\t\tD(\n\t\t\texperiments.css,\n\t\t\t\"exportsOnly\",\n\t\t\t!targetProperties || !targetProperties.document\n\t\t);\n\t}\n};\n\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {string} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\nconst applyCacheDefaults = (\n\tcache,\n\t{ name, mode, development, cacheUnaffected }\n) => {\n\tif (cache === false) return;\n\tswitch (cache.type) {\n\t\tcase \"filesystem\":\n\t\t\tF(cache, \"name\", () => name + \"-\" + mode);\n\t\t\tD(cache, \"version\", \"\");\n\t\t\tF(cache, \"cacheDirectory\", () => {\n\t\t\t\tconst cwd = process.cwd();\n\t\t\t\tlet dir = cwd;\n\t\t\t\tfor (;;) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (fs.statSync(path.join(dir, \"package.json\")).isFile()) break;\n\t\t\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\tconst parent = path.dirname(dir);\n\t\t\t\t\tif (dir === parent) {\n\t\t\t\t\t\tdir = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdir = parent;\n\t\t\t\t}\n\t\t\t\tif (!dir) {\n\t\t\t\t\treturn path.resolve(cwd, \".cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"1\") {\n\t\t\t\t\treturn path.resolve(dir, \".pnp/.cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\t\treturn path.resolve(dir, \".yarn/.cache/webpack\");\n\t\t\t\t} else {\n\t\t\t\t\treturn path.resolve(dir, \"node_modules/.cache/webpack\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tF(cache, \"cacheLocation\", () =>\n\t\t\t\tpath.resolve(cache.cacheDirectory, cache.name)\n\t\t\t);\n\t\t\tD(cache, \"hashAlgorithm\", \"md4\");\n\t\t\tD(cache, \"store\", \"pack\");\n\t\t\tD(cache, \"compression\", false);\n\t\t\tD(cache, \"profile\", false);\n\t\t\tD(cache, \"idleTimeout\", 60000);\n\t\t\tD(cache, \"idleTimeoutForInitialStore\", 5000);\n\t\t\tD(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n\t\t\tD(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n\t\t\tD(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\t\t\tD(cache, \"allowCollectingMemory\", development);\n\t\t\tD(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n\t\t\tD(cache.buildDependencies, \"defaultWebpack\", [\n\t\t\t\tpath.resolve(__dirname, \"..\") + path.sep\n\t\t\t]);\n\t\t\tbreak;\n\t\tcase \"memory\":\n\t\t\tD(cache, \"maxGenerations\", Infinity);\n\t\t\tD(cache, \"cacheUnaffected\", development && cacheUnaffected);\n\t\t\tbreak;\n\t}\n};\n\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applySnapshotDefaults = (snapshot, { production, futureDefaults }) => {\n\tif (futureDefaults) {\n\t\tF(snapshot, \"managedPaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [\n\t\t\t\t\t\t/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/\n\t\t\t\t  ]\n\t\t\t\t: [/^(.+?[\\\\/]node_modules[\\\\/])/]\n\t\t);\n\t\tF(snapshot, \"immutablePaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/]\n\t\t\t\t: []\n\t\t);\n\t} else {\n\t\tA(snapshot, \"managedPaths\", () => {\n\t\t\tif (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [path.resolve(match[1], \"unplugged\")];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec(\n\t\t\t\t\t// eslint-disable-next-line node/no-extraneous-require\n\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t\tA(snapshot, \"immutablePaths\", () => {\n\t\t\tif (process.versions.pnp === \"1\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t}\n\tF(snapshot, \"resolveBuildDependencies\", () => ({\n\t\ttimestamp: true,\n\t\thash: true\n\t}));\n\tF(snapshot, \"buildDependencies\", () => ({ timestamp: true, hash: true }));\n\tF(snapshot, \"module\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n\tF(snapshot, \"resolve\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n};\n\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyJavascriptParserOptionsDefaults = (\n\tparserOptions,\n\t{ futureDefaults }\n) => {\n\tD(parserOptions, \"unknownContextRequest\", \".\");\n\tD(parserOptions, \"unknownContextRegExp\", false);\n\tD(parserOptions, \"unknownContextRecursive\", true);\n\tD(parserOptions, \"unknownContextCritical\", true);\n\tD(parserOptions, \"exprContextRequest\", \".\");\n\tD(parserOptions, \"exprContextRegExp\", false);\n\tD(parserOptions, \"exprContextRecursive\", true);\n\tD(parserOptions, \"exprContextCritical\", true);\n\tD(parserOptions, \"wrappedContextRegExp\", /.*/);\n\tD(parserOptions, \"wrappedContextRecursive\", true);\n\tD(parserOptions, \"wrappedContextCritical\", false);\n\tD(parserOptions, \"strictThisContextOnImports\", false);\n\tD(parserOptions, \"importMeta\", true);\n\tif (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyModuleDefaults = (\n\tmodule,\n\t{ cache, syncWebAssembly, asyncWebAssembly, css, futureDefaults }\n) => {\n\tif (cache) {\n\t\tD(module, \"unsafeCache\", module => {\n\t\t\tconst name = module.nameForCondition();\n\t\t\treturn name && NODE_MODULES_REGEXP.test(name);\n\t\t});\n\t} else {\n\t\tD(module, \"unsafeCache\", false);\n\t}\n\n\tF(module.parser, \"asset\", () => ({}));\n\tF(module.parser.asset, \"dataUrlCondition\", () => ({}));\n\tif (typeof module.parser.asset.dataUrlCondition === \"object\") {\n\t\tD(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n\t}\n\n\tF(module.parser, \"javascript\", () => ({}));\n\tapplyJavascriptParserOptionsDefaults(module.parser.javascript, {\n\t\tfutureDefaults\n\t});\n\n\tA(module, \"defaultRules\", () => {\n\t\tconst esm = {\n\t\t\ttype: \"javascript/esm\",\n\t\t\tresolve: {\n\t\t\t\tbyDependency: {\n\t\t\t\t\tesm: {\n\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst commonjs = {\n\t\t\ttype: \"javascript/dynamic\"\n\t\t};\n\t\t/** @type {RuleSetRules} */\n\t\tconst rules = [\n\t\t\t{\n\t\t\t\tmimetype: \"application/node\",\n\t\t\t\ttype: \"javascript/auto\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.json$/i,\n\t\t\t\ttype: \"json\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: \"application/json\",\n\t\t\t\ttype: \"json\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.mjs$/i,\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"module\"\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.cjs$/i,\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"commonjs\"\n\t\t\t\t},\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: {\n\t\t\t\t\tor: [\"text/javascript\", \"application/javascript\"]\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t}\n\t\t];\n\t\tif (asyncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: \"webassembly/async\",\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t} else if (syncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: \"webassembly/sync\",\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t}\n\t\tif (css) {\n\t\t\tconst cssRule = {\n\t\t\t\ttype: \"css\",\n\t\t\t\tresolve: {\n\t\t\t\t\tfullySpecified: true,\n\t\t\t\t\tpreferRelative: true\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst cssModulesRule = {\n\t\t\t\ttype: \"css/module\",\n\t\t\t\tresolve: {\n\t\t\t\t\tfullySpecified: true\n\t\t\t\t}\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.css$/i,\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttest: /\\.module\\.css$/i,\n\t\t\t\t\t\t...cssModulesRule\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t...cssRule\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css+module\",\n\t\t\t\t...cssModulesRule\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css\",\n\t\t\t\t...cssRule\n\t\t\t});\n\t\t}\n\t\trules.push(\n\t\t\t{\n\t\t\t\tdependency: \"url\",\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\tscheme: /^data$/,\n\t\t\t\t\t\ttype: \"asset/inline\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"asset/resource\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tassert: { type: \"json\" },\n\t\t\t\ttype: \"json\"\n\t\t\t}\n\t\t);\n\t\treturn rules;\n\t});\n};\n\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyOutputDefaults = (\n\toutput,\n\t{\n\t\tcontext,\n\t\ttargetProperties: tp,\n\t\tisAffectedByBrowserslist,\n\t\toutputModule,\n\t\tdevelopment,\n\t\tentry,\n\t\tmodule,\n\t\tfutureDefaults\n\t}\n) => {\n\t/**\n\t * @param {Library=} library the library option\n\t * @returns {string} a readable library name\n\t */\n\tconst getLibraryName = library => {\n\t\tconst libraryName =\n\t\t\ttypeof library === \"object\" &&\n\t\t\tlibrary &&\n\t\t\t!Array.isArray(library) &&\n\t\t\t\"type\" in library\n\t\t\t\t? library.name\n\t\t\t\t: /** @type {LibraryName=} */ (library);\n\t\tif (Array.isArray(libraryName)) {\n\t\t\treturn libraryName.join(\".\");\n\t\t} else if (typeof libraryName === \"object\") {\n\t\t\treturn getLibraryName(libraryName.root);\n\t\t} else if (typeof libraryName === \"string\") {\n\t\t\treturn libraryName;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tF(output, \"uniqueName\", () => {\n\t\tconst libraryName = getLibraryName(output.library);\n\t\tif (libraryName) return libraryName;\n\t\tconst pkgPath = path.resolve(context, \"package.json\");\n\t\ttry {\n\t\t\tconst packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n\t\t\treturn packageInfo.name || \"\";\n\t\t} catch (e) {\n\t\t\tif (e.code !== \"ENOENT\") {\n\t\t\t\te.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t});\n\n\tF(output, \"module\", () => !!outputModule);\n\tD(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n\tF(output, \"iife\", () => !output.module);\n\tD(output, \"importFunctionName\", \"import\");\n\tD(output, \"importMetaName\", \"import.meta\");\n\tF(output, \"chunkFilename\", () => {\n\t\tconst filename = output.filename;\n\t\tif (typeof filename !== \"function\") {\n\t\t\tconst hasName = filename.includes(\"[name]\");\n\t\t\tconst hasId = filename.includes(\"[id]\");\n\t\t\tconst hasChunkHash = filename.includes(\"[chunkhash]\");\n\t\t\tconst hasContentHash = filename.includes(\"[contenthash]\");\n\t\t\t// Anything changing depending on chunk is fine\n\t\t\tif (hasChunkHash || hasContentHash || hasName || hasId) return filename;\n\t\t\t// Otherwise prefix \"[id].\" in front of the basename to make it changing\n\t\t\treturn filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n\t\t}\n\t\treturn output.module ? \"[id].mjs\" : \"[id].js\";\n\t});\n\tF(output, \"cssFilename\", () => {\n\t\tconst filename = output.filename;\n\t\tif (typeof filename !== \"function\") {\n\t\t\treturn filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tF(output, \"cssChunkFilename\", () => {\n\t\tconst chunkFilename = output.chunkFilename;\n\t\tif (typeof chunkFilename !== \"function\") {\n\t\t\treturn chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tD(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n\tD(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n\tD(output, \"compareBeforeEmit\", true);\n\tD(output, \"charset\", true);\n\tF(output, \"hotUpdateGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)\n\t\t)\n\t);\n\tF(output, \"chunkLoadingGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackChunk\" + Template.toIdentifier(output.uniqueName)\n\t\t)\n\t);\n\tF(output, \"globalObject\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.global) return \"global\";\n\t\t\tif (tp.globalThis) return \"globalThis\";\n\t\t}\n\t\treturn \"self\";\n\t});\n\tF(output, \"chunkFormat\", () => {\n\t\tif (tp) {\n\t\t\tconst helpMessage = isAffectedByBrowserslist\n\t\t\t\t? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\"\n\t\t\t\t: \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\t\t\tif (output.module) {\n\t\t\t\tif (tp.dynamicImport) return \"module\";\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default ESM chunk format available:\\n\" +\n\t\t\t\t\t\t\"ESM exports can be chosen when 'import()' is available.\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' is available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tif (tp.require) return \"commonjs\";\n\t\t\t\tif (tp.nodeBuiltins) return \"commonjs\";\n\t\t\t\tif (tp.importScripts) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default script chunk format available:\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" +\n\t\t\t\t\t\t\"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthrow new Error(\n\t\t\t\"Chunk format can't be selected by default when no target is specified\"\n\t\t);\n\t});\n\tD(output, \"asyncChunks\", true);\n\tF(output, \"chunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.document) return \"jsonp\";\n\t\t\t\t\tif (tp.importScripts) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImport) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.document === null ||\n\t\t\t\ttp.importScripts === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerChunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.importScriptsInWorker) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImportInWorker) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.importScriptsInWorker === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"wasmLoading\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.fetchWasm) return \"fetch\";\n\t\t\tif (tp.nodeBuiltins)\n\t\t\t\treturn output.module ? \"async-node-module\" : \"async-node\";\n\t\t\tif (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerWasmLoading\", () => output.wasmLoading);\n\tF(output, \"devtoolNamespace\", () => output.uniqueName);\n\tif (output.library) {\n\t\tF(output.library, \"type\", () => (output.module ? \"module\" : \"var\"));\n\t}\n\tF(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n\tF(output, \"pathinfo\", () => development);\n\tD(output, \"sourceMapFilename\", \"[file].map[query]\");\n\tD(\n\t\toutput,\n\t\t\"hotUpdateChunkFilename\",\n\t\t`[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`\n\t);\n\tD(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n\tD(output, \"crossOriginLoading\", false);\n\tF(output, \"scriptType\", () => (output.module ? \"module\" : false));\n\tD(\n\t\toutput,\n\t\t\"publicPath\",\n\t\t(tp && (tp.document || tp.importScripts)) || output.scriptType === \"module\"\n\t\t\t? \"auto\"\n\t\t\t: \"\"\n\t);\n\tD(output, \"chunkLoadTimeout\", 120000);\n\tD(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n\tD(output, \"hashDigest\", \"hex\");\n\tD(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n\tD(output, \"strictModuleExceptionHandling\", false);\n\n\tconst optimistic = v => v || v === undefined;\n\tconst conditionallyOptimistic = (v, c) => (v === undefined && c) || v;\n\tF(\n\t\toutput.environment,\n\t\t\"arrowFunction\",\n\t\t() => tp && optimistic(tp.arrowFunction)\n\t);\n\tF(output.environment, \"const\", () => tp && optimistic(tp.const));\n\tF(\n\t\toutput.environment,\n\t\t\"destructuring\",\n\t\t() => tp && optimistic(tp.destructuring)\n\t);\n\tF(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\n\tF(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\n\tF(output.environment, \"dynamicImport\", () =>\n\t\tconditionallyOptimistic(tp && tp.dynamicImport, output.module)\n\t);\n\tF(output.environment, \"module\", () =>\n\t\tconditionallyOptimistic(tp && tp.module, output.module)\n\t);\n\n\tconst { trustedTypes } = output;\n\tif (trustedTypes) {\n\t\tF(\n\t\t\ttrustedTypes,\n\t\t\t\"policyName\",\n\t\t\t() =>\n\t\t\t\toutput.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\"\n\t\t);\n\t}\n\n\t/**\n\t * @param {function(EntryDescription): void} fn iterator\n\t * @returns {void}\n\t */\n\tconst forEachEntry = fn => {\n\t\tfor (const name of Object.keys(entry)) {\n\t\t\tfn(entry[name]);\n\t\t}\n\t};\n\tA(output, \"enabledLibraryTypes\", () => {\n\t\tconst enabledLibraryTypes = [];\n\t\tif (output.library) {\n\t\t\tenabledLibraryTypes.push(output.library.type);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.library) {\n\t\t\t\tenabledLibraryTypes.push(desc.library.type);\n\t\t\t}\n\t\t});\n\t\treturn enabledLibraryTypes;\n\t});\n\n\tA(output, \"enabledChunkLoadingTypes\", () => {\n\t\tconst enabledChunkLoadingTypes = new Set();\n\t\tif (output.chunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.chunkLoading);\n\t\t}\n\t\tif (output.workerChunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.workerChunkLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.chunkLoading) {\n\t\t\t\tenabledChunkLoadingTypes.add(desc.chunkLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledChunkLoadingTypes);\n\t});\n\n\tA(output, \"enabledWasmLoadingTypes\", () => {\n\t\tconst enabledWasmLoadingTypes = new Set();\n\t\tif (output.wasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.wasmLoading);\n\t\t}\n\t\tif (output.workerWasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.workerWasmLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.wasmLoading) {\n\t\t\t\tenabledWasmLoadingTypes.add(desc.wasmLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledWasmLoadingTypes);\n\t});\n};\n\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\nconst applyExternalsPresetsDefaults = (\n\texternalsPresets,\n\t{ targetProperties, buildHttp }\n) => {\n\tD(\n\t\texternalsPresets,\n\t\t\"web\",\n\t\t!buildHttp && targetProperties && targetProperties.web\n\t);\n\tD(externalsPresets, \"node\", targetProperties && targetProperties.node);\n\tD(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\n\tD(\n\t\texternalsPresets,\n\t\t\"electron\",\n\t\ttargetProperties && targetProperties.electron\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronMain\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronMain\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronPreload\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronPreload\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronRenderer\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronRenderer\n\t);\n};\n\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\nconst applyLoaderDefaults = (loader, { targetProperties }) => {\n\tF(loader, \"target\", () => {\n\t\tif (targetProperties) {\n\t\t\tif (targetProperties.electron) {\n\t\t\t\tif (targetProperties.electronMain) return \"electron-main\";\n\t\t\t\tif (targetProperties.electronPreload) return \"electron-preload\";\n\t\t\t\tif (targetProperties.electronRenderer) return \"electron-renderer\";\n\t\t\t\treturn \"electron\";\n\t\t\t}\n\t\t\tif (targetProperties.nwjs) return \"nwjs\";\n\t\t\tif (targetProperties.node) return \"node\";\n\t\t\tif (targetProperties.web) return \"web\";\n\t\t}\n\t});\n};\n\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyNodeDefaults = (node, { futureDefaults, targetProperties }) => {\n\tif (node === false) return;\n\n\tF(node, \"global\", () => {\n\t\tif (targetProperties && targetProperties.global) return false;\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn\" : true;\n\t});\n\tF(node, \"__filename\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n\tF(node, \"__dirname\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n};\n\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\nconst applyPerformanceDefaults = (performance, { production }) => {\n\tif (performance === false) return;\n\tD(performance, \"maxAssetSize\", 250000);\n\tD(performance, \"maxEntrypointSize\", 250000);\n\tF(performance, \"hints\", () => (production ? \"warning\" : false));\n};\n\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\nconst applyOptimizationDefaults = (\n\toptimization,\n\t{ production, development, css, records }\n) => {\n\tD(optimization, \"removeAvailableModules\", false);\n\tD(optimization, \"removeEmptyChunks\", true);\n\tD(optimization, \"mergeDuplicateChunks\", true);\n\tD(optimization, \"flagIncludedChunks\", production);\n\tF(optimization, \"moduleIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"chunkIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"sideEffects\", () => (production ? true : \"flag\"));\n\tD(optimization, \"providedExports\", true);\n\tD(optimization, \"usedExports\", production);\n\tD(optimization, \"innerGraph\", production);\n\tD(optimization, \"mangleExports\", production);\n\tD(optimization, \"concatenateModules\", production);\n\tD(optimization, \"runtimeChunk\", false);\n\tD(optimization, \"emitOnErrors\", !production);\n\tD(optimization, \"checkWasmTypes\", production);\n\tD(optimization, \"mangleWasmImports\", false);\n\tD(optimization, \"portableRecords\", records);\n\tD(optimization, \"realContentHash\", production);\n\tD(optimization, \"minimize\", production);\n\tA(optimization, \"minimizer\", () => [\n\t\t{\n\t\t\tapply: compiler => {\n\t\t\t\t// Lazy load the Terser plugin\n\t\t\t\tconst TerserPlugin = require(\"terser-webpack-plugin\");\n\t\t\t\tnew TerserPlugin({\n\t\t\t\t\tterserOptions: {\n\t\t\t\t\t\tcompress: {\n\t\t\t\t\t\t\tpasses: 2\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).apply(compiler);\n\t\t\t}\n\t\t}\n\t]);\n\tF(optimization, \"nodeEnv\", () => {\n\t\tif (production) return \"production\";\n\t\tif (development) return \"development\";\n\t\treturn false;\n\t});\n\tconst { splitChunks } = optimization;\n\tif (splitChunks) {\n\t\tA(splitChunks, \"defaultSizeTypes\", () =>\n\t\t\tcss ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]\n\t\t);\n\t\tD(splitChunks, \"hidePathInfo\", production);\n\t\tD(splitChunks, \"chunks\", \"async\");\n\t\tD(splitChunks, \"usedExports\", optimization.usedExports === true);\n\t\tD(splitChunks, \"minChunks\", 1);\n\t\tF(splitChunks, \"minSize\", () => (production ? 20000 : 10000));\n\t\tF(splitChunks, \"minRemainingSize\", () => (development ? 0 : undefined));\n\t\tF(splitChunks, \"enforceSizeThreshold\", () => (production ? 50000 : 30000));\n\t\tF(splitChunks, \"maxAsyncRequests\", () => (production ? 30 : Infinity));\n\t\tF(splitChunks, \"maxInitialRequests\", () => (production ? 30 : Infinity));\n\t\tD(splitChunks, \"automaticNameDelimiter\", \"-\");\n\t\tconst { cacheGroups } = splitChunks;\n\t\tF(cacheGroups, \"default\", () => ({\n\t\t\tidHint: \"\",\n\t\t\treuseExistingChunk: true,\n\t\t\tminChunks: 2,\n\t\t\tpriority: -20\n\t\t}));\n\t\tF(cacheGroups, \"defaultVendors\", () => ({\n\t\t\tidHint: \"vendors\",\n\t\t\treuseExistingChunk: true,\n\t\t\ttest: NODE_MODULES_REGEXP,\n\t\t\tpriority: -10\n\t\t}));\n\t}\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveDefaults = ({ cache, context, targetProperties, mode }) => {\n\t/** @type {string[]} */\n\tconst conditions = [\"webpack\"];\n\n\tconditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n\tif (targetProperties) {\n\t\tif (targetProperties.webworker) conditions.push(\"worker\");\n\t\tif (targetProperties.node) conditions.push(\"node\");\n\t\tif (targetProperties.web) conditions.push(\"browser\");\n\t\tif (targetProperties.electron) conditions.push(\"electron\");\n\t\tif (targetProperties.nwjs) conditions.push(\"nwjs\");\n\t}\n\n\tconst jsExtensions = [\".js\", \".json\", \".wasm\"];\n\n\tconst tp = targetProperties;\n\tconst browserField =\n\t\ttp && tp.web && (!tp.node || (tp.electron && tp.electronRenderer));\n\n\t/** @type {function(): ResolveOptions} */\n\tconst cjsDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"require\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\t/** @type {function(): ResolveOptions} */\n\tconst esmDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"import\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tmodules: [\"node_modules\"],\n\t\tconditionNames: conditions,\n\t\tmainFiles: [\"index\"],\n\t\textensions: [],\n\t\taliasFields: [],\n\t\texportsFields: [\"exports\"],\n\t\troots: [context],\n\t\tmainFields: [\"main\"],\n\t\tbyDependency: {\n\t\t\twasm: esmDeps(),\n\t\t\tesm: esmDeps(),\n\t\t\tloaderImport: esmDeps(),\n\t\t\turl: {\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tworker: {\n\t\t\t\t...esmDeps(),\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tcommonjs: cjsDeps(),\n\t\t\tamd: cjsDeps(),\n\t\t\t// for backward-compat: loadModule\n\t\t\tloader: cjsDeps(),\n\t\t\t// for backward-compat: Custom Dependency\n\t\t\tunknown: cjsDeps(),\n\t\t\t// for backward-compat: getResolve without dependencyType\n\t\t\tundefined: cjsDeps()\n\t\t}\n\t};\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveLoaderDefaults = ({ cache }) => {\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tconditionNames: [\"loader\", \"require\", \"node\"],\n\t\texportsFields: [\"exports\"],\n\t\tmainFields: [\"loader\", \"main\"],\n\t\textensions: [\".js\"],\n\t\tmainFiles: [\"index\"]\n\t};\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n\tF(infrastructureLogging, \"stream\", () => process.stderr);\n\tconst tty =\n\t\t/** @type {any} */ (infrastructureLogging.stream).isTTY &&\n\t\tprocess.env.TERM !== \"dumb\";\n\tD(infrastructureLogging, \"level\", \"info\");\n\tD(infrastructureLogging, \"debug\", false);\n\tD(infrastructureLogging, \"colors\", tty);\n\tD(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;\n"]},"metadata":{},"sourceType":"script"}