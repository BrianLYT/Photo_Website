{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n*/\n\"use strict\";\n\nconst cache = new WeakMap();\n\nclass ObjectStructure {\n  constructor() {\n    this.keys = undefined;\n    this.children = undefined;\n  }\n\n  getKeys(keys) {\n    if (this.keys === undefined) this.keys = keys;\n    return this.keys;\n  }\n\n  key(key) {\n    if (this.children === undefined) this.children = new Map();\n    const child = this.children.get(key);\n    if (child !== undefined) return child;\n    const newChild = new ObjectStructure();\n    this.children.set(key, newChild);\n    return newChild;\n  }\n\n}\n\nconst getCachedKeys = (keys, cacheAssoc) => {\n  let root = cache.get(cacheAssoc);\n\n  if (root === undefined) {\n    root = new ObjectStructure();\n    cache.set(cacheAssoc, root);\n  }\n\n  let current = root;\n\n  for (const key of keys) {\n    current = current.key(key);\n  }\n\n  return current.getKeys(keys);\n};\n\nclass PlainObjectSerializer {\n  serialize(obj, _ref) {\n    let {\n      write\n    } = _ref;\n    const keys = Object.keys(obj);\n\n    if (keys.length > 128) {\n      // Objects with so many keys are unlikely to share structure\n      // with other objects\n      write(keys);\n\n      for (const key of keys) {\n        write(obj[key]);\n      }\n    } else if (keys.length > 1) {\n      write(getCachedKeys(keys, write));\n\n      for (const key of keys) {\n        write(obj[key]);\n      }\n    } else if (keys.length === 1) {\n      const key = keys[0];\n      write(key);\n      write(obj[key]);\n    } else {\n      write(null);\n    }\n  }\n\n  deserialize(_ref2) {\n    let {\n      read\n    } = _ref2;\n    const keys = read();\n    const obj = {};\n\n    if (Array.isArray(keys)) {\n      for (const key of keys) {\n        obj[key] = read();\n      }\n    } else if (keys !== null) {\n      obj[keys] = read();\n    }\n\n    return obj;\n  }\n\n}\n\nmodule.exports = PlainObjectSerializer;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/serialization/PlainObjectSerializer.js"],"names":["cache","WeakMap","ObjectStructure","constructor","keys","undefined","children","getKeys","key","Map","child","get","newChild","set","getCachedKeys","cacheAssoc","root","current","PlainObjectSerializer","serialize","obj","write","Object","length","deserialize","read","Array","isArray","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n*/\n\n\"use strict\";\n\nconst cache = new WeakMap();\n\nclass ObjectStructure {\n\tconstructor() {\n\t\tthis.keys = undefined;\n\t\tthis.children = undefined;\n\t}\n\n\tgetKeys(keys) {\n\t\tif (this.keys === undefined) this.keys = keys;\n\t\treturn this.keys;\n\t}\n\n\tkey(key) {\n\t\tif (this.children === undefined) this.children = new Map();\n\t\tconst child = this.children.get(key);\n\t\tif (child !== undefined) return child;\n\t\tconst newChild = new ObjectStructure();\n\t\tthis.children.set(key, newChild);\n\t\treturn newChild;\n\t}\n}\n\nconst getCachedKeys = (keys, cacheAssoc) => {\n\tlet root = cache.get(cacheAssoc);\n\tif (root === undefined) {\n\t\troot = new ObjectStructure();\n\t\tcache.set(cacheAssoc, root);\n\t}\n\tlet current = root;\n\tfor (const key of keys) {\n\t\tcurrent = current.key(key);\n\t}\n\treturn current.getKeys(keys);\n};\n\nclass PlainObjectSerializer {\n\tserialize(obj, { write }) {\n\t\tconst keys = Object.keys(obj);\n\t\tif (keys.length > 128) {\n\t\t\t// Objects with so many keys are unlikely to share structure\n\t\t\t// with other objects\n\t\t\twrite(keys);\n\t\t\tfor (const key of keys) {\n\t\t\t\twrite(obj[key]);\n\t\t\t}\n\t\t} else if (keys.length > 1) {\n\t\t\twrite(getCachedKeys(keys, write));\n\t\t\tfor (const key of keys) {\n\t\t\t\twrite(obj[key]);\n\t\t\t}\n\t\t} else if (keys.length === 1) {\n\t\t\tconst key = keys[0];\n\t\t\twrite(key);\n\t\t\twrite(obj[key]);\n\t\t} else {\n\t\t\twrite(null);\n\t\t}\n\t}\n\tdeserialize({ read }) {\n\t\tconst keys = read();\n\t\tconst obj = {};\n\t\tif (Array.isArray(keys)) {\n\t\t\tfor (const key of keys) {\n\t\t\t\tobj[key] = read();\n\t\t\t}\n\t\t} else if (keys !== null) {\n\t\t\tobj[keys] = read();\n\t\t}\n\t\treturn obj;\n\t}\n}\n\nmodule.exports = PlainObjectSerializer;\n"]},"metadata":{},"sourceType":"script"}