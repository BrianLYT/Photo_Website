{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  RawSource\n} = require(\"webpack-sources\");\n\nconst Generator = require(\"../Generator\");\n\nconst InitFragment = require(\"../InitFragment\");\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\n\nconst Template = require(\"../Template\");\n\nconst WebAssemblyImportDependency = require(\"../dependencies/WebAssemblyImportDependency\");\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"../DependencyTemplates\")} DependencyTemplates */\n\n/** @typedef {import(\"../Generator\").GenerateContext} GenerateContext */\n\n/** @typedef {import(\"../Module\")} Module */\n\n/** @typedef {import(\"../NormalModule\")} NormalModule */\n\n/** @typedef {import(\"../RuntimeTemplate\")} RuntimeTemplate */\n\n\nconst TYPES = new Set([\"webassembly\"]);\n\nclass AsyncWebAssemblyJavascriptGenerator extends Generator {\n  constructor(filenameTemplate) {\n    super();\n    this.filenameTemplate = filenameTemplate;\n  }\n  /**\n   * @param {NormalModule} module fresh module\n   * @returns {Set<string>} available types (do not mutate)\n   */\n\n\n  getTypes(module) {\n    return TYPES;\n  }\n  /**\n   * @param {NormalModule} module the module\n   * @param {string=} type source type\n   * @returns {number} estimate size of the module\n   */\n\n\n  getSize(module, type) {\n    return 40 + module.dependencies.length * 10;\n  }\n  /**\n   * @param {NormalModule} module module for which the code should be generated\n   * @param {GenerateContext} generateContext context for generate\n   * @returns {Source} generated code\n   */\n\n\n  generate(module, generateContext) {\n    const {\n      runtimeTemplate,\n      chunkGraph,\n      moduleGraph,\n      runtimeRequirements,\n      runtime\n    } = generateContext;\n    runtimeRequirements.add(RuntimeGlobals.module);\n    runtimeRequirements.add(RuntimeGlobals.moduleId);\n    runtimeRequirements.add(RuntimeGlobals.exports);\n    runtimeRequirements.add(RuntimeGlobals.instantiateWasm);\n    /** @type {InitFragment[]} */\n\n    const initFragments = [];\n    /** @type {Map<Module, { request: string, importVar: string }>} */\n\n    const depModules = new Map();\n    /** @type {Map<string, WebAssemblyImportDependency[]>} */\n\n    const wasmDepsByRequest = new Map();\n\n    for (const dep of module.dependencies) {\n      if (dep instanceof WebAssemblyImportDependency) {\n        const module = moduleGraph.getModule(dep);\n\n        if (!depModules.has(module)) {\n          depModules.set(module, {\n            request: dep.request,\n            importVar: `WEBPACK_IMPORTED_MODULE_${depModules.size}`\n          });\n        }\n\n        let list = wasmDepsByRequest.get(dep.request);\n\n        if (list === undefined) {\n          list = [];\n          wasmDepsByRequest.set(dep.request, list);\n        }\n\n        list.push(dep);\n      }\n    }\n\n    const promises = [];\n    const importStatements = Array.from(depModules, _ref => {\n      let [importedModule, {\n        request,\n        importVar\n      }] = _ref;\n\n      if (moduleGraph.isAsync(importedModule)) {\n        promises.push(importVar);\n      }\n\n      return runtimeTemplate.importStatement({\n        update: false,\n        module: importedModule,\n        chunkGraph,\n        request,\n        originModule: module,\n        importVar,\n        runtimeRequirements\n      });\n    });\n    const importsCode = importStatements.map(_ref2 => {\n      let [x] = _ref2;\n      return x;\n    }).join(\"\");\n    const importsCompatCode = importStatements.map(_ref3 => {\n      let [_, x] = _ref3;\n      return x;\n    }).join(\"\");\n    const importObjRequestItems = Array.from(wasmDepsByRequest, _ref4 => {\n      let [request, deps] = _ref4;\n      const exportItems = deps.map(dep => {\n        const importedModule = moduleGraph.getModule(dep);\n        const importVar = depModules.get(importedModule).importVar;\n        return `${JSON.stringify(dep.name)}: ${runtimeTemplate.exportFromImport({\n          moduleGraph,\n          module: importedModule,\n          request,\n          exportName: dep.name,\n          originModule: module,\n          asiSafe: true,\n          isCall: false,\n          callContext: false,\n          defaultInterop: true,\n          importVar,\n          initFragments,\n          runtime,\n          runtimeRequirements\n        })}`;\n      });\n      return Template.asString([`${JSON.stringify(request)}: {`, Template.indent(exportItems.join(\",\\n\")), \"}\"]);\n    });\n    const importsObj = importObjRequestItems.length > 0 ? Template.asString([\"{\", Template.indent(importObjRequestItems.join(\",\\n\")), \"}\"]) : undefined;\n    const instantiateCall = `${RuntimeGlobals.instantiateWasm}(${module.exportsArgument}, ${module.moduleArgument}.id, ${JSON.stringify(chunkGraph.getRenderedModuleHash(module, runtime))}` + (importsObj ? `, ${importsObj})` : `)`);\n    if (promises.length > 0) runtimeRequirements.add(RuntimeGlobals.asyncModule);\n    const source = new RawSource(promises.length > 0 ? Template.asString([`var __webpack_instantiate__ = ${runtimeTemplate.basicFunction(`[${promises.join(\", \")}]`, `${importsCompatCode}return ${instantiateCall};`)}`, `${RuntimeGlobals.asyncModule}(${module.moduleArgument}, async ${runtimeTemplate.basicFunction(\"__webpack_handle_async_dependencies__, __webpack_async_result__\", [\"try {\", importsCode, `var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([${promises.join(\", \")}]);`, `var [${promises.join(\", \")}] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__;`, `${importsCompatCode}await ${instantiateCall};`, \"__webpack_async_result__();\", \"} catch(e) { __webpack_async_result__(e); }\"])}, 1);`]) : `${importsCode}${importsCompatCode}module.exports = ${instantiateCall};`);\n    return InitFragment.addToSource(source, initFragments, generateContext);\n  }\n\n}\n\nmodule.exports = AsyncWebAssemblyJavascriptGenerator;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/wasm-async/AsyncWebAssemblyJavascriptGenerator.js"],"names":["RawSource","require","Generator","InitFragment","RuntimeGlobals","Template","WebAssemblyImportDependency","TYPES","Set","AsyncWebAssemblyJavascriptGenerator","constructor","filenameTemplate","getTypes","module","getSize","type","dependencies","length","generate","generateContext","runtimeTemplate","chunkGraph","moduleGraph","runtimeRequirements","runtime","add","moduleId","exports","instantiateWasm","initFragments","depModules","Map","wasmDepsByRequest","dep","getModule","has","set","request","importVar","size","list","get","undefined","push","promises","importStatements","Array","from","importedModule","isAsync","importStatement","update","originModule","importsCode","map","x","join","importsCompatCode","_","importObjRequestItems","deps","exportItems","JSON","stringify","name","exportFromImport","exportName","asiSafe","isCall","callContext","defaultInterop","asString","indent","importsObj","instantiateCall","exportsArgument","moduleArgument","getRenderedModuleHash","asyncModule","source","basicFunction","addToSource"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { RawSource } = require(\"webpack-sources\");\nconst Generator = require(\"../Generator\");\nconst InitFragment = require(\"../InitFragment\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst WebAssemblyImportDependency = require(\"../dependencies/WebAssemblyImportDependency\");\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../DependencyTemplates\")} DependencyTemplates */\n/** @typedef {import(\"../Generator\").GenerateContext} GenerateContext */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../NormalModule\")} NormalModule */\n/** @typedef {import(\"../RuntimeTemplate\")} RuntimeTemplate */\n\nconst TYPES = new Set([\"webassembly\"]);\n\nclass AsyncWebAssemblyJavascriptGenerator extends Generator {\n\tconstructor(filenameTemplate) {\n\t\tsuper();\n\t\tthis.filenameTemplate = filenameTemplate;\n\t}\n\n\t/**\n\t * @param {NormalModule} module fresh module\n\t * @returns {Set<string>} available types (do not mutate)\n\t */\n\tgetTypes(module) {\n\t\treturn TYPES;\n\t}\n\n\t/**\n\t * @param {NormalModule} module the module\n\t * @param {string=} type source type\n\t * @returns {number} estimate size of the module\n\t */\n\tgetSize(module, type) {\n\t\treturn 40 + module.dependencies.length * 10;\n\t}\n\n\t/**\n\t * @param {NormalModule} module module for which the code should be generated\n\t * @param {GenerateContext} generateContext context for generate\n\t * @returns {Source} generated code\n\t */\n\tgenerate(module, generateContext) {\n\t\tconst {\n\t\t\truntimeTemplate,\n\t\t\tchunkGraph,\n\t\t\tmoduleGraph,\n\t\t\truntimeRequirements,\n\t\t\truntime\n\t\t} = generateContext;\n\t\truntimeRequirements.add(RuntimeGlobals.module);\n\t\truntimeRequirements.add(RuntimeGlobals.moduleId);\n\t\truntimeRequirements.add(RuntimeGlobals.exports);\n\t\truntimeRequirements.add(RuntimeGlobals.instantiateWasm);\n\t\t/** @type {InitFragment[]} */\n\t\tconst initFragments = [];\n\t\t/** @type {Map<Module, { request: string, importVar: string }>} */\n\t\tconst depModules = new Map();\n\t\t/** @type {Map<string, WebAssemblyImportDependency[]>} */\n\t\tconst wasmDepsByRequest = new Map();\n\t\tfor (const dep of module.dependencies) {\n\t\t\tif (dep instanceof WebAssemblyImportDependency) {\n\t\t\t\tconst module = moduleGraph.getModule(dep);\n\t\t\t\tif (!depModules.has(module)) {\n\t\t\t\t\tdepModules.set(module, {\n\t\t\t\t\t\trequest: dep.request,\n\t\t\t\t\t\timportVar: `WEBPACK_IMPORTED_MODULE_${depModules.size}`\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet list = wasmDepsByRequest.get(dep.request);\n\t\t\t\tif (list === undefined) {\n\t\t\t\t\tlist = [];\n\t\t\t\t\twasmDepsByRequest.set(dep.request, list);\n\t\t\t\t}\n\t\t\t\tlist.push(dep);\n\t\t\t}\n\t\t}\n\n\t\tconst promises = [];\n\n\t\tconst importStatements = Array.from(\n\t\t\tdepModules,\n\t\t\t([importedModule, { request, importVar }]) => {\n\t\t\t\tif (moduleGraph.isAsync(importedModule)) {\n\t\t\t\t\tpromises.push(importVar);\n\t\t\t\t}\n\t\t\t\treturn runtimeTemplate.importStatement({\n\t\t\t\t\tupdate: false,\n\t\t\t\t\tmodule: importedModule,\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\trequest,\n\t\t\t\t\toriginModule: module,\n\t\t\t\t\timportVar,\n\t\t\t\t\truntimeRequirements\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\tconst importsCode = importStatements.map(([x]) => x).join(\"\");\n\t\tconst importsCompatCode = importStatements.map(([_, x]) => x).join(\"\");\n\n\t\tconst importObjRequestItems = Array.from(\n\t\t\twasmDepsByRequest,\n\t\t\t([request, deps]) => {\n\t\t\t\tconst exportItems = deps.map(dep => {\n\t\t\t\t\tconst importedModule = moduleGraph.getModule(dep);\n\t\t\t\t\tconst importVar = depModules.get(importedModule).importVar;\n\t\t\t\t\treturn `${JSON.stringify(\n\t\t\t\t\t\tdep.name\n\t\t\t\t\t)}: ${runtimeTemplate.exportFromImport({\n\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\tmodule: importedModule,\n\t\t\t\t\t\trequest,\n\t\t\t\t\t\texportName: dep.name,\n\t\t\t\t\t\toriginModule: module,\n\t\t\t\t\t\tasiSafe: true,\n\t\t\t\t\t\tisCall: false,\n\t\t\t\t\t\tcallContext: false,\n\t\t\t\t\t\tdefaultInterop: true,\n\t\t\t\t\t\timportVar,\n\t\t\t\t\t\tinitFragments,\n\t\t\t\t\t\truntime,\n\t\t\t\t\t\truntimeRequirements\n\t\t\t\t\t})}`;\n\t\t\t\t});\n\t\t\t\treturn Template.asString([\n\t\t\t\t\t`${JSON.stringify(request)}: {`,\n\t\t\t\t\tTemplate.indent(exportItems.join(\",\\n\")),\n\t\t\t\t\t\"}\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\n\t\tconst importsObj =\n\t\t\timportObjRequestItems.length > 0\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\"{\",\n\t\t\t\t\t\tTemplate.indent(importObjRequestItems.join(\",\\n\")),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t  ])\n\t\t\t\t: undefined;\n\n\t\tconst instantiateCall =\n\t\t\t`${RuntimeGlobals.instantiateWasm}(${module.exportsArgument}, ${\n\t\t\t\tmodule.moduleArgument\n\t\t\t}.id, ${JSON.stringify(\n\t\t\t\tchunkGraph.getRenderedModuleHash(module, runtime)\n\t\t\t)}` + (importsObj ? `, ${importsObj})` : `)`);\n\n\t\tif (promises.length > 0)\n\t\t\truntimeRequirements.add(RuntimeGlobals.asyncModule);\n\n\t\tconst source = new RawSource(\n\t\t\tpromises.length > 0\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t`var __webpack_instantiate__ = ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t`[${promises.join(\", \")}]`,\n\t\t\t\t\t\t\t`${importsCompatCode}return ${instantiateCall};`\n\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t`${RuntimeGlobals.asyncModule}(${\n\t\t\t\t\t\t\tmodule.moduleArgument\n\t\t\t\t\t\t}, async ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\"__webpack_handle_async_dependencies__, __webpack_async_result__\",\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"try {\",\n\t\t\t\t\t\t\t\timportsCode,\n\t\t\t\t\t\t\t\t`var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([${promises.join(\n\t\t\t\t\t\t\t\t\t\", \"\n\t\t\t\t\t\t\t\t)}]);`,\n\t\t\t\t\t\t\t\t`var [${promises.join(\n\t\t\t\t\t\t\t\t\t\", \"\n\t\t\t\t\t\t\t\t)}] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__;`,\n\t\t\t\t\t\t\t\t`${importsCompatCode}await ${instantiateCall};`,\n\t\t\t\t\t\t\t\t\"__webpack_async_result__();\",\n\t\t\t\t\t\t\t\t\"} catch(e) { __webpack_async_result__(e); }\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t)}, 1);`\n\t\t\t\t  ])\n\t\t\t\t: `${importsCode}${importsCompatCode}module.exports = ${instantiateCall};`\n\t\t);\n\n\t\treturn InitFragment.addToSource(source, initFragments, generateContext);\n\t}\n}\n\nmodule.exports = AsyncWebAssemblyJavascriptGenerator;\n"]},"metadata":{},"sourceType":"script"}