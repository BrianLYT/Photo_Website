{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Ivan Kopeykin @vankop\n*/\n\"use strict\";\n\nconst IgnoreErrorModuleFactory = require(\"./IgnoreErrorModuleFactory\");\n\nconst WebpackIsIncludedDependency = require(\"./dependencies/WebpackIsIncludedDependency\");\n\nconst {\n  toConstantDependency\n} = require(\"./javascript/JavascriptParserHelpers\");\n/** @typedef {import(\"enhanced-resolve/lib/Resolver\")} Resolver */\n\n/** @typedef {import(\"./Compiler\")} Compiler */\n\n/** @typedef {import(\"./Module\")} Module */\n\n/** @typedef {import(\"./javascript/JavascriptParser\")} JavascriptParser */\n\n\nclass WebpackIsIncludedPlugin {\n  /**\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"WebpackIsIncludedPlugin\", (compilation, _ref) => {\n      let {\n        normalModuleFactory\n      } = _ref;\n      compilation.dependencyFactories.set(WebpackIsIncludedDependency, new IgnoreErrorModuleFactory(normalModuleFactory));\n      compilation.dependencyTemplates.set(WebpackIsIncludedDependency, new WebpackIsIncludedDependency.Template());\n      /**\n       * @param {JavascriptParser} parser the parser\n       * @returns {void}\n       */\n\n      const handler = parser => {\n        parser.hooks.call.for(\"__webpack_is_included__\").tap(\"WebpackIsIncludedPlugin\", expr => {\n          if (expr.type !== \"CallExpression\" || expr.arguments.length !== 1 || expr.arguments[0].type === \"SpreadElement\") return;\n          const request = parser.evaluateExpression(expr.arguments[0]);\n          if (!request.isString()) return;\n          const dep = new WebpackIsIncludedDependency(request.string, expr.range);\n          dep.loc = expr.loc;\n          parser.state.module.addDependency(dep);\n          return true;\n        });\n        parser.hooks.typeof.for(\"__webpack_is_included__\").tap(\"WebpackIsIncludedPlugin\", toConstantDependency(parser, JSON.stringify(\"function\")));\n      };\n\n      normalModuleFactory.hooks.parser.for(\"javascript/auto\").tap(\"WebpackIsIncludedPlugin\", handler);\n      normalModuleFactory.hooks.parser.for(\"javascript/dynamic\").tap(\"WebpackIsIncludedPlugin\", handler);\n      normalModuleFactory.hooks.parser.for(\"javascript/esm\").tap(\"WebpackIsIncludedPlugin\", handler);\n    });\n  }\n\n}\n\nmodule.exports = WebpackIsIncludedPlugin;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/WebpackIsIncludedPlugin.js"],"names":["IgnoreErrorModuleFactory","require","WebpackIsIncludedDependency","toConstantDependency","WebpackIsIncludedPlugin","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencyTemplates","Template","handler","parser","call","for","expr","type","arguments","length","request","evaluateExpression","isString","dep","string","range","loc","state","module","addDependency","typeof","JSON","stringify","exports"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,wBAAwB,GAAGC,OAAO,CAAC,4BAAD,CAAxC;;AACA,MAAMC,2BAA2B,GAAGD,OAAO,CAAC,4CAAD,CAA3C;;AACA,MAAM;AACLE,EAAAA;AADK,IAEFF,OAAO,CAAC,sCAAD,CAFX;AAIA;;AACA;;AACA;;AACA;;;AAEA,MAAMG,uBAAN,CAA8B;AAC7B;AACD;AACA;AACA;AACCC,EAAAA,KAAK,CAACC,QAAD,EAAW;AACfA,IAAAA,QAAQ,CAACC,KAAT,CAAeC,WAAf,CAA2BC,GAA3B,CACC,yBADD,EAEC,CAACD,WAAD,WAA0C;AAAA,UAA5B;AAAEE,QAAAA;AAAF,OAA4B;AACzCF,MAAAA,WAAW,CAACG,mBAAZ,CAAgCC,GAAhC,CACCV,2BADD,EAEC,IAAIF,wBAAJ,CAA6BU,mBAA7B,CAFD;AAIAF,MAAAA,WAAW,CAACK,mBAAZ,CAAgCD,GAAhC,CACCV,2BADD,EAEC,IAAIA,2BAA2B,CAACY,QAAhC,EAFD;AAKA;AACJ;AACA;AACA;;AACI,YAAMC,OAAO,GAAGC,MAAM,IAAI;AACzBA,QAAAA,MAAM,CAACT,KAAP,CAAaU,IAAb,CACEC,GADF,CACM,yBADN,EAEET,GAFF,CAEM,yBAFN,EAEiCU,IAAI,IAAI;AACvC,cACCA,IAAI,CAACC,IAAL,KAAc,gBAAd,IACAD,IAAI,CAACE,SAAL,CAAeC,MAAf,KAA0B,CAD1B,IAEAH,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkBD,IAAlB,KAA2B,eAH5B,EAKC;AAED,gBAAMG,OAAO,GAAGP,MAAM,CAACQ,kBAAP,CAA0BL,IAAI,CAACE,SAAL,CAAe,CAAf,CAA1B,CAAhB;AAEA,cAAI,CAACE,OAAO,CAACE,QAAR,EAAL,EAAyB;AAEzB,gBAAMC,GAAG,GAAG,IAAIxB,2BAAJ,CACXqB,OAAO,CAACI,MADG,EAEXR,IAAI,CAACS,KAFM,CAAZ;AAIAF,UAAAA,GAAG,CAACG,GAAJ,GAAUV,IAAI,CAACU,GAAf;AACAb,UAAAA,MAAM,CAACc,KAAP,CAAaC,MAAb,CAAoBC,aAApB,CAAkCN,GAAlC;AACA,iBAAO,IAAP;AACA,SArBF;AAsBAV,QAAAA,MAAM,CAACT,KAAP,CAAa0B,MAAb,CACEf,GADF,CACM,yBADN,EAEET,GAFF,CAGE,yBAHF,EAIEN,oBAAoB,CAACa,MAAD,EAASkB,IAAI,CAACC,SAAL,CAAe,UAAf,CAAT,CAJtB;AAMA,OA7BD;;AA8BAzB,MAAAA,mBAAmB,CAACH,KAApB,CAA0BS,MAA1B,CACEE,GADF,CACM,iBADN,EAEET,GAFF,CAEM,yBAFN,EAEiCM,OAFjC;AAGAL,MAAAA,mBAAmB,CAACH,KAApB,CAA0BS,MAA1B,CACEE,GADF,CACM,oBADN,EAEET,GAFF,CAEM,yBAFN,EAEiCM,OAFjC;AAGAL,MAAAA,mBAAmB,CAACH,KAApB,CAA0BS,MAA1B,CACEE,GADF,CACM,gBADN,EAEET,GAFF,CAEM,yBAFN,EAEiCM,OAFjC;AAGA,KAvDF;AAyDA;;AA/D4B;;AAkE9BgB,MAAM,CAACK,OAAP,GAAiBhC,uBAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Ivan Kopeykin @vankop\n*/\n\n\"use strict\";\n\nconst IgnoreErrorModuleFactory = require(\"./IgnoreErrorModuleFactory\");\nconst WebpackIsIncludedDependency = require(\"./dependencies/WebpackIsIncludedDependency\");\nconst {\n\ttoConstantDependency\n} = require(\"./javascript/JavascriptParserHelpers\");\n\n/** @typedef {import(\"enhanced-resolve/lib/Resolver\")} Resolver */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./javascript/JavascriptParser\")} JavascriptParser */\n\nclass WebpackIsIncludedPlugin {\n\t/**\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"WebpackIsIncludedPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tWebpackIsIncludedDependency,\n\t\t\t\t\tnew IgnoreErrorModuleFactory(normalModuleFactory)\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tWebpackIsIncludedDependency,\n\t\t\t\t\tnew WebpackIsIncludedDependency.Template()\n\t\t\t\t);\n\n\t\t\t\t/**\n\t\t\t\t * @param {JavascriptParser} parser the parser\n\t\t\t\t * @returns {void}\n\t\t\t\t */\n\t\t\t\tconst handler = parser => {\n\t\t\t\t\tparser.hooks.call\n\t\t\t\t\t\t.for(\"__webpack_is_included__\")\n\t\t\t\t\t\t.tap(\"WebpackIsIncludedPlugin\", expr => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\texpr.type !== \"CallExpression\" ||\n\t\t\t\t\t\t\t\texpr.arguments.length !== 1 ||\n\t\t\t\t\t\t\t\texpr.arguments[0].type === \"SpreadElement\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\tconst request = parser.evaluateExpression(expr.arguments[0]);\n\n\t\t\t\t\t\t\tif (!request.isString()) return;\n\n\t\t\t\t\t\t\tconst dep = new WebpackIsIncludedDependency(\n\t\t\t\t\t\t\t\trequest.string,\n\t\t\t\t\t\t\t\texpr.range\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tdep.loc = expr.loc;\n\t\t\t\t\t\t\tparser.state.module.addDependency(dep);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\tparser.hooks.typeof\n\t\t\t\t\t\t.for(\"__webpack_is_included__\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"WebpackIsIncludedPlugin\",\n\t\t\t\t\t\t\ttoConstantDependency(parser, JSON.stringify(\"function\"))\n\t\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"WebpackIsIncludedPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/dynamic\")\n\t\t\t\t\t.tap(\"WebpackIsIncludedPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/esm\")\n\t\t\t\t\t.tap(\"WebpackIsIncludedPlugin\", handler);\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = WebpackIsIncludedPlugin;\n"]},"metadata":{},"sourceType":"script"}