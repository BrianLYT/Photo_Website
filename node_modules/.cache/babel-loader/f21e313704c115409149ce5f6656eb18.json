{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  SyncWaterfallHook\n} = require(\"tapable\");\n\nconst Compilation = require(\"../Compilation\");\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\n\nconst RuntimeModule = require(\"../RuntimeModule\");\n\nconst Template = require(\"../Template\");\n\nconst compileBooleanMatcher = require(\"../util/compileBooleanMatcher\");\n\nconst {\n  chunkHasCss\n} = require(\"./CssModulesPlugin\");\n/** @typedef {import(\"../Chunk\")} Chunk */\n\n/**\n * @typedef {Object} JsonpCompilationPluginHooks\n * @property {SyncWaterfallHook<[string, Chunk]>} createStylesheet\n */\n\n/** @type {WeakMap<Compilation, JsonpCompilationPluginHooks>} */\n\n\nconst compilationHooksMap = new WeakMap();\n\nclass CssLoadingRuntimeModule extends RuntimeModule {\n  /**\n   * @param {Compilation} compilation the compilation\n   * @returns {JsonpCompilationPluginHooks} hooks\n   */\n  static getCompilationHooks(compilation) {\n    if (!(compilation instanceof Compilation)) {\n      throw new TypeError(\"The 'compilation' argument must be an instance of Compilation\");\n    }\n\n    let hooks = compilationHooksMap.get(compilation);\n\n    if (hooks === undefined) {\n      hooks = {\n        createStylesheet: new SyncWaterfallHook([\"source\", \"chunk\"])\n      };\n      compilationHooksMap.set(compilation, hooks);\n    }\n\n    return hooks;\n  }\n\n  constructor(runtimeRequirements, runtimeOptions) {\n    super(\"css loading\", 10);\n    this._runtimeRequirements = runtimeRequirements;\n    this.runtimeOptions = runtimeOptions;\n  }\n  /**\n   * @returns {string} runtime code\n   */\n\n\n  generate() {\n    const {\n      compilation,\n      chunk,\n      _runtimeRequirements\n    } = this;\n    const {\n      chunkGraph,\n      runtimeTemplate,\n      outputOptions: {\n        crossOriginLoading,\n        uniqueName,\n        chunkLoadTimeout: loadTimeout\n      }\n    } = compilation;\n    const fn = RuntimeGlobals.ensureChunkHandlers;\n    const conditionMap = chunkGraph.getChunkConditionMap(chunk, (chunk, chunkGraph) => !!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css\"));\n    const hasCssMatcher = compileBooleanMatcher(conditionMap);\n    const withLoading = _runtimeRequirements.has(RuntimeGlobals.ensureChunkHandlers) && hasCssMatcher !== false;\n\n    const withHmr = _runtimeRequirements.has(RuntimeGlobals.hmrDownloadUpdateHandlers);\n\n    const initialChunkIdsWithCss = new Set();\n    const initialChunkIdsWithoutCss = new Set();\n\n    for (const c of chunk.getAllInitialChunks()) {\n      (chunkHasCss(c, chunkGraph) ? initialChunkIdsWithCss : initialChunkIdsWithoutCss).add(c.id);\n    }\n\n    if (!withLoading && !withHmr && initialChunkIdsWithCss.size === 0) {\n      return null;\n    }\n\n    const {\n      createStylesheet\n    } = CssLoadingRuntimeModule.getCompilationHooks(compilation);\n    const stateExpression = withHmr ? `${RuntimeGlobals.hmrRuntimeStatePrefix}_css` : undefined;\n    const code = Template.asString([\"link = document.createElement('link');\", uniqueName ? 'link.setAttribute(\"data-webpack\", uniqueName + \":\" + key);' : \"\", \"link.setAttribute(loadingAttribute, 1);\", 'link.rel = \"stylesheet\";', \"link.href = url;\", crossOriginLoading ? Template.asString([\"if (link.src.indexOf(window.location.origin + '/') !== 0) {\", Template.indent(`link.crossOrigin = ${JSON.stringify(crossOriginLoading)};`), \"}\"]) : \"\"]);\n\n    const cc = str => str.charCodeAt(0);\n\n    return Template.asString([\"// object to store loaded and loading chunks\", \"// undefined = chunk not loaded, null = chunk preloaded/prefetched\", \"// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\", `var installedChunks = ${stateExpression ? `${stateExpression} = ${stateExpression} || ` : \"\"}{${Array.from(initialChunkIdsWithoutCss, id => `${JSON.stringify(id)}:0`).join(\",\")}};`, \"\", uniqueName ? `var uniqueName = ${JSON.stringify(runtimeTemplate.outputOptions.uniqueName)};` : \"// data-webpack is not used as build has no uniqueName\", `var loadCssChunkData = ${runtimeTemplate.basicFunction(\"target, link, chunkId\", [`var data, token = \"\", token2, exports = {}, exportsWithId = [], exportsWithDashes = [], ${withHmr ? \"moduleIds = [], \" : \"\"}i = 0, cc = 1;`, \"try { if(!link) link = loadStylesheet(chunkId); data = link.sheet.cssRules; data = data[data.length - 1].style; } catch(e) { data = getComputedStyle(document.head); }\", `data = data.getPropertyValue(${uniqueName ? runtimeTemplate.concatenation(\"--webpack-\", {\n      expr: \"uniqueName\"\n    }, \"-\", {\n      expr: \"chunkId\"\n    }) : runtimeTemplate.concatenation(\"--webpack-\", {\n      expr: \"chunkId\"\n    })});`, \"if(!data) return [];\", \"for(; cc; i++) {\", Template.indent([\"cc = data.charCodeAt(i);\", `if(cc == ${cc(\"(\")}) { token2 = token; token = \"\"; }`, `else if(cc == ${cc(\")\")}) { exports[token2.replace(/^_/, \"\")] = token.replace(/^_/, \"\"); token = \"\"; }`, `else if(cc == ${cc(\"/\")} || cc == ${cc(\"%\")}) { token = token.replace(/^_/, \"\"); exports[token] = token; exportsWithId.push(token); if(cc == ${cc(\"%\")}) exportsWithDashes.push(token); token = \"\"; }`, `else if(!cc || cc == ${cc(\",\")}) { token = token.replace(/^_/, \"\"); exportsWithId.forEach(${runtimeTemplate.expressionFunction(`exports[x] = ${uniqueName ? runtimeTemplate.concatenation({\n      expr: \"uniqueName\"\n    }, \"-\", {\n      expr: \"token\"\n    }, \"-\", {\n      expr: \"exports[x]\"\n    }) : runtimeTemplate.concatenation({\n      expr: \"token\"\n    }, \"-\", {\n      expr: \"exports[x]\"\n    })}`, \"x\")}); exportsWithDashes.forEach(${runtimeTemplate.expressionFunction(`exports[x] = \"--\" + exports[x]`, \"x\")}); ${RuntimeGlobals.makeNamespaceObject}(exports); target[token] = (${runtimeTemplate.basicFunction(\"exports, module\", `module.exports = exports;`)}).bind(null, exports); ${withHmr ? \"moduleIds.push(token); \" : \"\"}token = \"\"; exports = {}; exportsWithId.length = 0; }`, `else if(cc == ${cc(\"\\\\\")}) { token += data[++i] }`, `else { token += data[i]; }`]), \"}\", `${withHmr ? `if(target == ${RuntimeGlobals.moduleFactories}) ` : \"\"}installedChunks[chunkId] = 0;`, withHmr ? \"return moduleIds;\" : \"\"])}`, 'var loadingAttribute = \"data-webpack-loading\";', `var loadStylesheet = ${runtimeTemplate.basicFunction(\"chunkId, url, done\" + (withHmr ? \", hmr\" : \"\"), ['var link, needAttach, key = \"chunk-\" + chunkId;', withHmr ? \"if(!hmr) {\" : \"\", 'var links = document.getElementsByTagName(\"link\");', \"for(var i = 0; i < links.length; i++) {\", Template.indent([\"var l = links[i];\", `if(l.rel == \"stylesheet\" && (${withHmr ? 'l.href.startsWith(url) || l.getAttribute(\"href\").startsWith(url)' : 'l.href == url || l.getAttribute(\"href\") == url'}${uniqueName ? ' || l.getAttribute(\"data-webpack\") == uniqueName + \":\" + key' : \"\"})) { link = l; break; }`]), \"}\", \"if(!done) return link;\", withHmr ? \"}\" : \"\", \"if(!link) {\", Template.indent([\"needAttach = true;\", createStylesheet.call(code, this.chunk)]), \"}\", `var onLinkComplete = ${runtimeTemplate.basicFunction(\"prev, event\", Template.asString([\"link.onerror = link.onload = null;\", \"link.removeAttribute(loadingAttribute);\", \"clearTimeout(timeout);\", 'if(event && event.type != \"load\") link.parentNode.removeChild(link)', \"done(event);\", \"if(prev) return prev(event);\"]))};`, \"if(link.getAttribute(loadingAttribute)) {\", Template.indent([`var timeout = setTimeout(onLinkComplete.bind(null, undefined, { type: 'timeout', target: link }), ${loadTimeout});`, \"link.onerror = onLinkComplete.bind(null, link.onerror);\", \"link.onload = onLinkComplete.bind(null, link.onload);\"]), \"} else onLinkComplete(undefined, { type: 'load', target: link });\", // We assume any existing stylesheet is render blocking\n    withHmr ? \"hmr ? document.head.insertBefore(link, hmr) :\" : \"\", \"needAttach && document.head.appendChild(link);\", \"return link;\"])};`, initialChunkIdsWithCss.size > 2 ? `${JSON.stringify(Array.from(initialChunkIdsWithCss))}.forEach(loadCssChunkData.bind(null, ${RuntimeGlobals.moduleFactories}, 0));` : initialChunkIdsWithCss.size > 0 ? `${Array.from(initialChunkIdsWithCss, id => `loadCssChunkData(${RuntimeGlobals.moduleFactories}, 0, ${JSON.stringify(id)});`).join(\"\")}` : \"// no initial css\", \"\", withLoading ? Template.asString([`${fn}.css = ${runtimeTemplate.basicFunction(\"chunkId, promises\", [\"// css chunk loading\", `var installedChunkData = ${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;`, 'if(installedChunkData !== 0) { // 0 means \"already installed\".', Template.indent([\"\", '// a Promise means \"currently loading\".', \"if(installedChunkData) {\", Template.indent([\"promises.push(installedChunkData[2]);\"]), \"} else {\", Template.indent([hasCssMatcher === true ? \"if(true) { // all chunks have CSS\" : `if(${hasCssMatcher(\"chunkId\")}) {`, Template.indent([\"// setup Promise in chunk cache\", `var promise = new Promise(${runtimeTemplate.expressionFunction(`installedChunkData = installedChunks[chunkId] = [resolve, reject]`, \"resolve, reject\")});`, \"promises.push(installedChunkData[2] = promise);\", \"\", \"// start chunk loading\", `var url = ${RuntimeGlobals.publicPath} + ${RuntimeGlobals.getChunkCssFilename}(chunkId);`, \"// create error before stack unwound to get useful stacktrace later\", \"var error = new Error();\", `var loadingEnded = ${runtimeTemplate.basicFunction(\"event\", [`if(${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId)) {`, Template.indent([\"installedChunkData = installedChunks[chunkId];\", \"if(installedChunkData !== 0) installedChunks[chunkId] = undefined;\", \"if(installedChunkData) {\", Template.indent(['if(event.type !== \"load\") {', Template.indent([\"var errorType = event && event.type;\", \"var realSrc = event && event.target && event.target.src;\", \"error.message = 'Loading css chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\", \"error.name = 'ChunkLoadError';\", \"error.type = errorType;\", \"error.request = realSrc;\", \"installedChunkData[1](error);\"]), \"} else {\", Template.indent([`loadCssChunkData(${RuntimeGlobals.moduleFactories}, link, chunkId);`, \"installedChunkData[0]();\"]), \"}\"]), \"}\"]), \"}\"])};`, \"var link = loadStylesheet(chunkId, url, loadingEnded);\"]), \"} else installedChunks[chunkId] = 0;\"]), \"}\"]), \"}\"])};`]) : \"// no chunk loading\", \"\", withHmr ? Template.asString([\"var oldTags = [];\", \"var newTags = [];\", `var applyHandler = ${runtimeTemplate.basicFunction(\"options\", [`return { dispose: ${runtimeTemplate.basicFunction(\"\", [])}, apply: ${runtimeTemplate.basicFunction(\"\", [\"var moduleIds = [];\", `newTags.forEach(${runtimeTemplate.expressionFunction(\"info[1].sheet.disabled = false\", \"info\")});`, \"while(oldTags.length) {\", Template.indent([\"var oldTag = oldTags.pop();\", \"if(oldTag.parentNode) oldTag.parentNode.removeChild(oldTag);\"]), \"}\", \"while(newTags.length) {\", Template.indent([`var info = newTags.pop();`, `var chunkModuleIds = loadCssChunkData(${RuntimeGlobals.moduleFactories}, info[1], info[0]);`, `chunkModuleIds.forEach(${runtimeTemplate.expressionFunction(\"moduleIds.push(id)\", \"id\")});`]), \"}\", \"return moduleIds;\"])} };`])}`, `var cssTextKey = ${runtimeTemplate.returningFunction(`Array.from(link.sheet.cssRules, ${runtimeTemplate.returningFunction(\"r.cssText\", \"r\")}).join()`, \"link\")}`, `${RuntimeGlobals.hmrDownloadUpdateHandlers}.css = ${runtimeTemplate.basicFunction(\"chunkIds, removedChunks, removedModules, promises, applyHandlers, updatedModulesList\", [\"applyHandlers.push(applyHandler);\", `chunkIds.forEach(${runtimeTemplate.basicFunction(\"chunkId\", [`var filename = ${RuntimeGlobals.getChunkCssFilename}(chunkId);`, `var url = ${RuntimeGlobals.publicPath} + filename;`, \"var oldTag = loadStylesheet(chunkId, url);\", \"if(!oldTag) return;\", `promises.push(new Promise(${runtimeTemplate.basicFunction(\"resolve, reject\", [`var link = loadStylesheet(chunkId, url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + \"hmr=\" + Date.now(), ${runtimeTemplate.basicFunction(\"event\", ['if(event.type !== \"load\") {', Template.indent([\"var errorType = event && event.type;\", \"var realSrc = event && event.target && event.target.src;\", \"error.message = 'Loading css hot update chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\", \"error.name = 'ChunkLoadError';\", \"error.type = errorType;\", \"error.request = realSrc;\", \"reject(error);\"]), \"} else {\", Template.indent([\"try { if(cssTextKey(oldTag) == cssTextKey(link)) { if(link.parentNode) link.parentNode.removeChild(link); return resolve(); } } catch(e) {}\", \"var factories = {};\", \"loadCssChunkData(factories, link, chunkId);\", `Object.keys(factories).forEach(${runtimeTemplate.expressionFunction(\"updatedModulesList.push(id)\", \"id\")})`, \"link.sheet.disabled = true;\", \"oldTags.push(oldTag);\", \"newTags.push([chunkId, link]);\", \"resolve();\"]), \"}\"])}, oldTag);`])}));`])});`])}`]) : \"// no hmr\"]);\n  }\n\n}\n\nmodule.exports = CssLoadingRuntimeModule;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/css/CssLoadingRuntimeModule.js"],"names":["SyncWaterfallHook","require","Compilation","RuntimeGlobals","RuntimeModule","Template","compileBooleanMatcher","chunkHasCss","compilationHooksMap","WeakMap","CssLoadingRuntimeModule","getCompilationHooks","compilation","TypeError","hooks","get","undefined","createStylesheet","set","constructor","runtimeRequirements","runtimeOptions","_runtimeRequirements","generate","chunk","chunkGraph","runtimeTemplate","outputOptions","crossOriginLoading","uniqueName","chunkLoadTimeout","loadTimeout","fn","ensureChunkHandlers","conditionMap","getChunkConditionMap","getChunkModulesIterableBySourceType","hasCssMatcher","withLoading","has","withHmr","hmrDownloadUpdateHandlers","initialChunkIdsWithCss","Set","initialChunkIdsWithoutCss","c","getAllInitialChunks","add","id","size","stateExpression","hmrRuntimeStatePrefix","code","asString","indent","JSON","stringify","cc","str","charCodeAt","Array","from","join","basicFunction","concatenation","expr","expressionFunction","makeNamespaceObject","moduleFactories","call","hasOwnProperty","publicPath","getChunkCssFilename","returningFunction","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { SyncWaterfallHook } = require(\"tapable\");\nconst Compilation = require(\"../Compilation\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst RuntimeModule = require(\"../RuntimeModule\");\nconst Template = require(\"../Template\");\nconst compileBooleanMatcher = require(\"../util/compileBooleanMatcher\");\nconst { chunkHasCss } = require(\"./CssModulesPlugin\");\n\n/** @typedef {import(\"../Chunk\")} Chunk */\n\n/**\n * @typedef {Object} JsonpCompilationPluginHooks\n * @property {SyncWaterfallHook<[string, Chunk]>} createStylesheet\n */\n\n/** @type {WeakMap<Compilation, JsonpCompilationPluginHooks>} */\nconst compilationHooksMap = new WeakMap();\n\nclass CssLoadingRuntimeModule extends RuntimeModule {\n\t/**\n\t * @param {Compilation} compilation the compilation\n\t * @returns {JsonpCompilationPluginHooks} hooks\n\t */\n\tstatic getCompilationHooks(compilation) {\n\t\tif (!(compilation instanceof Compilation)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t\"The 'compilation' argument must be an instance of Compilation\"\n\t\t\t);\n\t\t}\n\t\tlet hooks = compilationHooksMap.get(compilation);\n\t\tif (hooks === undefined) {\n\t\t\thooks = {\n\t\t\t\tcreateStylesheet: new SyncWaterfallHook([\"source\", \"chunk\"])\n\t\t\t};\n\t\t\tcompilationHooksMap.set(compilation, hooks);\n\t\t}\n\t\treturn hooks;\n\t}\n\n\tconstructor(runtimeRequirements, runtimeOptions) {\n\t\tsuper(\"css loading\", 10);\n\n\t\tthis._runtimeRequirements = runtimeRequirements;\n\t\tthis.runtimeOptions = runtimeOptions;\n\t}\n\n\t/**\n\t * @returns {string} runtime code\n\t */\n\tgenerate() {\n\t\tconst { compilation, chunk, _runtimeRequirements } = this;\n\t\tconst {\n\t\t\tchunkGraph,\n\t\t\truntimeTemplate,\n\t\t\toutputOptions: {\n\t\t\t\tcrossOriginLoading,\n\t\t\t\tuniqueName,\n\t\t\t\tchunkLoadTimeout: loadTimeout\n\t\t\t}\n\t\t} = compilation;\n\t\tconst fn = RuntimeGlobals.ensureChunkHandlers;\n\t\tconst conditionMap = chunkGraph.getChunkConditionMap(\n\t\t\tchunk,\n\t\t\t(chunk, chunkGraph) =>\n\t\t\t\t!!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css\")\n\t\t);\n\t\tconst hasCssMatcher = compileBooleanMatcher(conditionMap);\n\n\t\tconst withLoading =\n\t\t\t_runtimeRequirements.has(RuntimeGlobals.ensureChunkHandlers) &&\n\t\t\thasCssMatcher !== false;\n\t\tconst withHmr = _runtimeRequirements.has(\n\t\t\tRuntimeGlobals.hmrDownloadUpdateHandlers\n\t\t);\n\t\tconst initialChunkIdsWithCss = new Set();\n\t\tconst initialChunkIdsWithoutCss = new Set();\n\t\tfor (const c of chunk.getAllInitialChunks()) {\n\t\t\t(chunkHasCss(c, chunkGraph)\n\t\t\t\t? initialChunkIdsWithCss\n\t\t\t\t: initialChunkIdsWithoutCss\n\t\t\t).add(c.id);\n\t\t}\n\n\t\tif (!withLoading && !withHmr && initialChunkIdsWithCss.size === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { createStylesheet } =\n\t\t\tCssLoadingRuntimeModule.getCompilationHooks(compilation);\n\n\t\tconst stateExpression = withHmr\n\t\t\t? `${RuntimeGlobals.hmrRuntimeStatePrefix}_css`\n\t\t\t: undefined;\n\n\t\tconst code = Template.asString([\n\t\t\t\"link = document.createElement('link');\",\n\t\t\tuniqueName\n\t\t\t\t? 'link.setAttribute(\"data-webpack\", uniqueName + \":\" + key);'\n\t\t\t\t: \"\",\n\t\t\t\"link.setAttribute(loadingAttribute, 1);\",\n\t\t\t'link.rel = \"stylesheet\";',\n\t\t\t\"link.href = url;\",\n\t\t\tcrossOriginLoading\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\"if (link.src.indexOf(window.location.origin + '/') !== 0) {\",\n\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t`link.crossOrigin = ${JSON.stringify(crossOriginLoading)};`\n\t\t\t\t\t\t),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t  ])\n\t\t\t\t: \"\"\n\t\t]);\n\n\t\tconst cc = str => str.charCodeAt(0);\n\n\t\treturn Template.asString([\n\t\t\t\"// object to store loaded and loading chunks\",\n\t\t\t\"// undefined = chunk not loaded, null = chunk preloaded/prefetched\",\n\t\t\t\"// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\",\n\t\t\t`var installedChunks = ${\n\t\t\t\tstateExpression ? `${stateExpression} = ${stateExpression} || ` : \"\"\n\t\t\t}{${Array.from(\n\t\t\t\tinitialChunkIdsWithoutCss,\n\t\t\t\tid => `${JSON.stringify(id)}:0`\n\t\t\t).join(\",\")}};`,\n\t\t\t\"\",\n\t\t\tuniqueName\n\t\t\t\t? `var uniqueName = ${JSON.stringify(\n\t\t\t\t\t\truntimeTemplate.outputOptions.uniqueName\n\t\t\t\t  )};`\n\t\t\t\t: \"// data-webpack is not used as build has no uniqueName\",\n\t\t\t`var loadCssChunkData = ${runtimeTemplate.basicFunction(\n\t\t\t\t\"target, link, chunkId\",\n\t\t\t\t[\n\t\t\t\t\t`var data, token = \"\", token2, exports = {}, exportsWithId = [], exportsWithDashes = [], ${\n\t\t\t\t\t\twithHmr ? \"moduleIds = [], \" : \"\"\n\t\t\t\t\t}i = 0, cc = 1;`,\n\t\t\t\t\t\"try { if(!link) link = loadStylesheet(chunkId); data = link.sheet.cssRules; data = data[data.length - 1].style; } catch(e) { data = getComputedStyle(document.head); }\",\n\t\t\t\t\t`data = data.getPropertyValue(${\n\t\t\t\t\t\tuniqueName\n\t\t\t\t\t\t\t? runtimeTemplate.concatenation(\n\t\t\t\t\t\t\t\t\t\"--webpack-\",\n\t\t\t\t\t\t\t\t\t{ expr: \"uniqueName\" },\n\t\t\t\t\t\t\t\t\t\"-\",\n\t\t\t\t\t\t\t\t\t{ expr: \"chunkId\" }\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: runtimeTemplate.concatenation(\"--webpack-\", { expr: \"chunkId\" })\n\t\t\t\t\t});`,\n\t\t\t\t\t\"if(!data) return [];\",\n\t\t\t\t\t\"for(; cc; i++) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"cc = data.charCodeAt(i);\",\n\t\t\t\t\t\t`if(cc == ${cc(\"(\")}) { token2 = token; token = \"\"; }`,\n\t\t\t\t\t\t`else if(cc == ${cc(\n\t\t\t\t\t\t\t\")\"\n\t\t\t\t\t\t)}) { exports[token2.replace(/^_/, \"\")] = token.replace(/^_/, \"\"); token = \"\"; }`,\n\t\t\t\t\t\t`else if(cc == ${cc(\"/\")} || cc == ${cc(\n\t\t\t\t\t\t\t\"%\"\n\t\t\t\t\t\t)}) { token = token.replace(/^_/, \"\"); exports[token] = token; exportsWithId.push(token); if(cc == ${cc(\n\t\t\t\t\t\t\t\"%\"\n\t\t\t\t\t\t)}) exportsWithDashes.push(token); token = \"\"; }`,\n\t\t\t\t\t\t`else if(!cc || cc == ${cc(\n\t\t\t\t\t\t\t\",\"\n\t\t\t\t\t\t)}) { token = token.replace(/^_/, \"\"); exportsWithId.forEach(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t`exports[x] = ${\n\t\t\t\t\t\t\t\tuniqueName\n\t\t\t\t\t\t\t\t\t? runtimeTemplate.concatenation(\n\t\t\t\t\t\t\t\t\t\t\t{ expr: \"uniqueName\" },\n\t\t\t\t\t\t\t\t\t\t\t\"-\",\n\t\t\t\t\t\t\t\t\t\t\t{ expr: \"token\" },\n\t\t\t\t\t\t\t\t\t\t\t\"-\",\n\t\t\t\t\t\t\t\t\t\t\t{ expr: \"exports[x]\" }\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: runtimeTemplate.concatenation({ expr: \"token\" }, \"-\", {\n\t\t\t\t\t\t\t\t\t\t\texpr: \"exports[x]\"\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\t\"x\"\n\t\t\t\t\t\t)}); exportsWithDashes.forEach(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t`exports[x] = \"--\" + exports[x]`,\n\t\t\t\t\t\t\t\"x\"\n\t\t\t\t\t\t)}); ${\n\t\t\t\t\t\t\tRuntimeGlobals.makeNamespaceObject\n\t\t\t\t\t\t}(exports); target[token] = (${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\"exports, module\",\n\t\t\t\t\t\t\t`module.exports = exports;`\n\t\t\t\t\t\t)}).bind(null, exports); ${\n\t\t\t\t\t\t\twithHmr ? \"moduleIds.push(token); \" : \"\"\n\t\t\t\t\t\t}token = \"\"; exports = {}; exportsWithId.length = 0; }`,\n\t\t\t\t\t\t`else if(cc == ${cc(\"\\\\\")}) { token += data[++i] }`,\n\t\t\t\t\t\t`else { token += data[i]; }`\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t`${\n\t\t\t\t\t\twithHmr ? `if(target == ${RuntimeGlobals.moduleFactories}) ` : \"\"\n\t\t\t\t\t}installedChunks[chunkId] = 0;`,\n\t\t\t\t\twithHmr ? \"return moduleIds;\" : \"\"\n\t\t\t\t]\n\t\t\t)}`,\n\t\t\t'var loadingAttribute = \"data-webpack-loading\";',\n\t\t\t`var loadStylesheet = ${runtimeTemplate.basicFunction(\n\t\t\t\t\"chunkId, url, done\" + (withHmr ? \", hmr\" : \"\"),\n\t\t\t\t[\n\t\t\t\t\t'var link, needAttach, key = \"chunk-\" + chunkId;',\n\t\t\t\t\twithHmr ? \"if(!hmr) {\" : \"\",\n\t\t\t\t\t'var links = document.getElementsByTagName(\"link\");',\n\t\t\t\t\t\"for(var i = 0; i < links.length; i++) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"var l = links[i];\",\n\t\t\t\t\t\t`if(l.rel == \"stylesheet\" && (${\n\t\t\t\t\t\t\twithHmr\n\t\t\t\t\t\t\t\t? 'l.href.startsWith(url) || l.getAttribute(\"href\").startsWith(url)'\n\t\t\t\t\t\t\t\t: 'l.href == url || l.getAttribute(\"href\") == url'\n\t\t\t\t\t\t}${\n\t\t\t\t\t\t\tuniqueName\n\t\t\t\t\t\t\t\t? ' || l.getAttribute(\"data-webpack\") == uniqueName + \":\" + key'\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t})) { link = l; break; }`\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"if(!done) return link;\",\n\t\t\t\t\twithHmr ? \"}\" : \"\",\n\t\t\t\t\t\"if(!link) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"needAttach = true;\",\n\t\t\t\t\t\tcreateStylesheet.call(code, this.chunk)\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t`var onLinkComplete = ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\"prev, event\",\n\t\t\t\t\t\tTemplate.asString([\n\t\t\t\t\t\t\t\"link.onerror = link.onload = null;\",\n\t\t\t\t\t\t\t\"link.removeAttribute(loadingAttribute);\",\n\t\t\t\t\t\t\t\"clearTimeout(timeout);\",\n\t\t\t\t\t\t\t'if(event && event.type != \"load\") link.parentNode.removeChild(link)',\n\t\t\t\t\t\t\t\"done(event);\",\n\t\t\t\t\t\t\t\"if(prev) return prev(event);\"\n\t\t\t\t\t\t])\n\t\t\t\t\t)};`,\n\t\t\t\t\t\"if(link.getAttribute(loadingAttribute)) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t`var timeout = setTimeout(onLinkComplete.bind(null, undefined, { type: 'timeout', target: link }), ${loadTimeout});`,\n\t\t\t\t\t\t\"link.onerror = onLinkComplete.bind(null, link.onerror);\",\n\t\t\t\t\t\t\"link.onload = onLinkComplete.bind(null, link.onload);\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"} else onLinkComplete(undefined, { type: 'load', target: link });\", // We assume any existing stylesheet is render blocking\n\t\t\t\t\twithHmr ? \"hmr ? document.head.insertBefore(link, hmr) :\" : \"\",\n\t\t\t\t\t\"needAttach && document.head.appendChild(link);\",\n\t\t\t\t\t\"return link;\"\n\t\t\t\t]\n\t\t\t)};`,\n\t\t\tinitialChunkIdsWithCss.size > 2\n\t\t\t\t? `${JSON.stringify(\n\t\t\t\t\t\tArray.from(initialChunkIdsWithCss)\n\t\t\t\t  )}.forEach(loadCssChunkData.bind(null, ${\n\t\t\t\t\t\tRuntimeGlobals.moduleFactories\n\t\t\t\t  }, 0));`\n\t\t\t\t: initialChunkIdsWithCss.size > 0\n\t\t\t\t? `${Array.from(\n\t\t\t\t\t\tinitialChunkIdsWithCss,\n\t\t\t\t\t\tid =>\n\t\t\t\t\t\t\t`loadCssChunkData(${\n\t\t\t\t\t\t\t\tRuntimeGlobals.moduleFactories\n\t\t\t\t\t\t\t}, 0, ${JSON.stringify(id)});`\n\t\t\t\t  ).join(\"\")}`\n\t\t\t\t: \"// no initial css\",\n\t\t\t\"\",\n\t\t\twithLoading\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t`${fn}.css = ${runtimeTemplate.basicFunction(\"chunkId, promises\", [\n\t\t\t\t\t\t\t\"// css chunk loading\",\n\t\t\t\t\t\t\t`var installedChunkData = ${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;`,\n\t\t\t\t\t\t\t'if(installedChunkData !== 0) { // 0 means \"already installed\".',\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t'// a Promise means \"currently loading\".',\n\t\t\t\t\t\t\t\t\"if(installedChunkData) {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\"promises.push(installedChunkData[2]);\"]),\n\t\t\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\thasCssMatcher === true\n\t\t\t\t\t\t\t\t\t\t? \"if(true) { // all chunks have CSS\"\n\t\t\t\t\t\t\t\t\t\t: `if(${hasCssMatcher(\"chunkId\")}) {`,\n\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\"// setup Promise in chunk cache\",\n\t\t\t\t\t\t\t\t\t\t`var promise = new Promise(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t\t\t\t\t`installedChunkData = installedChunks[chunkId] = [resolve, reject]`,\n\t\t\t\t\t\t\t\t\t\t\t\"resolve, reject\"\n\t\t\t\t\t\t\t\t\t\t)});`,\n\t\t\t\t\t\t\t\t\t\t\"promises.push(installedChunkData[2] = promise);\",\n\t\t\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t\t\t\"// start chunk loading\",\n\t\t\t\t\t\t\t\t\t\t`var url = ${RuntimeGlobals.publicPath} + ${RuntimeGlobals.getChunkCssFilename}(chunkId);`,\n\t\t\t\t\t\t\t\t\t\t\"// create error before stack unwound to get useful stacktrace later\",\n\t\t\t\t\t\t\t\t\t\t\"var error = new Error();\",\n\t\t\t\t\t\t\t\t\t\t`var loadingEnded = ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\t\t\t\t\"event\",\n\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t`if(${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId)) {`,\n\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"installedChunkData = installedChunks[chunkId];\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"if(installedChunkData !== 0) installedChunks[chunkId] = undefined;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"if(installedChunkData) {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'if(event.type !== \"load\") {',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"var errorType = event && event.type;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"var realSrc = event && event.target && event.target.src;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.message = 'Loading css chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.name = 'ChunkLoadError';\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.type = errorType;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.request = realSrc;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"installedChunkData[1](error);\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`loadCssChunkData(${RuntimeGlobals.moduleFactories}, link, chunkId);`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"installedChunkData[0]();\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t)};`,\n\t\t\t\t\t\t\t\t\t\t\"var link = loadStylesheet(chunkId, url, loadingEnded);\"\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\"} else installedChunks[chunkId] = 0;\"\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t])};`\n\t\t\t\t  ])\n\t\t\t\t: \"// no chunk loading\",\n\t\t\t\"\",\n\t\t\twithHmr\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\"var oldTags = [];\",\n\t\t\t\t\t\t\"var newTags = [];\",\n\t\t\t\t\t\t`var applyHandler = ${runtimeTemplate.basicFunction(\"options\", [\n\t\t\t\t\t\t\t`return { dispose: ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)}, apply: ${runtimeTemplate.basicFunction(\"\", [\n\t\t\t\t\t\t\t\t\"var moduleIds = [];\",\n\t\t\t\t\t\t\t\t`newTags.forEach(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t\t\t\"info[1].sheet.disabled = false\",\n\t\t\t\t\t\t\t\t\t\"info\"\n\t\t\t\t\t\t\t\t)});`,\n\t\t\t\t\t\t\t\t\"while(oldTags.length) {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\"var oldTag = oldTags.pop();\",\n\t\t\t\t\t\t\t\t\t\"if(oldTag.parentNode) oldTag.parentNode.removeChild(oldTag);\"\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\t\"while(newTags.length) {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t`var info = newTags.pop();`,\n\t\t\t\t\t\t\t\t\t`var chunkModuleIds = loadCssChunkData(${RuntimeGlobals.moduleFactories}, info[1], info[0]);`,\n\t\t\t\t\t\t\t\t\t`chunkModuleIds.forEach(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t\t\t\t\"moduleIds.push(id)\",\n\t\t\t\t\t\t\t\t\t\t\"id\"\n\t\t\t\t\t\t\t\t\t)});`\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\t\"return moduleIds;\"\n\t\t\t\t\t\t\t])} };`\n\t\t\t\t\t\t])}`,\n\t\t\t\t\t\t`var cssTextKey = ${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t`Array.from(link.sheet.cssRules, ${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t\t\"r.cssText\",\n\t\t\t\t\t\t\t\t\"r\"\n\t\t\t\t\t\t\t)}).join()`,\n\t\t\t\t\t\t\t\"link\"\n\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t`${\n\t\t\t\t\t\t\tRuntimeGlobals.hmrDownloadUpdateHandlers\n\t\t\t\t\t\t}.css = ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\"chunkIds, removedChunks, removedModules, promises, applyHandlers, updatedModulesList\",\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"applyHandlers.push(applyHandler);\",\n\t\t\t\t\t\t\t\t`chunkIds.forEach(${runtimeTemplate.basicFunction(\"chunkId\", [\n\t\t\t\t\t\t\t\t\t`var filename = ${RuntimeGlobals.getChunkCssFilename}(chunkId);`,\n\t\t\t\t\t\t\t\t\t`var url = ${RuntimeGlobals.publicPath} + filename;`,\n\t\t\t\t\t\t\t\t\t\"var oldTag = loadStylesheet(chunkId, url);\",\n\t\t\t\t\t\t\t\t\t\"if(!oldTag) return;\",\n\t\t\t\t\t\t\t\t\t`promises.push(new Promise(${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\t\t\t\"resolve, reject\",\n\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t`var link = loadStylesheet(chunkId, url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + \"hmr=\" + Date.now(), ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\t\t\t\t\t\"event\",\n\t\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t\t'if(event.type !== \"load\") {',\n\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"var errorType = event && event.type;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"var realSrc = event && event.target && event.target.src;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.message = 'Loading css hot update chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.name = 'ChunkLoadError';\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.type = errorType;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error.request = realSrc;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"reject(error);\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"try { if(cssTextKey(oldTag) == cssTextKey(link)) { if(link.parentNode) link.parentNode.removeChild(link); return resolve(); } } catch(e) {}\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"var factories = {};\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"loadCssChunkData(factories, link, chunkId);\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Object.keys(factories).forEach(${runtimeTemplate.expressionFunction(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"updatedModulesList.push(id)\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)})`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"link.sheet.disabled = true;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"oldTags.push(oldTag);\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"newTags.push([chunkId, link]);\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"resolve();\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t)}, oldTag);`\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t)}));`\n\t\t\t\t\t\t\t\t])});`\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t)}`\n\t\t\t\t  ])\n\t\t\t\t: \"// no hmr\"\n\t\t]);\n\t}\n}\n\nmodule.exports = CssLoadingRuntimeModule;\n"]},"metadata":{},"sourceType":"script"}