{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  OriginalSource,\n  RawSource\n} = require(\"webpack-sources\");\n\nconst AsyncDependenciesBlock = require(\"./AsyncDependenciesBlock\");\n\nconst {\n  makeWebpackError\n} = require(\"./HookWebpackError\");\n\nconst Module = require(\"./Module\");\n\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\n\nconst Template = require(\"./Template\");\n\nconst WebpackError = require(\"./WebpackError\");\n\nconst {\n  compareLocations,\n  concatComparators,\n  compareSelect,\n  keepOriginalOrder,\n  compareModulesById\n} = require(\"./util/comparators\");\n\nconst {\n  contextify,\n  parseResource\n} = require(\"./util/identifier\");\n\nconst makeSerializable = require(\"./util/makeSerializable\");\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph */\n\n/** @typedef {import(\"./ChunkGroup\").RawChunkGroupOptions} RawChunkGroupOptions */\n\n/** @typedef {import(\"./Compilation\")} Compilation */\n\n/** @typedef {import(\"./DependencyTemplates\")} DependencyTemplates */\n\n/** @typedef {import(\"./Module\").BuildMeta} BuildMeta */\n\n/** @typedef {import(\"./Module\").CodeGenerationContext} CodeGenerationContext */\n\n/** @typedef {import(\"./Module\").CodeGenerationResult} CodeGenerationResult */\n\n/** @typedef {import(\"./Module\").LibIdentOptions} LibIdentOptions */\n\n/** @typedef {import(\"./Module\").NeedBuildContext} NeedBuildContext */\n\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph */\n\n/** @typedef {import(\"./RequestShortener\")} RequestShortener */\n\n/** @typedef {import(\"./ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n\n/** @typedef {import(\"./RuntimeTemplate\")} RuntimeTemplate */\n\n/** @typedef {import(\"./dependencies/ContextElementDependency\")} ContextElementDependency */\n\n/** @template T @typedef {import(\"./util/LazySet\")<T>} LazySet<T> */\n\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {\"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"} ContextMode Context mode */\n\n/**\n * @typedef {Object} ContextOptions\n * @property {ContextMode} mode\n * @property {boolean} recursive\n * @property {RegExp} regExp\n * @property {\"strict\"|boolean=} namespaceObject\n * @property {string=} addon\n * @property {string=} chunkName\n * @property {RegExp=} include\n * @property {RegExp=} exclude\n * @property {RawChunkGroupOptions=} groupOptions\n * @property {string=} typePrefix\n * @property {string=} category\n * @property {string[][]=} referencedExports exports referenced from modules (won't be mangled)\n */\n\n/**\n * @typedef {Object} ContextModuleOptionsExtras\n * @property {false|string|string[]} resource\n * @property {string=} resourceQuery\n * @property {string=} resourceFragment\n * @property {TODO} resolveOptions\n */\n\n/** @typedef {ContextOptions & ContextModuleOptionsExtras} ContextModuleOptions */\n\n/**\n * @callback ResolveDependenciesCallback\n * @param {(Error | null)=} err\n * @param {ContextElementDependency[]=} dependencies\n */\n\n/**\n * @callback ResolveDependencies\n * @param {InputFileSystem} fs\n * @param {ContextModuleOptions} options\n * @param {ResolveDependenciesCallback} callback\n */\n\n\nconst SNAPSHOT_OPTIONS = {\n  timestamp: true\n};\nconst TYPES = new Set([\"javascript\"]);\n\nclass ContextModule extends Module {\n  /**\n   * @param {ResolveDependencies} resolveDependencies function to get dependencies in this context\n   * @param {ContextModuleOptions} options options object\n   */\n  constructor(resolveDependencies, options) {\n    if (!options || typeof options.resource === \"string\") {\n      const parsed = parseResource(options ?\n      /** @type {string} */\n      options.resource : \"\");\n      const resource = parsed.path;\n      const resourceQuery = options && options.resourceQuery || parsed.query;\n      const resourceFragment = options && options.resourceFragment || parsed.fragment;\n      super(\"javascript/dynamic\", resource);\n      /** @type {ContextModuleOptions} */\n\n      this.options = { ...options,\n        resource,\n        resourceQuery,\n        resourceFragment\n      };\n    } else {\n      super(\"javascript/dynamic\");\n      /** @type {ContextModuleOptions} */\n\n      this.options = { ...options,\n        resource: options.resource,\n        resourceQuery: options.resourceQuery || \"\",\n        resourceFragment: options.resourceFragment || \"\"\n      };\n    } // Info from Factory\n\n\n    this.resolveDependencies = resolveDependencies;\n\n    if (options && options.resolveOptions !== undefined) {\n      this.resolveOptions = options.resolveOptions;\n    }\n\n    if (options && typeof options.mode !== \"string\") {\n      throw new Error(\"options.mode is a required option\");\n    }\n\n    this._identifier = this._createIdentifier();\n    this._forceBuild = true;\n  }\n  /**\n   * @returns {Set<string>} types available (do not mutate)\n   */\n\n\n  getSourceTypes() {\n    return TYPES;\n  }\n  /**\n   * Assuming this module is in the cache. Update the (cached) module with\n   * the fresh module from the factory. Usually updates internal references\n   * and properties.\n   * @param {Module} module fresh module\n   * @returns {void}\n   */\n\n\n  updateCacheModule(module) {\n    const m =\n    /** @type {ContextModule} */\n    module;\n    this.resolveDependencies = m.resolveDependencies;\n    this.options = m.options;\n  }\n  /**\n   * Assuming this module is in the cache. Remove internal references to allow freeing some memory.\n   */\n\n\n  cleanupForCache() {\n    super.cleanupForCache();\n    this.resolveDependencies = undefined;\n  }\n\n  _prettyRegExp(regexString) {\n    let stripSlash = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const str = (regexString + \"\").replace(/!/g, \"%21\").replace(/\\|/g, \"%7C\");\n    return stripSlash ? str.substring(1, str.length - 1) : str;\n  }\n\n  _createIdentifier() {\n    let identifier = this.context || (typeof this.options.resource === \"string\" || this.options.resource === false ? `${this.options.resource}` : this.options.resource.join(\"|\"));\n\n    if (this.options.resourceQuery) {\n      identifier += `|${this.options.resourceQuery}`;\n    }\n\n    if (this.options.resourceFragment) {\n      identifier += `|${this.options.resourceFragment}`;\n    }\n\n    if (this.options.mode) {\n      identifier += `|${this.options.mode}`;\n    }\n\n    if (!this.options.recursive) {\n      identifier += \"|nonrecursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += `|${this.options.addon}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += `|${this._prettyRegExp(this.options.regExp, false)}`;\n    }\n\n    if (this.options.include) {\n      identifier += `|include: ${this._prettyRegExp(this.options.include, false)}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += `|exclude: ${this._prettyRegExp(this.options.exclude, false)}`;\n    }\n\n    if (this.options.referencedExports) {\n      identifier += `|referencedExports: ${JSON.stringify(this.options.referencedExports)}`;\n    }\n\n    if (this.options.chunkName) {\n      identifier += `|chunkName: ${this.options.chunkName}`;\n    }\n\n    if (this.options.groupOptions) {\n      identifier += `|groupOptions: ${JSON.stringify(this.options.groupOptions)}`;\n    }\n\n    if (this.options.namespaceObject === \"strict\") {\n      identifier += \"|strict namespace object\";\n    } else if (this.options.namespaceObject) {\n      identifier += \"|namespace object\";\n    }\n\n    return identifier;\n  }\n  /**\n   * @returns {string} a unique identifier of the module\n   */\n\n\n  identifier() {\n    return this._identifier;\n  }\n  /**\n   * @param {RequestShortener} requestShortener the request shortener\n   * @returns {string} a user readable identifier of the module\n   */\n\n\n  readableIdentifier(requestShortener) {\n    let identifier;\n\n    if (this.context) {\n      identifier = requestShortener.shorten(this.context) + \"/\";\n    } else if (typeof this.options.resource === \"string\" || this.options.resource === false) {\n      identifier = requestShortener.shorten(`${this.options.resource}`) + \"/\";\n    } else {\n      identifier = this.options.resource.map(r => requestShortener.shorten(r) + \"/\").join(\" \");\n    }\n\n    if (this.options.resourceQuery) {\n      identifier += ` ${this.options.resourceQuery}`;\n    }\n\n    if (this.options.mode) {\n      identifier += ` ${this.options.mode}`;\n    }\n\n    if (!this.options.recursive) {\n      identifier += \" nonrecursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += ` ${requestShortener.shorten(this.options.addon)}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += ` ${this._prettyRegExp(this.options.regExp)}`;\n    }\n\n    if (this.options.include) {\n      identifier += ` include: ${this._prettyRegExp(this.options.include)}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += ` exclude: ${this._prettyRegExp(this.options.exclude)}`;\n    }\n\n    if (this.options.referencedExports) {\n      identifier += ` referencedExports: ${this.options.referencedExports.map(e => e.join(\".\")).join(\", \")}`;\n    }\n\n    if (this.options.chunkName) {\n      identifier += ` chunkName: ${this.options.chunkName}`;\n    }\n\n    if (this.options.groupOptions) {\n      const groupOptions = this.options.groupOptions;\n\n      for (const key of Object.keys(groupOptions)) {\n        identifier += ` ${key}: ${groupOptions[key]}`;\n      }\n    }\n\n    if (this.options.namespaceObject === \"strict\") {\n      identifier += \" strict namespace object\";\n    } else if (this.options.namespaceObject) {\n      identifier += \" namespace object\";\n    }\n\n    return identifier;\n  }\n  /**\n   * @param {LibIdentOptions} options options\n   * @returns {string | null} an identifier for library inclusion\n   */\n\n\n  libIdent(options) {\n    let identifier;\n\n    if (this.context) {\n      identifier = contextify(options.context, this.context, options.associatedObjectForCache);\n    } else if (typeof this.options.resource === \"string\") {\n      identifier = contextify(options.context, this.options.resource, options.associatedObjectForCache);\n    } else if (this.options.resource === false) {\n      identifier = \"false\";\n    } else {\n      identifier = this.options.resource.map(res => contextify(options.context, res, options.associatedObjectForCache)).join(\" \");\n    }\n\n    if (this.layer) identifier = `(${this.layer})/${identifier}`;\n\n    if (this.options.mode) {\n      identifier += ` ${this.options.mode}`;\n    }\n\n    if (this.options.recursive) {\n      identifier += \" recursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += ` ${contextify(options.context, this.options.addon, options.associatedObjectForCache)}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += ` ${this._prettyRegExp(this.options.regExp)}`;\n    }\n\n    if (this.options.include) {\n      identifier += ` include: ${this._prettyRegExp(this.options.include)}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += ` exclude: ${this._prettyRegExp(this.options.exclude)}`;\n    }\n\n    if (this.options.referencedExports) {\n      identifier += ` referencedExports: ${this.options.referencedExports.map(e => e.join(\".\")).join(\", \")}`;\n    }\n\n    return identifier;\n  }\n  /**\n   * @returns {void}\n   */\n\n\n  invalidateBuild() {\n    this._forceBuild = true;\n  }\n  /**\n   * @param {NeedBuildContext} context context info\n   * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n   * @returns {void}\n   */\n\n\n  needBuild(_ref, callback) {\n    let {\n      fileSystemInfo\n    } = _ref;\n    // build if enforced\n    if (this._forceBuild) return callback(null, true); // always build when we have no snapshot and context\n\n    if (!this.buildInfo.snapshot) return callback(null, Boolean(this.context || this.options.resource));\n    fileSystemInfo.checkSnapshotValid(this.buildInfo.snapshot, (err, valid) => {\n      callback(err, !valid);\n    });\n  }\n  /**\n   * @param {WebpackOptions} options webpack options\n   * @param {Compilation} compilation the compilation\n   * @param {ResolverWithOptions} resolver the resolver\n   * @param {InputFileSystem} fs the file system\n   * @param {function(WebpackError=): void} callback callback function\n   * @returns {void}\n   */\n\n\n  build(options, compilation, resolver, fs, callback) {\n    this._forceBuild = false;\n    /** @type {BuildMeta} */\n\n    this.buildMeta = {\n      exportsType: \"default\",\n      defaultObject: \"redirect-warn\"\n    };\n    this.buildInfo = {\n      snapshot: undefined\n    };\n    this.dependencies.length = 0;\n    this.blocks.length = 0;\n    const startTime = Date.now();\n    this.resolveDependencies(fs, this.options, (err, dependencies) => {\n      if (err) {\n        return callback(makeWebpackError(err, \"ContextModule.resolveDependencies\"));\n      } // abort if something failed\n      // this will create an empty context\n\n\n      if (!dependencies) {\n        callback();\n        return;\n      } // enhance dependencies with meta info\n\n\n      for (const dep of dependencies) {\n        dep.loc = {\n          name: dep.userRequest\n        };\n        dep.request = this.options.addon + dep.request;\n      }\n\n      dependencies.sort(concatComparators(compareSelect(a => a.loc, compareLocations), keepOriginalOrder(this.dependencies)));\n\n      if (this.options.mode === \"sync\" || this.options.mode === \"eager\") {\n        // if we have an sync or eager context\n        // just add all dependencies and continue\n        this.dependencies = dependencies;\n      } else if (this.options.mode === \"lazy-once\") {\n        // for the lazy-once mode create a new async dependency block\n        // and add that block to this context\n        if (dependencies.length > 0) {\n          const block = new AsyncDependenciesBlock({ ...this.options.groupOptions,\n            name: this.options.chunkName\n          });\n\n          for (const dep of dependencies) {\n            block.addDependency(dep);\n          }\n\n          this.addBlock(block);\n        }\n      } else if (this.options.mode === \"weak\" || this.options.mode === \"async-weak\") {\n        // we mark all dependencies as weak\n        for (const dep of dependencies) {\n          dep.weak = true;\n        }\n\n        this.dependencies = dependencies;\n      } else if (this.options.mode === \"lazy\") {\n        // if we are lazy create a new async dependency block per dependency\n        // and add all blocks to this context\n        let index = 0;\n\n        for (const dep of dependencies) {\n          let chunkName = this.options.chunkName;\n\n          if (chunkName) {\n            if (!/\\[(index|request)\\]/.test(chunkName)) {\n              chunkName += \"[index]\";\n            }\n\n            chunkName = chunkName.replace(/\\[index\\]/g, `${index++}`);\n            chunkName = chunkName.replace(/\\[request\\]/g, Template.toPath(dep.userRequest));\n          }\n\n          const block = new AsyncDependenciesBlock({ ...this.options.groupOptions,\n            name: chunkName\n          }, dep.loc, dep.userRequest);\n          block.addDependency(dep);\n          this.addBlock(block);\n        }\n      } else {\n        callback(new WebpackError(`Unsupported mode \"${this.options.mode}\" in context`));\n        return;\n      }\n\n      if (!this.context && !this.options.resource) return callback();\n      compilation.fileSystemInfo.createSnapshot(startTime, null, this.context ? [this.context] : typeof this.options.resource === \"string\" ? [this.options.resource] :\n      /** @type {string[]} */\n      this.options.resource, null, SNAPSHOT_OPTIONS, (err, snapshot) => {\n        if (err) return callback(err);\n        this.buildInfo.snapshot = snapshot;\n        callback();\n      });\n    });\n  }\n  /**\n   * @param {LazySet<string>} fileDependencies set where file dependencies are added to\n   * @param {LazySet<string>} contextDependencies set where context dependencies are added to\n   * @param {LazySet<string>} missingDependencies set where missing dependencies are added to\n   * @param {LazySet<string>} buildDependencies set where build dependencies are added to\n   */\n\n\n  addCacheDependencies(fileDependencies, contextDependencies, missingDependencies, buildDependencies) {\n    if (this.context) {\n      contextDependencies.add(this.context);\n    } else if (typeof this.options.resource === \"string\") {\n      contextDependencies.add(this.options.resource);\n    } else if (this.options.resource === false) {\n      return;\n    } else {\n      for (const res of this.options.resource) contextDependencies.add(res);\n    }\n  }\n  /**\n   * @param {ContextElementDependency[]} dependencies all dependencies\n   * @param {ChunkGraph} chunkGraph chunk graph\n   * @returns {TODO} TODO\n   */\n\n\n  getUserRequestMap(dependencies, chunkGraph) {\n    const moduleGraph = chunkGraph.moduleGraph; // if we filter first we get a new array\n    // therefore we don't need to create a clone of dependencies explicitly\n    // therefore the order of this is !important!\n\n    const sortedDependencies = dependencies.filter(dependency => moduleGraph.getModule(dependency)).sort((a, b) => {\n      if (a.userRequest === b.userRequest) {\n        return 0;\n      }\n\n      return a.userRequest < b.userRequest ? -1 : 1;\n    });\n    const map = Object.create(null);\n\n    for (const dep of sortedDependencies) {\n      const module = moduleGraph.getModule(dep);\n      map[dep.userRequest] = chunkGraph.getModuleId(module);\n    }\n\n    return map;\n  }\n  /**\n   * @param {ContextElementDependency[]} dependencies all dependencies\n   * @param {ChunkGraph} chunkGraph chunk graph\n   * @returns {TODO} TODO\n   */\n\n\n  getFakeMap(dependencies, chunkGraph) {\n    if (!this.options.namespaceObject) {\n      return 9;\n    }\n\n    const moduleGraph = chunkGraph.moduleGraph; // bitfield\n\n    let hasType = 0;\n    const comparator = compareModulesById(chunkGraph); // if we filter first we get a new array\n    // therefore we don't need to create a clone of dependencies explicitly\n    // therefore the order of this is !important!\n\n    const sortedModules = dependencies.map(dependency => moduleGraph.getModule(dependency)).filter(Boolean).sort(comparator);\n    const fakeMap = Object.create(null);\n\n    for (const module of sortedModules) {\n      const exportsType = module.getExportsType(moduleGraph, this.options.namespaceObject === \"strict\");\n      const id = chunkGraph.getModuleId(module);\n\n      switch (exportsType) {\n        case \"namespace\":\n          fakeMap[id] = 9;\n          hasType |= 1;\n          break;\n\n        case \"dynamic\":\n          fakeMap[id] = 7;\n          hasType |= 2;\n          break;\n\n        case \"default-only\":\n          fakeMap[id] = 1;\n          hasType |= 4;\n          break;\n\n        case \"default-with-named\":\n          fakeMap[id] = 3;\n          hasType |= 8;\n          break;\n\n        default:\n          throw new Error(`Unexpected exports type ${exportsType}`);\n      }\n    }\n\n    if (hasType === 1) {\n      return 9;\n    }\n\n    if (hasType === 2) {\n      return 7;\n    }\n\n    if (hasType === 4) {\n      return 1;\n    }\n\n    if (hasType === 8) {\n      return 3;\n    }\n\n    if (hasType === 0) {\n      return 9;\n    }\n\n    return fakeMap;\n  }\n\n  getFakeMapInitStatement(fakeMap) {\n    return typeof fakeMap === \"object\" ? `var fakeMap = ${JSON.stringify(fakeMap, null, \"\\t\")};` : \"\";\n  }\n\n  getReturn(type, asyncModule) {\n    if (type === 9) {\n      return \"__webpack_require__(id)\";\n    }\n\n    return `${RuntimeGlobals.createFakeNamespaceObject}(id, ${type}${asyncModule ? \" | 16\" : \"\"})`;\n  }\n\n  getReturnModuleObjectSource(fakeMap, asyncModule) {\n    let fakeMapDataExpression = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fakeMap[id]\";\n\n    if (typeof fakeMap === \"number\") {\n      return `return ${this.getReturn(fakeMap, asyncModule)};`;\n    }\n\n    return `return ${RuntimeGlobals.createFakeNamespaceObject}(id, ${fakeMapDataExpression}${asyncModule ? \" | 16\" : \"\"})`;\n  }\n  /**\n   * @param {TODO} dependencies TODO\n   * @param {TODO} id TODO\n   * @param {ChunkGraph} chunkGraph the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getSyncSource(dependencies, id, chunkGraph) {\n    const map = this.getUserRequestMap(dependencies, chunkGraph);\n    const fakeMap = this.getFakeMap(dependencies, chunkGraph);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = ${JSON.stringify(id)};`;\n  }\n  /**\n   * @param {TODO} dependencies TODO\n   * @param {TODO} id TODO\n   * @param {ChunkGraph} chunkGraph the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getWeakSyncSource(dependencies, id, chunkGraph) {\n    const map = this.getUserRequestMap(dependencies, chunkGraph);\n    const fakeMap = this.getFakeMap(dependencies, chunkGraph);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!${RuntimeGlobals.moduleFactories}[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackContext;`;\n  }\n  /**\n   * @param {TODO} dependencies TODO\n   * @param {TODO} id TODO\n   * @param {Object} context context\n   * @param {ChunkGraph} context.chunkGraph the chunk graph\n   * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getAsyncWeakSource(dependencies, id, _ref2) {\n    let {\n      chunkGraph,\n      runtimeTemplate\n    } = _ref2;\n    const arrow = runtimeTemplate.supportsArrowFunction();\n    const map = this.getUserRequestMap(dependencies, chunkGraph);\n    const fakeMap = this.getFakeMap(dependencies, chunkGraph);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap, true);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${arrow ? \"id =>\" : \"function(id)\"} {\n\t\tif(!${RuntimeGlobals.moduleFactories}[id]) {\n\t\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\t${returnModuleObject}\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\"Object.keys(map)\")};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n  /**\n   * @param {TODO} dependencies TODO\n   * @param {TODO} id TODO\n   * @param {Object} context context\n   * @param {ChunkGraph} context.chunkGraph the chunk graph\n   * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getEagerSource(dependencies, id, _ref3) {\n    let {\n      chunkGraph,\n      runtimeTemplate\n    } = _ref3;\n    const arrow = runtimeTemplate.supportsArrowFunction();\n    const map = this.getUserRequestMap(dependencies, chunkGraph);\n    const fakeMap = this.getFakeMap(dependencies, chunkGraph);\n    const thenFunction = fakeMap !== 9 ? `${arrow ? \"id =>\" : \"function(id)\"} {\n\t\t${this.getReturnModuleObjectSource(fakeMap)}\n\t}` : \"__webpack_require__\";\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\"Object.keys(map)\")};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n  /**\n   * @param {TODO} block TODO\n   * @param {TODO} dependencies TODO\n   * @param {TODO} id TODO\n   * @param {Object} options options object\n   * @param {RuntimeTemplate} options.runtimeTemplate the runtime template\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getLazyOnceSource(block, dependencies, id, _ref4) {\n    let {\n      runtimeTemplate,\n      chunkGraph\n    } = _ref4;\n    const promise = runtimeTemplate.blockPromise({\n      chunkGraph,\n      block,\n      message: \"lazy-once context\",\n      runtimeRequirements: new Set()\n    });\n    const arrow = runtimeTemplate.supportsArrowFunction();\n    const map = this.getUserRequestMap(dependencies, chunkGraph);\n    const fakeMap = this.getFakeMap(dependencies, chunkGraph);\n    const thenFunction = fakeMap !== 9 ? `${arrow ? \"id =>\" : \"function(id)\"} {\n\t\t${this.getReturnModuleObjectSource(fakeMap, true)};\n\t}` : \"__webpack_require__\";\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn ${promise}.then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\"Object.keys(map)\")};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n  /**\n   * @param {TODO} blocks TODO\n   * @param {TODO} id TODO\n   * @param {Object} context context\n   * @param {ChunkGraph} context.chunkGraph the chunk graph\n   * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n   * @returns {string} source code\n   */\n\n\n  getLazySource(blocks, id, _ref5) {\n    let {\n      chunkGraph,\n      runtimeTemplate\n    } = _ref5;\n    const moduleGraph = chunkGraph.moduleGraph;\n    const arrow = runtimeTemplate.supportsArrowFunction();\n    let hasMultipleOrNoChunks = false;\n    let hasNoChunk = true;\n    const fakeMap = this.getFakeMap(blocks.map(b => b.dependencies[0]), chunkGraph);\n    const hasFakeMap = typeof fakeMap === \"object\";\n    const items = blocks.map(block => {\n      const dependency = block.dependencies[0];\n      return {\n        dependency: dependency,\n        module: moduleGraph.getModule(dependency),\n        block: block,\n        userRequest: dependency.userRequest,\n        chunks: undefined\n      };\n    }).filter(item => item.module);\n\n    for (const item of items) {\n      const chunkGroup = chunkGraph.getBlockChunkGroup(item.block);\n      const chunks = chunkGroup && chunkGroup.chunks || [];\n      item.chunks = chunks;\n\n      if (chunks.length > 0) {\n        hasNoChunk = false;\n      }\n\n      if (chunks.length !== 1) {\n        hasMultipleOrNoChunks = true;\n      }\n    }\n\n    const shortMode = hasNoChunk && !hasFakeMap;\n    const sortedItems = items.sort((a, b) => {\n      if (a.userRequest === b.userRequest) return 0;\n      return a.userRequest < b.userRequest ? -1 : 1;\n    });\n    const map = Object.create(null);\n\n    for (const item of sortedItems) {\n      const moduleId = chunkGraph.getModuleId(item.module);\n\n      if (shortMode) {\n        map[item.userRequest] = moduleId;\n      } else {\n        const arrayStart = [moduleId];\n\n        if (hasFakeMap) {\n          arrayStart.push(fakeMap[moduleId]);\n        }\n\n        map[item.userRequest] = arrayStart.concat(item.chunks.map(chunk => chunk.id));\n      }\n    }\n\n    const chunksStartPosition = hasFakeMap ? 2 : 1;\n    const requestPrefix = hasNoChunk ? \"Promise.resolve()\" : hasMultipleOrNoChunks ? `Promise.all(ids.slice(${chunksStartPosition}).map(${RuntimeGlobals.ensureChunk}))` : `${RuntimeGlobals.ensureChunk}(ids[${chunksStartPosition}])`;\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap, true, shortMode ? \"invalid\" : \"ids[1]\");\n    const webpackAsyncContext = requestPrefix === \"Promise.resolve()\" ? `\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\t${shortMode ? \"var id = map[req];\" : \"var ids = map[req], id = ids[0];\"}\n\t\t${returnModuleObject}\n\t});\n}` : `function webpackAsyncContext(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn ${requestPrefix}.then(${arrow ? \"() =>\" : \"function()\"} {\n\t\t${returnModuleObject}\n\t});\n}`;\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${webpackAsyncContext}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\"Object.keys(map)\")};\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n\n  getSourceForEmptyContext(id, runtimeTemplate) {\n    return `function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = ${runtimeTemplate.returningFunction(\"[]\")};\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackEmptyContext;`;\n  }\n\n  getSourceForEmptyAsyncContext(id, runtimeTemplate) {\n    const arrow = runtimeTemplate.supportsArrowFunction();\n    return `function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = ${runtimeTemplate.returningFunction(\"[]\")};\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackEmptyAsyncContext;`;\n  }\n  /**\n   * @param {string} asyncMode module mode\n   * @param {CodeGenerationContext} context context info\n   * @returns {string} the source code\n   */\n\n\n  getSourceString(asyncMode, _ref6) {\n    let {\n      runtimeTemplate,\n      chunkGraph\n    } = _ref6;\n    const id = chunkGraph.getModuleId(this);\n\n    if (asyncMode === \"lazy\") {\n      if (this.blocks && this.blocks.length > 0) {\n        return this.getLazySource(this.blocks, id, {\n          runtimeTemplate,\n          chunkGraph\n        });\n      }\n\n      return this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n    }\n\n    if (asyncMode === \"eager\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getEagerSource(this.dependencies, id, {\n          chunkGraph,\n          runtimeTemplate\n        });\n      }\n\n      return this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n    }\n\n    if (asyncMode === \"lazy-once\") {\n      const block = this.blocks[0];\n\n      if (block) {\n        return this.getLazyOnceSource(block, block.dependencies, id, {\n          runtimeTemplate,\n          chunkGraph\n        });\n      }\n\n      return this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n    }\n\n    if (asyncMode === \"async-weak\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getAsyncWeakSource(this.dependencies, id, {\n          chunkGraph,\n          runtimeTemplate\n        });\n      }\n\n      return this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n    }\n\n    if (asyncMode === \"weak\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getWeakSyncSource(this.dependencies, id, chunkGraph);\n      }\n    }\n\n    if (this.dependencies && this.dependencies.length > 0) {\n      return this.getSyncSource(this.dependencies, id, chunkGraph);\n    }\n\n    return this.getSourceForEmptyContext(id, runtimeTemplate);\n  }\n\n  getSource(sourceString) {\n    if (this.useSourceMap || this.useSimpleSourceMap) {\n      return new OriginalSource(sourceString, this.identifier());\n    }\n\n    return new RawSource(sourceString);\n  }\n  /**\n   * @param {CodeGenerationContext} context context for code generation\n   * @returns {CodeGenerationResult} result\n   */\n\n\n  codeGeneration(context) {\n    const {\n      chunkGraph\n    } = context;\n    const sources = new Map();\n    sources.set(\"javascript\", this.getSource(this.getSourceString(this.options.mode, context)));\n    const set = new Set();\n    const allDeps =\n    /** @type {ContextElementDependency[]} */\n    this.dependencies.concat(this.blocks.map(b => b.dependencies[0]));\n    set.add(RuntimeGlobals.module);\n    set.add(RuntimeGlobals.hasOwnProperty);\n\n    if (allDeps.length > 0) {\n      const asyncMode = this.options.mode;\n      set.add(RuntimeGlobals.require);\n\n      if (asyncMode === \"weak\") {\n        set.add(RuntimeGlobals.moduleFactories);\n      } else if (asyncMode === \"async-weak\") {\n        set.add(RuntimeGlobals.moduleFactories);\n        set.add(RuntimeGlobals.ensureChunk);\n      } else if (asyncMode === \"lazy\" || asyncMode === \"lazy-once\") {\n        set.add(RuntimeGlobals.ensureChunk);\n      }\n\n      if (this.getFakeMap(allDeps, chunkGraph) !== 9) {\n        set.add(RuntimeGlobals.createFakeNamespaceObject);\n      }\n    }\n\n    return {\n      sources,\n      runtimeRequirements: set\n    };\n  }\n  /**\n   * @param {string=} type the source type for which the size should be estimated\n   * @returns {number} the estimated size of the module (must be non-zero)\n   */\n\n\n  size(type) {\n    // base penalty\n    let size = 160; // if we don't have dependencies we stop here.\n\n    for (const dependency of this.dependencies) {\n      const element =\n      /** @type {ContextElementDependency} */\n      dependency;\n      size += 5 + element.userRequest.length;\n    }\n\n    return size;\n  }\n\n  serialize(context) {\n    const {\n      write\n    } = context;\n    write(this._identifier);\n    write(this._forceBuild);\n    super.serialize(context);\n  }\n\n  deserialize(context) {\n    const {\n      read\n    } = context;\n    this._identifier = read();\n    this._forceBuild = read();\n    super.deserialize(context);\n  }\n\n}\n\nmakeSerializable(ContextModule, \"webpack/lib/ContextModule\");\nmodule.exports = ContextModule;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/ContextModule.js"],"names":["OriginalSource","RawSource","require","AsyncDependenciesBlock","makeWebpackError","Module","RuntimeGlobals","Template","WebpackError","compareLocations","concatComparators","compareSelect","keepOriginalOrder","compareModulesById","contextify","parseResource","makeSerializable","SNAPSHOT_OPTIONS","timestamp","TYPES","Set","ContextModule","constructor","resolveDependencies","options","resource","parsed","path","resourceQuery","query","resourceFragment","fragment","resolveOptions","undefined","mode","Error","_identifier","_createIdentifier","_forceBuild","getSourceTypes","updateCacheModule","module","m","cleanupForCache","_prettyRegExp","regexString","stripSlash","str","replace","substring","length","identifier","context","join","recursive","addon","regExp","include","exclude","referencedExports","JSON","stringify","chunkName","groupOptions","namespaceObject","readableIdentifier","requestShortener","shorten","map","r","e","key","Object","keys","libIdent","associatedObjectForCache","res","layer","invalidateBuild","needBuild","callback","fileSystemInfo","buildInfo","snapshot","Boolean","checkSnapshotValid","err","valid","build","compilation","resolver","fs","buildMeta","exportsType","defaultObject","dependencies","blocks","startTime","Date","now","dep","loc","name","userRequest","request","sort","a","block","addDependency","addBlock","weak","index","test","toPath","createSnapshot","addCacheDependencies","fileDependencies","contextDependencies","missingDependencies","buildDependencies","add","getUserRequestMap","chunkGraph","moduleGraph","sortedDependencies","filter","dependency","getModule","b","create","getModuleId","getFakeMap","hasType","comparator","sortedModules","fakeMap","getExportsType","id","getFakeMapInitStatement","getReturn","type","asyncModule","createFakeNamespaceObject","getReturnModuleObjectSource","fakeMapDataExpression","getSyncSource","returnModuleObject","hasOwnProperty","getWeakSyncSource","moduleFactories","getAsyncWeakSource","runtimeTemplate","arrow","supportsArrowFunction","returningFunction","getEagerSource","thenFunction","getLazyOnceSource","promise","blockPromise","message","runtimeRequirements","getLazySource","hasMultipleOrNoChunks","hasNoChunk","hasFakeMap","items","chunks","item","chunkGroup","getBlockChunkGroup","shortMode","sortedItems","moduleId","arrayStart","push","concat","chunk","chunksStartPosition","requestPrefix","ensureChunk","webpackAsyncContext","getSourceForEmptyContext","getSourceForEmptyAsyncContext","getSourceString","asyncMode","getSource","sourceString","useSourceMap","useSimpleSourceMap","codeGeneration","sources","Map","set","allDeps","size","element","serialize","write","deserialize","read","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { OriginalSource, RawSource } = require(\"webpack-sources\");\nconst AsyncDependenciesBlock = require(\"./AsyncDependenciesBlock\");\nconst { makeWebpackError } = require(\"./HookWebpackError\");\nconst Module = require(\"./Module\");\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\nconst Template = require(\"./Template\");\nconst WebpackError = require(\"./WebpackError\");\nconst {\n\tcompareLocations,\n\tconcatComparators,\n\tcompareSelect,\n\tkeepOriginalOrder,\n\tcompareModulesById\n} = require(\"./util/comparators\");\nconst { contextify, parseResource } = require(\"./util/identifier\");\nconst makeSerializable = require(\"./util/makeSerializable\");\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"./ChunkGroup\").RawChunkGroupOptions} RawChunkGroupOptions */\n/** @typedef {import(\"./Compilation\")} Compilation */\n/** @typedef {import(\"./DependencyTemplates\")} DependencyTemplates */\n/** @typedef {import(\"./Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"./Module\").CodeGenerationContext} CodeGenerationContext */\n/** @typedef {import(\"./Module\").CodeGenerationResult} CodeGenerationResult */\n/** @typedef {import(\"./Module\").LibIdentOptions} LibIdentOptions */\n/** @typedef {import(\"./Module\").NeedBuildContext} NeedBuildContext */\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"./RequestShortener\")} RequestShortener */\n/** @typedef {import(\"./ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"./RuntimeTemplate\")} RuntimeTemplate */\n/** @typedef {import(\"./dependencies/ContextElementDependency\")} ContextElementDependency */\n/** @template T @typedef {import(\"./util/LazySet\")<T>} LazySet<T> */\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {\"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"} ContextMode Context mode */\n\n/**\n * @typedef {Object} ContextOptions\n * @property {ContextMode} mode\n * @property {boolean} recursive\n * @property {RegExp} regExp\n * @property {\"strict\"|boolean=} namespaceObject\n * @property {string=} addon\n * @property {string=} chunkName\n * @property {RegExp=} include\n * @property {RegExp=} exclude\n * @property {RawChunkGroupOptions=} groupOptions\n * @property {string=} typePrefix\n * @property {string=} category\n * @property {string[][]=} referencedExports exports referenced from modules (won't be mangled)\n */\n\n/**\n * @typedef {Object} ContextModuleOptionsExtras\n * @property {false|string|string[]} resource\n * @property {string=} resourceQuery\n * @property {string=} resourceFragment\n * @property {TODO} resolveOptions\n */\n\n/** @typedef {ContextOptions & ContextModuleOptionsExtras} ContextModuleOptions */\n\n/**\n * @callback ResolveDependenciesCallback\n * @param {(Error | null)=} err\n * @param {ContextElementDependency[]=} dependencies\n */\n\n/**\n * @callback ResolveDependencies\n * @param {InputFileSystem} fs\n * @param {ContextModuleOptions} options\n * @param {ResolveDependenciesCallback} callback\n */\n\nconst SNAPSHOT_OPTIONS = { timestamp: true };\n\nconst TYPES = new Set([\"javascript\"]);\n\nclass ContextModule extends Module {\n\t/**\n\t * @param {ResolveDependencies} resolveDependencies function to get dependencies in this context\n\t * @param {ContextModuleOptions} options options object\n\t */\n\tconstructor(resolveDependencies, options) {\n\t\tif (!options || typeof options.resource === \"string\") {\n\t\t\tconst parsed = parseResource(\n\t\t\t\toptions ? /** @type {string} */ (options.resource) : \"\"\n\t\t\t);\n\t\t\tconst resource = parsed.path;\n\t\t\tconst resourceQuery = (options && options.resourceQuery) || parsed.query;\n\t\t\tconst resourceFragment =\n\t\t\t\t(options && options.resourceFragment) || parsed.fragment;\n\n\t\t\tsuper(\"javascript/dynamic\", resource);\n\t\t\t/** @type {ContextModuleOptions} */\n\t\t\tthis.options = {\n\t\t\t\t...options,\n\t\t\t\tresource,\n\t\t\t\tresourceQuery,\n\t\t\t\tresourceFragment\n\t\t\t};\n\t\t} else {\n\t\t\tsuper(\"javascript/dynamic\");\n\t\t\t/** @type {ContextModuleOptions} */\n\t\t\tthis.options = {\n\t\t\t\t...options,\n\t\t\t\tresource: options.resource,\n\t\t\t\tresourceQuery: options.resourceQuery || \"\",\n\t\t\t\tresourceFragment: options.resourceFragment || \"\"\n\t\t\t};\n\t\t}\n\n\t\t// Info from Factory\n\t\tthis.resolveDependencies = resolveDependencies;\n\t\tif (options && options.resolveOptions !== undefined) {\n\t\t\tthis.resolveOptions = options.resolveOptions;\n\t\t}\n\n\t\tif (options && typeof options.mode !== \"string\") {\n\t\t\tthrow new Error(\"options.mode is a required option\");\n\t\t}\n\n\t\tthis._identifier = this._createIdentifier();\n\t\tthis._forceBuild = true;\n\t}\n\n\t/**\n\t * @returns {Set<string>} types available (do not mutate)\n\t */\n\tgetSourceTypes() {\n\t\treturn TYPES;\n\t}\n\n\t/**\n\t * Assuming this module is in the cache. Update the (cached) module with\n\t * the fresh module from the factory. Usually updates internal references\n\t * and properties.\n\t * @param {Module} module fresh module\n\t * @returns {void}\n\t */\n\tupdateCacheModule(module) {\n\t\tconst m = /** @type {ContextModule} */ (module);\n\t\tthis.resolveDependencies = m.resolveDependencies;\n\t\tthis.options = m.options;\n\t}\n\n\t/**\n\t * Assuming this module is in the cache. Remove internal references to allow freeing some memory.\n\t */\n\tcleanupForCache() {\n\t\tsuper.cleanupForCache();\n\t\tthis.resolveDependencies = undefined;\n\t}\n\n\t_prettyRegExp(regexString, stripSlash = true) {\n\t\tconst str = (regexString + \"\").replace(/!/g, \"%21\").replace(/\\|/g, \"%7C\");\n\t\treturn stripSlash ? str.substring(1, str.length - 1) : str;\n\t}\n\n\t_createIdentifier() {\n\t\tlet identifier =\n\t\t\tthis.context ||\n\t\t\t(typeof this.options.resource === \"string\" ||\n\t\t\tthis.options.resource === false\n\t\t\t\t? `${this.options.resource}`\n\t\t\t\t: this.options.resource.join(\"|\"));\n\t\tif (this.options.resourceQuery) {\n\t\t\tidentifier += `|${this.options.resourceQuery}`;\n\t\t}\n\t\tif (this.options.resourceFragment) {\n\t\t\tidentifier += `|${this.options.resourceFragment}`;\n\t\t}\n\t\tif (this.options.mode) {\n\t\t\tidentifier += `|${this.options.mode}`;\n\t\t}\n\t\tif (!this.options.recursive) {\n\t\t\tidentifier += \"|nonrecursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += `|${this.options.addon}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += `|${this._prettyRegExp(this.options.regExp, false)}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += `|include: ${this._prettyRegExp(\n\t\t\t\tthis.options.include,\n\t\t\t\tfalse\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += `|exclude: ${this._prettyRegExp(\n\t\t\t\tthis.options.exclude,\n\t\t\t\tfalse\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.referencedExports) {\n\t\t\tidentifier += `|referencedExports: ${JSON.stringify(\n\t\t\t\tthis.options.referencedExports\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.chunkName) {\n\t\t\tidentifier += `|chunkName: ${this.options.chunkName}`;\n\t\t}\n\t\tif (this.options.groupOptions) {\n\t\t\tidentifier += `|groupOptions: ${JSON.stringify(\n\t\t\t\tthis.options.groupOptions\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.namespaceObject === \"strict\") {\n\t\t\tidentifier += \"|strict namespace object\";\n\t\t} else if (this.options.namespaceObject) {\n\t\t\tidentifier += \"|namespace object\";\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\t/**\n\t * @returns {string} a unique identifier of the module\n\t */\n\tidentifier() {\n\t\treturn this._identifier;\n\t}\n\n\t/**\n\t * @param {RequestShortener} requestShortener the request shortener\n\t * @returns {string} a user readable identifier of the module\n\t */\n\treadableIdentifier(requestShortener) {\n\t\tlet identifier;\n\t\tif (this.context) {\n\t\t\tidentifier = requestShortener.shorten(this.context) + \"/\";\n\t\t} else if (\n\t\t\ttypeof this.options.resource === \"string\" ||\n\t\t\tthis.options.resource === false\n\t\t) {\n\t\t\tidentifier = requestShortener.shorten(`${this.options.resource}`) + \"/\";\n\t\t} else {\n\t\t\tidentifier = this.options.resource\n\t\t\t\t.map(r => requestShortener.shorten(r) + \"/\")\n\t\t\t\t.join(\" \");\n\t\t}\n\t\tif (this.options.resourceQuery) {\n\t\t\tidentifier += ` ${this.options.resourceQuery}`;\n\t\t}\n\t\tif (this.options.mode) {\n\t\t\tidentifier += ` ${this.options.mode}`;\n\t\t}\n\t\tif (!this.options.recursive) {\n\t\t\tidentifier += \" nonrecursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += ` ${requestShortener.shorten(this.options.addon)}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += ` ${this._prettyRegExp(this.options.regExp)}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += ` include: ${this._prettyRegExp(this.options.include)}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += ` exclude: ${this._prettyRegExp(this.options.exclude)}`;\n\t\t}\n\t\tif (this.options.referencedExports) {\n\t\t\tidentifier += ` referencedExports: ${this.options.referencedExports\n\t\t\t\t.map(e => e.join(\".\"))\n\t\t\t\t.join(\", \")}`;\n\t\t}\n\t\tif (this.options.chunkName) {\n\t\t\tidentifier += ` chunkName: ${this.options.chunkName}`;\n\t\t}\n\t\tif (this.options.groupOptions) {\n\t\t\tconst groupOptions = this.options.groupOptions;\n\t\t\tfor (const key of Object.keys(groupOptions)) {\n\t\t\t\tidentifier += ` ${key}: ${groupOptions[key]}`;\n\t\t\t}\n\t\t}\n\t\tif (this.options.namespaceObject === \"strict\") {\n\t\t\tidentifier += \" strict namespace object\";\n\t\t} else if (this.options.namespaceObject) {\n\t\t\tidentifier += \" namespace object\";\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\t/**\n\t * @param {LibIdentOptions} options options\n\t * @returns {string | null} an identifier for library inclusion\n\t */\n\tlibIdent(options) {\n\t\tlet identifier;\n\n\t\tif (this.context) {\n\t\t\tidentifier = contextify(\n\t\t\t\toptions.context,\n\t\t\t\tthis.context,\n\t\t\t\toptions.associatedObjectForCache\n\t\t\t);\n\t\t} else if (typeof this.options.resource === \"string\") {\n\t\t\tidentifier = contextify(\n\t\t\t\toptions.context,\n\t\t\t\tthis.options.resource,\n\t\t\t\toptions.associatedObjectForCache\n\t\t\t);\n\t\t} else if (this.options.resource === false) {\n\t\t\tidentifier = \"false\";\n\t\t} else {\n\t\t\tidentifier = this.options.resource\n\t\t\t\t.map(res =>\n\t\t\t\t\tcontextify(options.context, res, options.associatedObjectForCache)\n\t\t\t\t)\n\t\t\t\t.join(\" \");\n\t\t}\n\n\t\tif (this.layer) identifier = `(${this.layer})/${identifier}`;\n\t\tif (this.options.mode) {\n\t\t\tidentifier += ` ${this.options.mode}`;\n\t\t}\n\t\tif (this.options.recursive) {\n\t\t\tidentifier += \" recursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += ` ${contextify(\n\t\t\t\toptions.context,\n\t\t\t\tthis.options.addon,\n\t\t\t\toptions.associatedObjectForCache\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += ` ${this._prettyRegExp(this.options.regExp)}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += ` include: ${this._prettyRegExp(this.options.include)}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += ` exclude: ${this._prettyRegExp(this.options.exclude)}`;\n\t\t}\n\t\tif (this.options.referencedExports) {\n\t\t\tidentifier += ` referencedExports: ${this.options.referencedExports\n\t\t\t\t.map(e => e.join(\".\"))\n\t\t\t\t.join(\", \")}`;\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\t/**\n\t * @returns {void}\n\t */\n\tinvalidateBuild() {\n\t\tthis._forceBuild = true;\n\t}\n\n\t/**\n\t * @param {NeedBuildContext} context context info\n\t * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n\t * @returns {void}\n\t */\n\tneedBuild({ fileSystemInfo }, callback) {\n\t\t// build if enforced\n\t\tif (this._forceBuild) return callback(null, true);\n\n\t\t// always build when we have no snapshot and context\n\t\tif (!this.buildInfo.snapshot)\n\t\t\treturn callback(null, Boolean(this.context || this.options.resource));\n\n\t\tfileSystemInfo.checkSnapshotValid(this.buildInfo.snapshot, (err, valid) => {\n\t\t\tcallback(err, !valid);\n\t\t});\n\t}\n\n\t/**\n\t * @param {WebpackOptions} options webpack options\n\t * @param {Compilation} compilation the compilation\n\t * @param {ResolverWithOptions} resolver the resolver\n\t * @param {InputFileSystem} fs the file system\n\t * @param {function(WebpackError=): void} callback callback function\n\t * @returns {void}\n\t */\n\tbuild(options, compilation, resolver, fs, callback) {\n\t\tthis._forceBuild = false;\n\t\t/** @type {BuildMeta} */\n\t\tthis.buildMeta = {\n\t\t\texportsType: \"default\",\n\t\t\tdefaultObject: \"redirect-warn\"\n\t\t};\n\t\tthis.buildInfo = {\n\t\t\tsnapshot: undefined\n\t\t};\n\t\tthis.dependencies.length = 0;\n\t\tthis.blocks.length = 0;\n\t\tconst startTime = Date.now();\n\t\tthis.resolveDependencies(fs, this.options, (err, dependencies) => {\n\t\t\tif (err) {\n\t\t\t\treturn callback(\n\t\t\t\t\tmakeWebpackError(err, \"ContextModule.resolveDependencies\")\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// abort if something failed\n\t\t\t// this will create an empty context\n\t\t\tif (!dependencies) {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// enhance dependencies with meta info\n\t\t\tfor (const dep of dependencies) {\n\t\t\t\tdep.loc = {\n\t\t\t\t\tname: dep.userRequest\n\t\t\t\t};\n\t\t\t\tdep.request = this.options.addon + dep.request;\n\t\t\t}\n\t\t\tdependencies.sort(\n\t\t\t\tconcatComparators(\n\t\t\t\t\tcompareSelect(a => a.loc, compareLocations),\n\t\t\t\t\tkeepOriginalOrder(this.dependencies)\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tif (this.options.mode === \"sync\" || this.options.mode === \"eager\") {\n\t\t\t\t// if we have an sync or eager context\n\t\t\t\t// just add all dependencies and continue\n\t\t\t\tthis.dependencies = dependencies;\n\t\t\t} else if (this.options.mode === \"lazy-once\") {\n\t\t\t\t// for the lazy-once mode create a new async dependency block\n\t\t\t\t// and add that block to this context\n\t\t\t\tif (dependencies.length > 0) {\n\t\t\t\t\tconst block = new AsyncDependenciesBlock({\n\t\t\t\t\t\t...this.options.groupOptions,\n\t\t\t\t\t\tname: this.options.chunkName\n\t\t\t\t\t});\n\t\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\t\tblock.addDependency(dep);\n\t\t\t\t\t}\n\t\t\t\t\tthis.addBlock(block);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tthis.options.mode === \"weak\" ||\n\t\t\t\tthis.options.mode === \"async-weak\"\n\t\t\t) {\n\t\t\t\t// we mark all dependencies as weak\n\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\tdep.weak = true;\n\t\t\t\t}\n\t\t\t\tthis.dependencies = dependencies;\n\t\t\t} else if (this.options.mode === \"lazy\") {\n\t\t\t\t// if we are lazy create a new async dependency block per dependency\n\t\t\t\t// and add all blocks to this context\n\t\t\t\tlet index = 0;\n\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\tlet chunkName = this.options.chunkName;\n\t\t\t\t\tif (chunkName) {\n\t\t\t\t\t\tif (!/\\[(index|request)\\]/.test(chunkName)) {\n\t\t\t\t\t\t\tchunkName += \"[index]\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchunkName = chunkName.replace(/\\[index\\]/g, `${index++}`);\n\t\t\t\t\t\tchunkName = chunkName.replace(\n\t\t\t\t\t\t\t/\\[request\\]/g,\n\t\t\t\t\t\t\tTemplate.toPath(dep.userRequest)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tconst block = new AsyncDependenciesBlock(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...this.options.groupOptions,\n\t\t\t\t\t\t\tname: chunkName\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdep.loc,\n\t\t\t\t\t\tdep.userRequest\n\t\t\t\t\t);\n\t\t\t\t\tblock.addDependency(dep);\n\t\t\t\t\tthis.addBlock(block);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcallback(\n\t\t\t\t\tnew WebpackError(`Unsupported mode \"${this.options.mode}\" in context`)\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.context && !this.options.resource) return callback();\n\n\t\t\tcompilation.fileSystemInfo.createSnapshot(\n\t\t\t\tstartTime,\n\t\t\t\tnull,\n\t\t\t\tthis.context\n\t\t\t\t\t? [this.context]\n\t\t\t\t\t: typeof this.options.resource === \"string\"\n\t\t\t\t\t? [this.options.resource]\n\t\t\t\t\t: /** @type {string[]} */ (this.options.resource),\n\t\t\t\tnull,\n\t\t\t\tSNAPSHOT_OPTIONS,\n\t\t\t\t(err, snapshot) => {\n\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\tthis.buildInfo.snapshot = snapshot;\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * @param {LazySet<string>} fileDependencies set where file dependencies are added to\n\t * @param {LazySet<string>} contextDependencies set where context dependencies are added to\n\t * @param {LazySet<string>} missingDependencies set where missing dependencies are added to\n\t * @param {LazySet<string>} buildDependencies set where build dependencies are added to\n\t */\n\taddCacheDependencies(\n\t\tfileDependencies,\n\t\tcontextDependencies,\n\t\tmissingDependencies,\n\t\tbuildDependencies\n\t) {\n\t\tif (this.context) {\n\t\t\tcontextDependencies.add(this.context);\n\t\t} else if (typeof this.options.resource === \"string\") {\n\t\t\tcontextDependencies.add(this.options.resource);\n\t\t} else if (this.options.resource === false) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tfor (const res of this.options.resource) contextDependencies.add(res);\n\t\t}\n\t}\n\n\t/**\n\t * @param {ContextElementDependency[]} dependencies all dependencies\n\t * @param {ChunkGraph} chunkGraph chunk graph\n\t * @returns {TODO} TODO\n\t */\n\tgetUserRequestMap(dependencies, chunkGraph) {\n\t\tconst moduleGraph = chunkGraph.moduleGraph;\n\t\t// if we filter first we get a new array\n\t\t// therefore we don't need to create a clone of dependencies explicitly\n\t\t// therefore the order of this is !important!\n\t\tconst sortedDependencies = dependencies\n\t\t\t.filter(dependency => moduleGraph.getModule(dependency))\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.userRequest === b.userRequest) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\treturn a.userRequest < b.userRequest ? -1 : 1;\n\t\t\t});\n\t\tconst map = Object.create(null);\n\t\tfor (const dep of sortedDependencies) {\n\t\t\tconst module = moduleGraph.getModule(dep);\n\t\t\tmap[dep.userRequest] = chunkGraph.getModuleId(module);\n\t\t}\n\t\treturn map;\n\t}\n\n\t/**\n\t * @param {ContextElementDependency[]} dependencies all dependencies\n\t * @param {ChunkGraph} chunkGraph chunk graph\n\t * @returns {TODO} TODO\n\t */\n\tgetFakeMap(dependencies, chunkGraph) {\n\t\tif (!this.options.namespaceObject) {\n\t\t\treturn 9;\n\t\t}\n\t\tconst moduleGraph = chunkGraph.moduleGraph;\n\t\t// bitfield\n\t\tlet hasType = 0;\n\t\tconst comparator = compareModulesById(chunkGraph);\n\t\t// if we filter first we get a new array\n\t\t// therefore we don't need to create a clone of dependencies explicitly\n\t\t// therefore the order of this is !important!\n\t\tconst sortedModules = dependencies\n\t\t\t.map(dependency => moduleGraph.getModule(dependency))\n\t\t\t.filter(Boolean)\n\t\t\t.sort(comparator);\n\t\tconst fakeMap = Object.create(null);\n\t\tfor (const module of sortedModules) {\n\t\t\tconst exportsType = module.getExportsType(\n\t\t\t\tmoduleGraph,\n\t\t\t\tthis.options.namespaceObject === \"strict\"\n\t\t\t);\n\t\t\tconst id = chunkGraph.getModuleId(module);\n\t\t\tswitch (exportsType) {\n\t\t\t\tcase \"namespace\":\n\t\t\t\t\tfakeMap[id] = 9;\n\t\t\t\t\thasType |= 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"dynamic\":\n\t\t\t\t\tfakeMap[id] = 7;\n\t\t\t\t\thasType |= 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"default-only\":\n\t\t\t\t\tfakeMap[id] = 1;\n\t\t\t\t\thasType |= 4;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"default-with-named\":\n\t\t\t\t\tfakeMap[id] = 3;\n\t\t\t\t\thasType |= 8;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unexpected exports type ${exportsType}`);\n\t\t\t}\n\t\t}\n\t\tif (hasType === 1) {\n\t\t\treturn 9;\n\t\t}\n\t\tif (hasType === 2) {\n\t\t\treturn 7;\n\t\t}\n\t\tif (hasType === 4) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (hasType === 8) {\n\t\t\treturn 3;\n\t\t}\n\t\tif (hasType === 0) {\n\t\t\treturn 9;\n\t\t}\n\t\treturn fakeMap;\n\t}\n\n\tgetFakeMapInitStatement(fakeMap) {\n\t\treturn typeof fakeMap === \"object\"\n\t\t\t? `var fakeMap = ${JSON.stringify(fakeMap, null, \"\\t\")};`\n\t\t\t: \"\";\n\t}\n\n\tgetReturn(type, asyncModule) {\n\t\tif (type === 9) {\n\t\t\treturn \"__webpack_require__(id)\";\n\t\t}\n\t\treturn `${RuntimeGlobals.createFakeNamespaceObject}(id, ${type}${\n\t\t\tasyncModule ? \" | 16\" : \"\"\n\t\t})`;\n\t}\n\n\tgetReturnModuleObjectSource(\n\t\tfakeMap,\n\t\tasyncModule,\n\t\tfakeMapDataExpression = \"fakeMap[id]\"\n\t) {\n\t\tif (typeof fakeMap === \"number\") {\n\t\t\treturn `return ${this.getReturn(fakeMap, asyncModule)};`;\n\t\t}\n\t\treturn `return ${\n\t\t\tRuntimeGlobals.createFakeNamespaceObject\n\t\t}(id, ${fakeMapDataExpression}${asyncModule ? \" | 16\" : \"\"})`;\n\t}\n\n\t/**\n\t * @param {TODO} dependencies TODO\n\t * @param {TODO} id TODO\n\t * @param {ChunkGraph} chunkGraph the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetSyncSource(dependencies, id, chunkGraph) {\n\t\tconst map = this.getUserRequestMap(dependencies, chunkGraph);\n\t\tconst fakeMap = this.getFakeMap(dependencies, chunkGraph);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = ${JSON.stringify(id)};`;\n\t}\n\n\t/**\n\t * @param {TODO} dependencies TODO\n\t * @param {TODO} id TODO\n\t * @param {ChunkGraph} chunkGraph the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetWeakSyncSource(dependencies, id, chunkGraph) {\n\t\tconst map = this.getUserRequestMap(dependencies, chunkGraph);\n\t\tconst fakeMap = this.getFakeMap(dependencies, chunkGraph);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!${RuntimeGlobals.moduleFactories}[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackContext;`;\n\t}\n\n\t/**\n\t * @param {TODO} dependencies TODO\n\t * @param {TODO} id TODO\n\t * @param {Object} context context\n\t * @param {ChunkGraph} context.chunkGraph the chunk graph\n\t * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetAsyncWeakSource(dependencies, id, { chunkGraph, runtimeTemplate }) {\n\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\tconst map = this.getUserRequestMap(dependencies, chunkGraph);\n\t\tconst fakeMap = this.getFakeMap(dependencies, chunkGraph);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap, true);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${\n\t\tarrow ? \"id =>\" : \"function(id)\"\n\t} {\n\t\tif(!${RuntimeGlobals.moduleFactories}[id]) {\n\t\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\t${returnModuleObject}\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\n\t\t\t\"Object.keys(map)\"\n\t\t)};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\t/**\n\t * @param {TODO} dependencies TODO\n\t * @param {TODO} id TODO\n\t * @param {Object} context context\n\t * @param {ChunkGraph} context.chunkGraph the chunk graph\n\t * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetEagerSource(dependencies, id, { chunkGraph, runtimeTemplate }) {\n\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\tconst map = this.getUserRequestMap(dependencies, chunkGraph);\n\t\tconst fakeMap = this.getFakeMap(dependencies, chunkGraph);\n\t\tconst thenFunction =\n\t\t\tfakeMap !== 9\n\t\t\t\t? `${arrow ? \"id =>\" : \"function(id)\"} {\n\t\t${this.getReturnModuleObjectSource(fakeMap)}\n\t}`\n\t\t\t\t: \"__webpack_require__\";\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\n\t\t\t\"Object.keys(map)\"\n\t\t)};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\t/**\n\t * @param {TODO} block TODO\n\t * @param {TODO} dependencies TODO\n\t * @param {TODO} id TODO\n\t * @param {Object} options options object\n\t * @param {RuntimeTemplate} options.runtimeTemplate the runtime template\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetLazyOnceSource(block, dependencies, id, { runtimeTemplate, chunkGraph }) {\n\t\tconst promise = runtimeTemplate.blockPromise({\n\t\t\tchunkGraph,\n\t\t\tblock,\n\t\t\tmessage: \"lazy-once context\",\n\t\t\truntimeRequirements: new Set()\n\t\t});\n\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\tconst map = this.getUserRequestMap(dependencies, chunkGraph);\n\t\tconst fakeMap = this.getFakeMap(dependencies, chunkGraph);\n\t\tconst thenFunction =\n\t\t\tfakeMap !== 9\n\t\t\t\t? `${arrow ? \"id =>\" : \"function(id)\"} {\n\t\t${this.getReturnModuleObjectSource(fakeMap, true)};\n\t}`\n\t\t\t\t: \"__webpack_require__\";\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn ${promise}.then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\n\t\t\t\"Object.keys(map)\"\n\t\t)};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\t/**\n\t * @param {TODO} blocks TODO\n\t * @param {TODO} id TODO\n\t * @param {Object} context context\n\t * @param {ChunkGraph} context.chunkGraph the chunk graph\n\t * @param {RuntimeTemplate} context.runtimeTemplate the chunk graph\n\t * @returns {string} source code\n\t */\n\tgetLazySource(blocks, id, { chunkGraph, runtimeTemplate }) {\n\t\tconst moduleGraph = chunkGraph.moduleGraph;\n\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\tlet hasMultipleOrNoChunks = false;\n\t\tlet hasNoChunk = true;\n\t\tconst fakeMap = this.getFakeMap(\n\t\t\tblocks.map(b => b.dependencies[0]),\n\t\t\tchunkGraph\n\t\t);\n\t\tconst hasFakeMap = typeof fakeMap === \"object\";\n\t\tconst items = blocks\n\t\t\t.map(block => {\n\t\t\t\tconst dependency = block.dependencies[0];\n\t\t\t\treturn {\n\t\t\t\t\tdependency: dependency,\n\t\t\t\t\tmodule: moduleGraph.getModule(dependency),\n\t\t\t\t\tblock: block,\n\t\t\t\t\tuserRequest: dependency.userRequest,\n\t\t\t\t\tchunks: undefined\n\t\t\t\t};\n\t\t\t})\n\t\t\t.filter(item => item.module);\n\t\tfor (const item of items) {\n\t\t\tconst chunkGroup = chunkGraph.getBlockChunkGroup(item.block);\n\t\t\tconst chunks = (chunkGroup && chunkGroup.chunks) || [];\n\t\t\titem.chunks = chunks;\n\t\t\tif (chunks.length > 0) {\n\t\t\t\thasNoChunk = false;\n\t\t\t}\n\t\t\tif (chunks.length !== 1) {\n\t\t\t\thasMultipleOrNoChunks = true;\n\t\t\t}\n\t\t}\n\t\tconst shortMode = hasNoChunk && !hasFakeMap;\n\t\tconst sortedItems = items.sort((a, b) => {\n\t\t\tif (a.userRequest === b.userRequest) return 0;\n\t\t\treturn a.userRequest < b.userRequest ? -1 : 1;\n\t\t});\n\t\tconst map = Object.create(null);\n\t\tfor (const item of sortedItems) {\n\t\t\tconst moduleId = chunkGraph.getModuleId(item.module);\n\t\t\tif (shortMode) {\n\t\t\t\tmap[item.userRequest] = moduleId;\n\t\t\t} else {\n\t\t\t\tconst arrayStart = [moduleId];\n\t\t\t\tif (hasFakeMap) {\n\t\t\t\t\tarrayStart.push(fakeMap[moduleId]);\n\t\t\t\t}\n\t\t\t\tmap[item.userRequest] = arrayStart.concat(\n\t\t\t\t\titem.chunks.map(chunk => chunk.id)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst chunksStartPosition = hasFakeMap ? 2 : 1;\n\t\tconst requestPrefix = hasNoChunk\n\t\t\t? \"Promise.resolve()\"\n\t\t\t: hasMultipleOrNoChunks\n\t\t\t? `Promise.all(ids.slice(${chunksStartPosition}).map(${RuntimeGlobals.ensureChunk}))`\n\t\t\t: `${RuntimeGlobals.ensureChunk}(ids[${chunksStartPosition}])`;\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(\n\t\t\tfakeMap,\n\t\t\ttrue,\n\t\t\tshortMode ? \"invalid\" : \"ids[1]\"\n\t\t);\n\n\t\tconst webpackAsyncContext =\n\t\t\trequestPrefix === \"Promise.resolve()\"\n\t\t\t\t? `\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\t${shortMode ? \"var id = map[req];\" : \"var ids = map[req], id = ids[0];\"}\n\t\t${returnModuleObject}\n\t});\n}`\n\t\t\t\t: `function webpackAsyncContext(req) {\n\tif(!${RuntimeGlobals.hasOwnProperty}(map, req)) {\n\t\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn ${requestPrefix}.then(${arrow ? \"() =>\" : \"function()\"} {\n\t\t${returnModuleObject}\n\t});\n}`;\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${webpackAsyncContext}\nwebpackAsyncContext.keys = ${runtimeTemplate.returningFunction(\n\t\t\t\"Object.keys(map)\"\n\t\t)};\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\tgetSourceForEmptyContext(id, runtimeTemplate) {\n\t\treturn `function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = ${runtimeTemplate.returningFunction(\"[]\")};\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackEmptyContext;`;\n\t}\n\n\tgetSourceForEmptyAsyncContext(id, runtimeTemplate) {\n\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\treturn `function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(${arrow ? \"() =>\" : \"function()\"} {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = ${runtimeTemplate.returningFunction(\"[]\")};\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackEmptyAsyncContext;`;\n\t}\n\n\t/**\n\t * @param {string} asyncMode module mode\n\t * @param {CodeGenerationContext} context context info\n\t * @returns {string} the source code\n\t */\n\tgetSourceString(asyncMode, { runtimeTemplate, chunkGraph }) {\n\t\tconst id = chunkGraph.getModuleId(this);\n\t\tif (asyncMode === \"lazy\") {\n\t\t\tif (this.blocks && this.blocks.length > 0) {\n\t\t\t\treturn this.getLazySource(this.blocks, id, {\n\t\t\t\t\truntimeTemplate,\n\t\t\t\t\tchunkGraph\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n\t\t}\n\t\tif (asyncMode === \"eager\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getEagerSource(this.dependencies, id, {\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\truntimeTemplate\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n\t\t}\n\t\tif (asyncMode === \"lazy-once\") {\n\t\t\tconst block = this.blocks[0];\n\t\t\tif (block) {\n\t\t\t\treturn this.getLazyOnceSource(block, block.dependencies, id, {\n\t\t\t\t\truntimeTemplate,\n\t\t\t\t\tchunkGraph\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n\t\t}\n\t\tif (asyncMode === \"async-weak\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getAsyncWeakSource(this.dependencies, id, {\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\truntimeTemplate\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(id, runtimeTemplate);\n\t\t}\n\t\tif (asyncMode === \"weak\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getWeakSyncSource(this.dependencies, id, chunkGraph);\n\t\t\t}\n\t\t}\n\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\treturn this.getSyncSource(this.dependencies, id, chunkGraph);\n\t\t}\n\t\treturn this.getSourceForEmptyContext(id, runtimeTemplate);\n\t}\n\n\tgetSource(sourceString) {\n\t\tif (this.useSourceMap || this.useSimpleSourceMap) {\n\t\t\treturn new OriginalSource(sourceString, this.identifier());\n\t\t}\n\t\treturn new RawSource(sourceString);\n\t}\n\n\t/**\n\t * @param {CodeGenerationContext} context context for code generation\n\t * @returns {CodeGenerationResult} result\n\t */\n\tcodeGeneration(context) {\n\t\tconst { chunkGraph } = context;\n\t\tconst sources = new Map();\n\t\tsources.set(\n\t\t\t\"javascript\",\n\t\t\tthis.getSource(this.getSourceString(this.options.mode, context))\n\t\t);\n\t\tconst set = new Set();\n\t\tconst allDeps = /** @type {ContextElementDependency[]} */ (\n\t\t\tthis.dependencies.concat(this.blocks.map(b => b.dependencies[0]))\n\t\t);\n\t\tset.add(RuntimeGlobals.module);\n\t\tset.add(RuntimeGlobals.hasOwnProperty);\n\t\tif (allDeps.length > 0) {\n\t\t\tconst asyncMode = this.options.mode;\n\t\t\tset.add(RuntimeGlobals.require);\n\t\t\tif (asyncMode === \"weak\") {\n\t\t\t\tset.add(RuntimeGlobals.moduleFactories);\n\t\t\t} else if (asyncMode === \"async-weak\") {\n\t\t\t\tset.add(RuntimeGlobals.moduleFactories);\n\t\t\t\tset.add(RuntimeGlobals.ensureChunk);\n\t\t\t} else if (asyncMode === \"lazy\" || asyncMode === \"lazy-once\") {\n\t\t\t\tset.add(RuntimeGlobals.ensureChunk);\n\t\t\t}\n\t\t\tif (this.getFakeMap(allDeps, chunkGraph) !== 9) {\n\t\t\t\tset.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tsources,\n\t\t\truntimeRequirements: set\n\t\t};\n\t}\n\n\t/**\n\t * @param {string=} type the source type for which the size should be estimated\n\t * @returns {number} the estimated size of the module (must be non-zero)\n\t */\n\tsize(type) {\n\t\t// base penalty\n\t\tlet size = 160;\n\n\t\t// if we don't have dependencies we stop here.\n\t\tfor (const dependency of this.dependencies) {\n\t\t\tconst element = /** @type {ContextElementDependency} */ (dependency);\n\t\t\tsize += 5 + element.userRequest.length;\n\t\t}\n\t\treturn size;\n\t}\n\n\tserialize(context) {\n\t\tconst { write } = context;\n\t\twrite(this._identifier);\n\t\twrite(this._forceBuild);\n\t\tsuper.serialize(context);\n\t}\n\n\tdeserialize(context) {\n\t\tconst { read } = context;\n\t\tthis._identifier = read();\n\t\tthis._forceBuild = read();\n\t\tsuper.deserialize(context);\n\t}\n}\n\nmakeSerializable(ContextModule, \"webpack/lib/ContextModule\");\n\nmodule.exports = ContextModule;\n"]},"metadata":{},"sourceType":"script"}