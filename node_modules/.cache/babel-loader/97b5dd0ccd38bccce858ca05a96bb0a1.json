{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n*/\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\n\nconst RuntimeModule = require(\"../RuntimeModule\");\n\nconst Template = require(\"../Template\");\n\nclass OnChunksLoadedRuntimeModule extends RuntimeModule {\n  constructor() {\n    super(\"chunk loaded\");\n  }\n  /**\n   * @returns {string} runtime code\n   */\n\n\n  generate() {\n    const {\n      compilation\n    } = this;\n    const {\n      runtimeTemplate\n    } = compilation;\n    return Template.asString([\"var deferred = [];\", `${RuntimeGlobals.onChunksLoaded} = ${runtimeTemplate.basicFunction(\"result, chunkIds, fn, priority\", [\"if(chunkIds) {\", Template.indent([\"priority = priority || 0;\", \"for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\", \"deferred[i] = [chunkIds, fn, priority];\", \"return;\"]), \"}\", \"var notFulfilled = Infinity;\", \"for (var i = 0; i < deferred.length; i++) {\", Template.indent([runtimeTemplate.destructureArray([\"chunkIds\", \"fn\", \"priority\"], \"deferred[i]\"), \"var fulfilled = true;\", \"for (var j = 0; j < chunkIds.length; j++) {\", Template.indent([`if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(${RuntimeGlobals.onChunksLoaded}).every(${runtimeTemplate.returningFunction(`${RuntimeGlobals.onChunksLoaded}[key](chunkIds[j])`, \"key\")})) {`, Template.indent([\"chunkIds.splice(j--, 1);\"]), \"} else {\", Template.indent([\"fulfilled = false;\", \"if(priority < notFulfilled) notFulfilled = priority;\"]), \"}\"]), \"}\", \"if(fulfilled) {\", Template.indent([\"deferred.splice(i--, 1)\", \"var r = fn();\", \"if (r !== undefined) result = r;\"]), \"}\"]), \"}\", \"return result;\"])};`]);\n  }\n\n}\n\nmodule.exports = OnChunksLoadedRuntimeModule;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/runtime/OnChunksLoadedRuntimeModule.js"],"names":["RuntimeGlobals","require","RuntimeModule","Template","OnChunksLoadedRuntimeModule","constructor","generate","compilation","runtimeTemplate","asString","onChunksLoaded","basicFunction","indent","destructureArray","returningFunction","module","exports"],"mappings":"AAAA;AACA;AACA;AAEA;;AAEA,MAAMA,cAAc,GAAGC,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,kBAAD,CAA7B;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;;AAEA,MAAMG,2BAAN,SAA0CF,aAA1C,CAAwD;AACvDG,EAAAA,WAAW,GAAG;AACb,UAAM,cAAN;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,QAAQ,GAAG;AACV,UAAM;AAAEC,MAAAA;AAAF,QAAkB,IAAxB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAsBD,WAA5B;AACA,WAAOJ,QAAQ,CAACM,QAAT,CAAkB,CACxB,oBADwB,EAEvB,GAAET,cAAc,CAACU,cAAe,MAAKF,eAAe,CAACG,aAAhB,CACrC,gCADqC,EAErC,CACC,gBADD,EAECR,QAAQ,CAACS,MAAT,CAAgB,CACf,2BADe,EAEf,0GAFe,EAGf,yCAHe,EAIf,SAJe,CAAhB,CAFD,EAQC,GARD,EASC,8BATD,EAUC,6CAVD,EAWCT,QAAQ,CAACS,MAAT,CAAgB,CACfJ,eAAe,CAACK,gBAAhB,CACC,CAAC,UAAD,EAAa,IAAb,EAAmB,UAAnB,CADD,EAEC,aAFD,CADe,EAKf,uBALe,EAMf,6CANe,EAOfV,QAAQ,CAACS,MAAT,CAAgB,CACd,uEACAZ,cAAc,CAACU,cACf,WAAUF,eAAe,CAACM,iBAAhB,CACT,GAAEd,cAAc,CAACU,cAAe,oBADvB,EAEV,KAFU,CAGT,MANa,EAOfP,QAAQ,CAACS,MAAT,CAAgB,CAAC,0BAAD,CAAhB,CAPe,EAQf,UARe,EASfT,QAAQ,CAACS,MAAT,CAAgB,CACf,oBADe,EAEf,sDAFe,CAAhB,CATe,EAaf,GAbe,CAAhB,CAPe,EAsBf,GAtBe,EAuBf,iBAvBe,EAwBfT,QAAQ,CAACS,MAAT,CAAgB,CACf,yBADe,EAEf,eAFe,EAGf,kCAHe,CAAhB,CAxBe,EA6Bf,GA7Be,CAAhB,CAXD,EA0CC,GA1CD,EA2CC,gBA3CD,CAFqC,CA+CpC,GAjDsB,CAAlB,CAAP;AAmDA;;AA9DsD;;AAiExDG,MAAM,CAACC,OAAP,GAAiBZ,2BAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n*/\n\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst RuntimeModule = require(\"../RuntimeModule\");\nconst Template = require(\"../Template\");\n\nclass OnChunksLoadedRuntimeModule extends RuntimeModule {\n\tconstructor() {\n\t\tsuper(\"chunk loaded\");\n\t}\n\n\t/**\n\t * @returns {string} runtime code\n\t */\n\tgenerate() {\n\t\tconst { compilation } = this;\n\t\tconst { runtimeTemplate } = compilation;\n\t\treturn Template.asString([\n\t\t\t\"var deferred = [];\",\n\t\t\t`${RuntimeGlobals.onChunksLoaded} = ${runtimeTemplate.basicFunction(\n\t\t\t\t\"result, chunkIds, fn, priority\",\n\t\t\t\t[\n\t\t\t\t\t\"if(chunkIds) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"priority = priority || 0;\",\n\t\t\t\t\t\t\"for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\",\n\t\t\t\t\t\t\"deferred[i] = [chunkIds, fn, priority];\",\n\t\t\t\t\t\t\"return;\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"var notFulfilled = Infinity;\",\n\t\t\t\t\t\"for (var i = 0; i < deferred.length; i++) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\truntimeTemplate.destructureArray(\n\t\t\t\t\t\t\t[\"chunkIds\", \"fn\", \"priority\"],\n\t\t\t\t\t\t\t\"deferred[i]\"\n\t\t\t\t\t\t),\n\t\t\t\t\t\t\"var fulfilled = true;\",\n\t\t\t\t\t\t\"for (var j = 0; j < chunkIds.length; j++) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t`if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(${\n\t\t\t\t\t\t\t\tRuntimeGlobals.onChunksLoaded\n\t\t\t\t\t\t\t}).every(${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t\t`${RuntimeGlobals.onChunksLoaded}[key](chunkIds[j])`,\n\t\t\t\t\t\t\t\t\"key\"\n\t\t\t\t\t\t\t)})) {`,\n\t\t\t\t\t\t\tTemplate.indent([\"chunkIds.splice(j--, 1);\"]),\n\t\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"fulfilled = false;\",\n\t\t\t\t\t\t\t\t\"if(priority < notFulfilled) notFulfilled = priority;\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\"if(fulfilled) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"deferred.splice(i--, 1)\",\n\t\t\t\t\t\t\t\"var r = fn();\",\n\t\t\t\t\t\t\t\"if (r !== undefined) result = r;\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"return result;\"\n\t\t\t\t]\n\t\t\t)};`\n\t\t]);\n\t}\n}\n\nmodule.exports = OnChunksLoadedRuntimeModule;\n"]},"metadata":{},"sourceType":"script"}