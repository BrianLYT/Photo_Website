{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Sean Larkin @thelarkinn\n*/\n\"use strict\";\n\nconst WebpackError = require(\"./WebpackError\");\n/** @typedef {import(\"./Module\")} Module */\n\n/**\n * @template T\n * @callback Callback\n * @param {Error=} err\n * @param {T=} stats\n * @returns {void}\n */\n\n\nclass HookWebpackError extends WebpackError {\n  /**\n   * Creates an instance of HookWebpackError.\n   * @param {Error} error inner error\n   * @param {string} hook name of hook\n   */\n  constructor(error, hook) {\n    super(error.message);\n    this.name = \"HookWebpackError\";\n    this.hook = hook;\n    this.error = error;\n    this.hideStack = true;\n    this.details = `caused by plugins in ${hook}\\n${error.stack}`;\n    this.stack += `\\n-- inner error --\\n${error.stack}`;\n  }\n\n}\n\nmodule.exports = HookWebpackError;\n/**\n * @param {Error} error an error\n * @param {string} hook name of the hook\n * @returns {WebpackError} a webpack error\n */\n\nconst makeWebpackError = (error, hook) => {\n  if (error instanceof WebpackError) return error;\n  return new HookWebpackError(error, hook);\n};\n\nmodule.exports.makeWebpackError = makeWebpackError;\n/**\n * @template T\n * @param {function((WebpackError | null)=, T=): void} callback webpack error callback\n * @param {string} hook name of hook\n * @returns {Callback<T>} generic callback\n */\n\nconst makeWebpackErrorCallback = (callback, hook) => {\n  return (err, result) => {\n    if (err) {\n      if (err instanceof WebpackError) {\n        callback(err);\n        return;\n      }\n\n      callback(new HookWebpackError(err, hook));\n      return;\n    }\n\n    callback(null, result);\n  };\n};\n\nmodule.exports.makeWebpackErrorCallback = makeWebpackErrorCallback;\n/**\n * @template T\n * @param {function(): T} fn function which will be wrapping in try catch\n * @param {string} hook name of hook\n * @returns {T} the result\n */\n\nconst tryRunOrWebpackError = (fn, hook) => {\n  let r;\n\n  try {\n    r = fn();\n  } catch (err) {\n    if (err instanceof WebpackError) {\n      throw err;\n    }\n\n    throw new HookWebpackError(err, hook);\n  }\n\n  return r;\n};\n\nmodule.exports.tryRunOrWebpackError = tryRunOrWebpackError;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/HookWebpackError.js"],"names":["WebpackError","require","HookWebpackError","constructor","error","hook","message","name","hideStack","details","stack","module","exports","makeWebpackError","makeWebpackErrorCallback","callback","err","result","tryRunOrWebpackError","fn","r"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,gBAAD,CAA5B;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,gBAAN,SAA+BF,YAA/B,CAA4C;AAC3C;AACD;AACA;AACA;AACA;AACCG,EAAAA,WAAW,CAACC,KAAD,EAAQC,IAAR,EAAc;AACxB,UAAMD,KAAK,CAACE,OAAZ;AAEA,SAAKC,IAAL,GAAY,kBAAZ;AACA,SAAKF,IAAL,GAAYA,IAAZ;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKI,SAAL,GAAiB,IAAjB;AACA,SAAKC,OAAL,GAAgB,wBAAuBJ,IAAK,KAAID,KAAK,CAACM,KAAM,EAA5D;AAEA,SAAKA,KAAL,IAAe,wBAAuBN,KAAK,CAACM,KAAM,EAAlD;AACA;;AAhB0C;;AAmB5CC,MAAM,CAACC,OAAP,GAAiBV,gBAAjB;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMW,gBAAgB,GAAG,CAACT,KAAD,EAAQC,IAAR,KAAiB;AACzC,MAAID,KAAK,YAAYJ,YAArB,EAAmC,OAAOI,KAAP;AACnC,SAAO,IAAIF,gBAAJ,CAAqBE,KAArB,EAA4BC,IAA5B,CAAP;AACA,CAHD;;AAIAM,MAAM,CAACC,OAAP,CAAeC,gBAAf,GAAkCA,gBAAlC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,wBAAwB,GAAG,CAACC,QAAD,EAAWV,IAAX,KAAoB;AACpD,SAAO,CAACW,GAAD,EAAMC,MAAN,KAAiB;AACvB,QAAID,GAAJ,EAAS;AACR,UAAIA,GAAG,YAAYhB,YAAnB,EAAiC;AAChCe,QAAAA,QAAQ,CAACC,GAAD,CAAR;AACA;AACA;;AACDD,MAAAA,QAAQ,CAAC,IAAIb,gBAAJ,CAAqBc,GAArB,EAA0BX,IAA1B,CAAD,CAAR;AACA;AACA;;AACDU,IAAAA,QAAQ,CAAC,IAAD,EAAOE,MAAP,CAAR;AACA,GAVD;AAWA,CAZD;;AAcAN,MAAM,CAACC,OAAP,CAAeE,wBAAf,GAA0CA,wBAA1C;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMI,oBAAoB,GAAG,CAACC,EAAD,EAAKd,IAAL,KAAc;AAC1C,MAAIe,CAAJ;;AACA,MAAI;AACHA,IAAAA,CAAC,GAAGD,EAAE,EAAN;AACA,GAFD,CAEE,OAAOH,GAAP,EAAY;AACb,QAAIA,GAAG,YAAYhB,YAAnB,EAAiC;AAChC,YAAMgB,GAAN;AACA;;AACD,UAAM,IAAId,gBAAJ,CAAqBc,GAArB,EAA0BX,IAA1B,CAAN;AACA;;AACD,SAAOe,CAAP;AACA,CAXD;;AAaAT,MAAM,CAACC,OAAP,CAAeM,oBAAf,GAAsCA,oBAAtC","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Sean Larkin @thelarkinn\n*/\n\n\"use strict\";\n\nconst WebpackError = require(\"./WebpackError\");\n\n/** @typedef {import(\"./Module\")} Module */\n\n/**\n * @template T\n * @callback Callback\n * @param {Error=} err\n * @param {T=} stats\n * @returns {void}\n */\n\nclass HookWebpackError extends WebpackError {\n\t/**\n\t * Creates an instance of HookWebpackError.\n\t * @param {Error} error inner error\n\t * @param {string} hook name of hook\n\t */\n\tconstructor(error, hook) {\n\t\tsuper(error.message);\n\n\t\tthis.name = \"HookWebpackError\";\n\t\tthis.hook = hook;\n\t\tthis.error = error;\n\t\tthis.hideStack = true;\n\t\tthis.details = `caused by plugins in ${hook}\\n${error.stack}`;\n\n\t\tthis.stack += `\\n-- inner error --\\n${error.stack}`;\n\t}\n}\n\nmodule.exports = HookWebpackError;\n\n/**\n * @param {Error} error an error\n * @param {string} hook name of the hook\n * @returns {WebpackError} a webpack error\n */\nconst makeWebpackError = (error, hook) => {\n\tif (error instanceof WebpackError) return error;\n\treturn new HookWebpackError(error, hook);\n};\nmodule.exports.makeWebpackError = makeWebpackError;\n\n/**\n * @template T\n * @param {function((WebpackError | null)=, T=): void} callback webpack error callback\n * @param {string} hook name of hook\n * @returns {Callback<T>} generic callback\n */\nconst makeWebpackErrorCallback = (callback, hook) => {\n\treturn (err, result) => {\n\t\tif (err) {\n\t\t\tif (err instanceof WebpackError) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcallback(new HookWebpackError(err, hook));\n\t\t\treturn;\n\t\t}\n\t\tcallback(null, result);\n\t};\n};\n\nmodule.exports.makeWebpackErrorCallback = makeWebpackErrorCallback;\n\n/**\n * @template T\n * @param {function(): T} fn function which will be wrapping in try catch\n * @param {string} hook name of hook\n * @returns {T} the result\n */\nconst tryRunOrWebpackError = (fn, hook) => {\n\tlet r;\n\ttry {\n\t\tr = fn();\n\t} catch (err) {\n\t\tif (err instanceof WebpackError) {\n\t\t\tthrow err;\n\t\t}\n\t\tthrow new HookWebpackError(err, hook);\n\t}\n\treturn r;\n};\n\nmodule.exports.tryRunOrWebpackError = tryRunOrWebpackError;\n"]},"metadata":{},"sourceType":"script"}