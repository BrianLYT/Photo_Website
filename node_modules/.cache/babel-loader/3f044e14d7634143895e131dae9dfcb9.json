{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst InitFragment = require(\"./InitFragment\");\n\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\n\nconst Template = require(\"./Template\");\n\nconst {\n  equals\n} = require(\"./util/ArrayHelpers\");\n\nconst compileBooleanMatcher = require(\"./util/compileBooleanMatcher\");\n\nconst propertyAccess = require(\"./util/propertyAccess\");\n\nconst {\n  forEachRuntime,\n  subtractRuntime\n} = require(\"./util/runtime\");\n/** @typedef {import(\"../declarations/WebpackOptions\").OutputNormalized} OutputOptions */\n\n/** @typedef {import(\"./AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph */\n\n/** @typedef {import(\"./CodeGenerationResults\")} CodeGenerationResults */\n\n/** @typedef {import(\"./Compilation\")} Compilation */\n\n/** @typedef {import(\"./Dependency\")} Dependency */\n\n/** @typedef {import(\"./Module\")} Module */\n\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph */\n\n/** @typedef {import(\"./RequestShortener\")} RequestShortener */\n\n/** @typedef {import(\"./util/runtime\").RuntimeSpec} RuntimeSpec */\n\n/**\n * @param {Module} module the module\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {string} error message\n */\n\n\nconst noModuleIdErrorMessage = (module, chunkGraph) => {\n  return `Module ${module.identifier()} has no id assigned.\nThis should not happen.\nIt's in these chunks: ${Array.from(chunkGraph.getModuleChunksIterable(module), c => c.name || c.id || c.debugId).join(\", \") || \"none\"} (If module is in no chunk this indicates a bug in some chunk/module optimization logic)\nModule has these incoming connections: ${Array.from(chunkGraph.moduleGraph.getIncomingConnections(module), connection => `\\n - ${connection.originModule && connection.originModule.identifier()} ${connection.dependency && connection.dependency.type} ${connection.explanations && Array.from(connection.explanations).join(\", \") || \"\"}`).join(\"\")}`;\n};\n/**\n * @param {string|undefined} definition global object definition\n * @returns {string} save to use global object\n */\n\n\nfunction getGlobalObject(definition) {\n  if (!definition) return definition;\n  const trimmed = definition.trim();\n  if ( // identifier, we do not need real identifier regarding ECMAScript/Unicode\n  trimmed.match(/^[_\\p{L}][_0-9\\p{L}]*$/iu) || // iife\n  // call expression\n  // expression in parentheses\n  trimmed.match(/^([_\\p{L}][_0-9\\p{L}]*)?\\(.*\\)$/iu)) return trimmed;\n  return `Object(${trimmed})`;\n}\n\nclass RuntimeTemplate {\n  /**\n   * @param {Compilation} compilation the compilation\n   * @param {OutputOptions} outputOptions the compilation output options\n   * @param {RequestShortener} requestShortener the request shortener\n   */\n  constructor(compilation, outputOptions, requestShortener) {\n    this.compilation = compilation;\n    this.outputOptions = outputOptions || {};\n    this.requestShortener = requestShortener;\n    this.globalObject = getGlobalObject(outputOptions.globalObject);\n    this.contentHashReplacement = \"X\".repeat(outputOptions.hashDigestLength);\n  }\n\n  isIIFE() {\n    return this.outputOptions.iife;\n  }\n\n  isModule() {\n    return this.outputOptions.module;\n  }\n\n  supportsConst() {\n    return this.outputOptions.environment.const;\n  }\n\n  supportsArrowFunction() {\n    return this.outputOptions.environment.arrowFunction;\n  }\n\n  supportsOptionalChaining() {\n    return this.outputOptions.environment.optionalChaining;\n  }\n\n  supportsForOf() {\n    return this.outputOptions.environment.forOf;\n  }\n\n  supportsDestructuring() {\n    return this.outputOptions.environment.destructuring;\n  }\n\n  supportsBigIntLiteral() {\n    return this.outputOptions.environment.bigIntLiteral;\n  }\n\n  supportsDynamicImport() {\n    return this.outputOptions.environment.dynamicImport;\n  }\n\n  supportsEcmaScriptModuleSyntax() {\n    return this.outputOptions.environment.module;\n  }\n\n  supportTemplateLiteral() {\n    return this.outputOptions.environment.templateLiteral;\n  }\n\n  returningFunction(returnValue) {\n    let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    return this.supportsArrowFunction() ? `(${args}) => (${returnValue})` : `function(${args}) { return ${returnValue}; }`;\n  }\n\n  basicFunction(args, body) {\n    return this.supportsArrowFunction() ? `(${args}) => {\\n${Template.indent(body)}\\n}` : `function(${args}) {\\n${Template.indent(body)}\\n}`;\n  }\n  /**\n   * @param {Array<string|{expr: string}>} args args\n   * @returns {string} result expression\n   */\n\n\n  concatenation() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    const len = args.length;\n    if (len === 2) return this._es5Concatenation(args);\n    if (len === 0) return '\"\"';\n\n    if (len === 1) {\n      return typeof args[0] === \"string\" ? JSON.stringify(args[0]) : `\"\" + ${args[0].expr}`;\n    }\n\n    if (!this.supportTemplateLiteral()) return this._es5Concatenation(args); // cost comparison between template literal and concatenation:\n    // both need equal surroundings: `xxx` vs \"xxx\"\n    // template literal has constant cost of 3 chars for each expression\n    // es5 concatenation has cost of 3 + n chars for n expressions in row\n    // when a es5 concatenation ends with an expression it reduces cost by 3\n    // when a es5 concatenation starts with an single expression it reduces cost by 3\n    // e. g. `${a}${b}${c}` (3*3 = 9) is longer than \"\"+a+b+c ((3+3)-3 = 3)\n    // e. g. `x${a}x${b}x${c}x` (3*3 = 9) is shorter than \"x\"+a+\"x\"+b+\"x\"+c+\"x\" (4+4+4 = 12)\n\n    let templateCost = 0;\n    let concatenationCost = 0;\n    let lastWasExpr = false;\n\n    for (const arg of args) {\n      const isExpr = typeof arg !== \"string\";\n\n      if (isExpr) {\n        templateCost += 3;\n        concatenationCost += lastWasExpr ? 1 : 4;\n      }\n\n      lastWasExpr = isExpr;\n    }\n\n    if (lastWasExpr) concatenationCost -= 3;\n    if (typeof args[0] !== \"string\" && typeof args[1] === \"string\") concatenationCost -= 3;\n    if (concatenationCost <= templateCost) return this._es5Concatenation(args);\n    return `\\`${args.map(arg => typeof arg === \"string\" ? arg : `\\${${arg.expr}}`).join(\"\")}\\``;\n  }\n  /**\n   * @param {Array<string|{expr: string}>} args args (len >= 2)\n   * @returns {string} result expression\n   * @private\n   */\n\n\n  _es5Concatenation(args) {\n    const str = args.map(arg => typeof arg === \"string\" ? JSON.stringify(arg) : arg.expr).join(\" + \"); // when the first two args are expression, we need to prepend \"\" + to force string\n    // concatenation instead of number addition.\n\n    return typeof args[0] !== \"string\" && typeof args[1] !== \"string\" ? `\"\" + ${str}` : str;\n  }\n\n  expressionFunction(expression) {\n    let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    return this.supportsArrowFunction() ? `(${args}) => (${expression})` : `function(${args}) { ${expression}; }`;\n  }\n\n  emptyFunction() {\n    return this.supportsArrowFunction() ? \"x => {}\" : \"function() {}\";\n  }\n\n  destructureArray(items, value) {\n    return this.supportsDestructuring() ? `var [${items.join(\", \")}] = ${value};` : Template.asString(items.map((item, i) => `var ${item} = ${value}[${i}];`));\n  }\n\n  destructureObject(items, value) {\n    return this.supportsDestructuring() ? `var {${items.join(\", \")}} = ${value};` : Template.asString(items.map(item => `var ${item} = ${value}${propertyAccess([item])};`));\n  }\n\n  iife(args, body) {\n    return `(${this.basicFunction(args, body)})()`;\n  }\n\n  forEach(variable, array, body) {\n    return this.supportsForOf() ? `for(const ${variable} of ${array}) {\\n${Template.indent(body)}\\n}` : `${array}.forEach(function(${variable}) {\\n${Template.indent(body)}\\n});`;\n  }\n  /**\n   * Add a comment\n   * @param {object} options Information content of the comment\n   * @param {string=} options.request request string used originally\n   * @param {string=} options.chunkName name of the chunk referenced\n   * @param {string=} options.chunkReason reason information of the chunk\n   * @param {string=} options.message additional message\n   * @param {string=} options.exportName name of the export\n   * @returns {string} comment\n   */\n\n\n  comment(_ref) {\n    let {\n      request,\n      chunkName,\n      chunkReason,\n      message,\n      exportName\n    } = _ref;\n    let content;\n\n    if (this.outputOptions.pathinfo) {\n      content = [message, request, chunkName, chunkReason].filter(Boolean).map(item => this.requestShortener.shorten(item)).join(\" | \");\n    } else {\n      content = [message, chunkName, chunkReason].filter(Boolean).map(item => this.requestShortener.shorten(item)).join(\" | \");\n    }\n\n    if (!content) return \"\";\n\n    if (this.outputOptions.pathinfo) {\n      return Template.toComment(content) + \" \";\n    } else {\n      return Template.toNormalComment(content) + \" \";\n    }\n  }\n  /**\n   * @param {object} options generation options\n   * @param {string=} options.request request string used originally\n   * @returns {string} generated error block\n   */\n\n\n  throwMissingModuleErrorBlock(_ref2) {\n    let {\n      request\n    } = _ref2;\n    const err = `Cannot find module '${request}'`;\n    return `var e = new Error(${JSON.stringify(err)}); e.code = 'MODULE_NOT_FOUND'; throw e;`;\n  }\n  /**\n   * @param {object} options generation options\n   * @param {string=} options.request request string used originally\n   * @returns {string} generated error function\n   */\n\n\n  throwMissingModuleErrorFunction(_ref3) {\n    let {\n      request\n    } = _ref3;\n    return `function webpackMissingModule() { ${this.throwMissingModuleErrorBlock({\n      request\n    })} }`;\n  }\n  /**\n   * @param {object} options generation options\n   * @param {string=} options.request request string used originally\n   * @returns {string} generated error IIFE\n   */\n\n\n  missingModule(_ref4) {\n    let {\n      request\n    } = _ref4;\n    return `Object(${this.throwMissingModuleErrorFunction({\n      request\n    })}())`;\n  }\n  /**\n   * @param {object} options generation options\n   * @param {string=} options.request request string used originally\n   * @returns {string} generated error statement\n   */\n\n\n  missingModuleStatement(_ref5) {\n    let {\n      request\n    } = _ref5;\n    return `${this.missingModule({\n      request\n    })};\\n`;\n  }\n  /**\n   * @param {object} options generation options\n   * @param {string=} options.request request string used originally\n   * @returns {string} generated error code\n   */\n\n\n  missingModulePromise(_ref6) {\n    let {\n      request\n    } = _ref6;\n    return `Promise.resolve().then(${this.throwMissingModuleErrorFunction({\n      request\n    })})`;\n  }\n  /**\n   * @param {Object} options options object\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {Module} options.module the module\n   * @param {string} options.request the request that should be printed as comment\n   * @param {string=} options.idExpr expression to use as id expression\n   * @param {\"expression\" | \"promise\" | \"statements\"} options.type which kind of code should be returned\n   * @returns {string} the code\n   */\n\n\n  weakError(_ref7) {\n    let {\n      module,\n      chunkGraph,\n      request,\n      idExpr,\n      type\n    } = _ref7;\n    const moduleId = chunkGraph.getModuleId(module);\n    const errorMessage = moduleId === null ? JSON.stringify(\"Module is not available (weak dependency)\") : idExpr ? `\"Module '\" + ${idExpr} + \"' is not available (weak dependency)\"` : JSON.stringify(`Module '${moduleId}' is not available (weak dependency)`);\n    const comment = request ? Template.toNormalComment(request) + \" \" : \"\";\n    const errorStatements = `var e = new Error(${errorMessage}); ` + comment + \"e.code = 'MODULE_NOT_FOUND'; throw e;\";\n\n    switch (type) {\n      case \"statements\":\n        return errorStatements;\n\n      case \"promise\":\n        return `Promise.resolve().then(${this.basicFunction(\"\", errorStatements)})`;\n\n      case \"expression\":\n        return this.iife(\"\", errorStatements);\n    }\n  }\n  /**\n   * @param {Object} options options object\n   * @param {Module} options.module the module\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {string} options.request the request that should be printed as comment\n   * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n   * @returns {string} the expression\n   */\n\n\n  moduleId(_ref8) {\n    let {\n      module,\n      chunkGraph,\n      request,\n      weak\n    } = _ref8;\n\n    if (!module) {\n      return this.missingModule({\n        request\n      });\n    }\n\n    const moduleId = chunkGraph.getModuleId(module);\n\n    if (moduleId === null) {\n      if (weak) {\n        return \"null /* weak dependency, without id */\";\n      }\n\n      throw new Error(`RuntimeTemplate.moduleId(): ${noModuleIdErrorMessage(module, chunkGraph)}`);\n    }\n\n    return `${this.comment({\n      request\n    })}${JSON.stringify(moduleId)}`;\n  }\n  /**\n   * @param {Object} options options object\n   * @param {Module} options.module the module\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {string} options.request the request that should be printed as comment\n   * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} the expression\n   */\n\n\n  moduleRaw(_ref9) {\n    let {\n      module,\n      chunkGraph,\n      request,\n      weak,\n      runtimeRequirements\n    } = _ref9;\n\n    if (!module) {\n      return this.missingModule({\n        request\n      });\n    }\n\n    const moduleId = chunkGraph.getModuleId(module);\n\n    if (moduleId === null) {\n      if (weak) {\n        // only weak referenced modules don't get an id\n        // we can always emit an error emitting code here\n        return this.weakError({\n          module,\n          chunkGraph,\n          request,\n          type: \"expression\"\n        });\n      }\n\n      throw new Error(`RuntimeTemplate.moduleId(): ${noModuleIdErrorMessage(module, chunkGraph)}`);\n    }\n\n    runtimeRequirements.add(RuntimeGlobals.require);\n    return `__webpack_require__(${this.moduleId({\n      module,\n      chunkGraph,\n      request,\n      weak\n    })})`;\n  }\n  /**\n   * @param {Object} options options object\n   * @param {Module} options.module the module\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {string} options.request the request that should be printed as comment\n   * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} the expression\n   */\n\n\n  moduleExports(_ref10) {\n    let {\n      module,\n      chunkGraph,\n      request,\n      weak,\n      runtimeRequirements\n    } = _ref10;\n    return this.moduleRaw({\n      module,\n      chunkGraph,\n      request,\n      weak,\n      runtimeRequirements\n    });\n  }\n  /**\n   * @param {Object} options options object\n   * @param {Module} options.module the module\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {string} options.request the request that should be printed as comment\n   * @param {boolean=} options.strict if the current module is in strict esm mode\n   * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} the expression\n   */\n\n\n  moduleNamespace(_ref11) {\n    let {\n      module,\n      chunkGraph,\n      request,\n      strict,\n      weak,\n      runtimeRequirements\n    } = _ref11;\n\n    if (!module) {\n      return this.missingModule({\n        request\n      });\n    }\n\n    if (chunkGraph.getModuleId(module) === null) {\n      if (weak) {\n        // only weak referenced modules don't get an id\n        // we can always emit an error emitting code here\n        return this.weakError({\n          module,\n          chunkGraph,\n          request,\n          type: \"expression\"\n        });\n      }\n\n      throw new Error(`RuntimeTemplate.moduleNamespace(): ${noModuleIdErrorMessage(module, chunkGraph)}`);\n    }\n\n    const moduleId = this.moduleId({\n      module,\n      chunkGraph,\n      request,\n      weak\n    });\n    const exportsType = module.getExportsType(chunkGraph.moduleGraph, strict);\n\n    switch (exportsType) {\n      case \"namespace\":\n        return this.moduleRaw({\n          module,\n          chunkGraph,\n          request,\n          weak,\n          runtimeRequirements\n        });\n\n      case \"default-with-named\":\n        runtimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n        return `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 3)`;\n\n      case \"default-only\":\n        runtimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n        return `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 1)`;\n\n      case \"dynamic\":\n        runtimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n        return `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 7)`;\n    }\n  }\n  /**\n   * @param {Object} options options object\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {AsyncDependenciesBlock=} options.block the current dependencies block\n   * @param {Module} options.module the module\n   * @param {string} options.request the request that should be printed as comment\n   * @param {string} options.message a message for the comment\n   * @param {boolean=} options.strict if the current module is in strict esm mode\n   * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} the promise expression\n   */\n\n\n  moduleNamespacePromise(_ref12) {\n    let {\n      chunkGraph,\n      block,\n      module,\n      request,\n      message,\n      strict,\n      weak,\n      runtimeRequirements\n    } = _ref12;\n\n    if (!module) {\n      return this.missingModulePromise({\n        request\n      });\n    }\n\n    const moduleId = chunkGraph.getModuleId(module);\n\n    if (moduleId === null) {\n      if (weak) {\n        // only weak referenced modules don't get an id\n        // we can always emit an error emitting code here\n        return this.weakError({\n          module,\n          chunkGraph,\n          request,\n          type: \"promise\"\n        });\n      }\n\n      throw new Error(`RuntimeTemplate.moduleNamespacePromise(): ${noModuleIdErrorMessage(module, chunkGraph)}`);\n    }\n\n    const promise = this.blockPromise({\n      chunkGraph,\n      block,\n      message,\n      runtimeRequirements\n    });\n    let appending;\n    let idExpr = JSON.stringify(chunkGraph.getModuleId(module));\n    const comment = this.comment({\n      request\n    });\n    let header = \"\";\n\n    if (weak) {\n      if (idExpr.length > 8) {\n        // 'var x=\"nnnnnn\";x,\"+x+\",x' vs '\"nnnnnn\",nnnnnn,\"nnnnnn\"'\n        header += `var id = ${idExpr}; `;\n        idExpr = \"id\";\n      }\n\n      runtimeRequirements.add(RuntimeGlobals.moduleFactories);\n      header += `if(!${RuntimeGlobals.moduleFactories}[${idExpr}]) { ${this.weakError({\n        module,\n        chunkGraph,\n        request,\n        idExpr,\n        type: \"statements\"\n      })} } `;\n    }\n\n    const moduleIdExpr = this.moduleId({\n      module,\n      chunkGraph,\n      request,\n      weak\n    });\n    const exportsType = module.getExportsType(chunkGraph.moduleGraph, strict);\n    let fakeType = 16;\n\n    switch (exportsType) {\n      case \"namespace\":\n        if (header) {\n          const rawModule = this.moduleRaw({\n            module,\n            chunkGraph,\n            request,\n            weak,\n            runtimeRequirements\n          });\n          appending = `.then(${this.basicFunction(\"\", `${header}return ${rawModule};`)})`;\n        } else {\n          runtimeRequirements.add(RuntimeGlobals.require);\n          appending = `.then(__webpack_require__.bind(__webpack_require__, ${comment}${idExpr}))`;\n        }\n\n        break;\n\n      case \"dynamic\":\n        fakeType |= 4;\n\n      /* fall through */\n\n      case \"default-with-named\":\n        fakeType |= 2;\n\n      /* fall through */\n\n      case \"default-only\":\n        runtimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\n        if (chunkGraph.moduleGraph.isAsync(module)) {\n          if (header) {\n            const rawModule = this.moduleRaw({\n              module,\n              chunkGraph,\n              request,\n              weak,\n              runtimeRequirements\n            });\n            appending = `.then(${this.basicFunction(\"\", `${header}return ${rawModule};`)})`;\n          } else {\n            runtimeRequirements.add(RuntimeGlobals.require);\n            appending = `.then(__webpack_require__.bind(__webpack_require__, ${comment}${idExpr}))`;\n          }\n\n          appending += `.then(${this.returningFunction(`${RuntimeGlobals.createFakeNamespaceObject}(m, ${fakeType})`, \"m\")})`;\n        } else {\n          fakeType |= 1;\n\n          if (header) {\n            const returnExpression = `${RuntimeGlobals.createFakeNamespaceObject}(${moduleIdExpr}, ${fakeType})`;\n            appending = `.then(${this.basicFunction(\"\", `${header}return ${returnExpression};`)})`;\n          } else {\n            appending = `.then(${RuntimeGlobals.createFakeNamespaceObject}.bind(__webpack_require__, ${comment}${idExpr}, ${fakeType}))`;\n          }\n        }\n\n        break;\n    }\n\n    return `${promise || \"Promise.resolve()\"}${appending}`;\n  }\n  /**\n   * @param {Object} options options object\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {RuntimeSpec=} options.runtime runtime for which this code will be generated\n   * @param {RuntimeSpec | boolean=} options.runtimeCondition only execute the statement in some runtimes\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} expression\n   */\n\n\n  runtimeConditionExpression(_ref13) {\n    let {\n      chunkGraph,\n      runtimeCondition,\n      runtime,\n      runtimeRequirements\n    } = _ref13;\n    if (runtimeCondition === undefined) return \"true\";\n    if (typeof runtimeCondition === \"boolean\") return `${runtimeCondition}`;\n    /** @type {Set<string>} */\n\n    const positiveRuntimeIds = new Set();\n    forEachRuntime(runtimeCondition, runtime => positiveRuntimeIds.add(`${chunkGraph.getRuntimeId(runtime)}`));\n    /** @type {Set<string>} */\n\n    const negativeRuntimeIds = new Set();\n    forEachRuntime(subtractRuntime(runtime, runtimeCondition), runtime => negativeRuntimeIds.add(`${chunkGraph.getRuntimeId(runtime)}`));\n    runtimeRequirements.add(RuntimeGlobals.runtimeId);\n    return compileBooleanMatcher.fromLists(Array.from(positiveRuntimeIds), Array.from(negativeRuntimeIds))(RuntimeGlobals.runtimeId);\n  }\n  /**\n   *\n   * @param {Object} options options object\n   * @param {boolean=} options.update whether a new variable should be created or the existing one updated\n   * @param {Module} options.module the module\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {string} options.request the request that should be printed as comment\n   * @param {string} options.importVar name of the import variable\n   * @param {Module} options.originModule module in which the statement is emitted\n   * @param {boolean=} options.weak true, if this is a weak dependency\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {[string, string]} the import statement and the compat statement\n   */\n\n\n  importStatement(_ref14) {\n    let {\n      update,\n      module,\n      chunkGraph,\n      request,\n      importVar,\n      originModule,\n      weak,\n      runtimeRequirements\n    } = _ref14;\n\n    if (!module) {\n      return [this.missingModuleStatement({\n        request\n      }), \"\"];\n    }\n\n    if (chunkGraph.getModuleId(module) === null) {\n      if (weak) {\n        // only weak referenced modules don't get an id\n        // we can always emit an error emitting code here\n        return [this.weakError({\n          module,\n          chunkGraph,\n          request,\n          type: \"statements\"\n        }), \"\"];\n      }\n\n      throw new Error(`RuntimeTemplate.importStatement(): ${noModuleIdErrorMessage(module, chunkGraph)}`);\n    }\n\n    const moduleId = this.moduleId({\n      module,\n      chunkGraph,\n      request,\n      weak\n    });\n    const optDeclaration = update ? \"\" : \"var \";\n    const exportsType = module.getExportsType(chunkGraph.moduleGraph, originModule.buildMeta.strictHarmonyModule);\n    runtimeRequirements.add(RuntimeGlobals.require);\n    const importContent = `/* harmony import */ ${optDeclaration}${importVar} = __webpack_require__(${moduleId});\\n`;\n\n    if (exportsType === \"dynamic\") {\n      runtimeRequirements.add(RuntimeGlobals.compatGetDefaultExport);\n      return [importContent, `/* harmony import */ ${optDeclaration}${importVar}_default = /*#__PURE__*/${RuntimeGlobals.compatGetDefaultExport}(${importVar});\\n`];\n    }\n\n    return [importContent, \"\"];\n  }\n  /**\n   * @param {Object} options options\n   * @param {ModuleGraph} options.moduleGraph the module graph\n   * @param {Module} options.module the module\n   * @param {string} options.request the request\n   * @param {string | string[]} options.exportName the export name\n   * @param {Module} options.originModule the origin module\n   * @param {boolean|undefined} options.asiSafe true, if location is safe for ASI, a bracket can be emitted\n   * @param {boolean} options.isCall true, if expression will be called\n   * @param {boolean} options.callContext when false, call context will not be preserved\n   * @param {boolean} options.defaultInterop when true and accessing the default exports, interop code will be generated\n   * @param {string} options.importVar the identifier name of the import variable\n   * @param {InitFragment[]} options.initFragments init fragments will be added here\n   * @param {RuntimeSpec} options.runtime runtime for which this code will be generated\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} expression\n   */\n\n\n  exportFromImport(_ref15) {\n    let {\n      moduleGraph,\n      module,\n      request,\n      exportName,\n      originModule,\n      asiSafe,\n      isCall,\n      callContext,\n      defaultInterop,\n      importVar,\n      initFragments,\n      runtime,\n      runtimeRequirements\n    } = _ref15;\n\n    if (!module) {\n      return this.missingModule({\n        request\n      });\n    }\n\n    if (!Array.isArray(exportName)) {\n      exportName = exportName ? [exportName] : [];\n    }\n\n    const exportsType = module.getExportsType(moduleGraph, originModule.buildMeta.strictHarmonyModule);\n\n    if (defaultInterop) {\n      if (exportName.length > 0 && exportName[0] === \"default\") {\n        switch (exportsType) {\n          case \"dynamic\":\n            if (isCall) {\n              return `${importVar}_default()${propertyAccess(exportName, 1)}`;\n            } else {\n              return asiSafe ? `(${importVar}_default()${propertyAccess(exportName, 1)})` : asiSafe === false ? `;(${importVar}_default()${propertyAccess(exportName, 1)})` : `${importVar}_default.a${propertyAccess(exportName, 1)}`;\n            }\n\n          case \"default-only\":\n          case \"default-with-named\":\n            exportName = exportName.slice(1);\n            break;\n        }\n      } else if (exportName.length > 0) {\n        if (exportsType === \"default-only\") {\n          return \"/* non-default import from non-esm module */undefined\" + propertyAccess(exportName, 1);\n        } else if (exportsType !== \"namespace\" && exportName[0] === \"__esModule\") {\n          return \"/* __esModule */true\";\n        }\n      } else if (exportsType === \"default-only\" || exportsType === \"default-with-named\") {\n        runtimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n        initFragments.push(new InitFragment(`var ${importVar}_namespace_cache;\\n`, InitFragment.STAGE_CONSTANTS, -1, `${importVar}_namespace_cache`));\n        return `/*#__PURE__*/ ${asiSafe ? \"\" : asiSafe === false ? \";\" : \"Object\"}(${importVar}_namespace_cache || (${importVar}_namespace_cache = ${RuntimeGlobals.createFakeNamespaceObject}(${importVar}${exportsType === \"default-only\" ? \"\" : \", 2\"})))`;\n      }\n    }\n\n    if (exportName.length > 0) {\n      const exportsInfo = moduleGraph.getExportsInfo(module);\n      const used = exportsInfo.getUsedName(exportName, runtime);\n\n      if (!used) {\n        const comment = Template.toNormalComment(`unused export ${propertyAccess(exportName)}`);\n        return `${comment} undefined`;\n      }\n\n      const comment = equals(used, exportName) ? \"\" : Template.toNormalComment(propertyAccess(exportName)) + \" \";\n      const access = `${importVar}${comment}${propertyAccess(used)}`;\n\n      if (isCall && callContext === false) {\n        return asiSafe ? `(0,${access})` : asiSafe === false ? `;(0,${access})` : `/*#__PURE__*/Object(${access})`;\n      }\n\n      return access;\n    } else {\n      return importVar;\n    }\n  }\n  /**\n   * @param {Object} options options\n   * @param {AsyncDependenciesBlock} options.block the async block\n   * @param {string} options.message the message\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} expression\n   */\n\n\n  blockPromise(_ref16) {\n    let {\n      block,\n      message,\n      chunkGraph,\n      runtimeRequirements\n    } = _ref16;\n\n    if (!block) {\n      const comment = this.comment({\n        message\n      });\n      return `Promise.resolve(${comment.trim()})`;\n    }\n\n    const chunkGroup = chunkGraph.getBlockChunkGroup(block);\n\n    if (!chunkGroup || chunkGroup.chunks.length === 0) {\n      const comment = this.comment({\n        message\n      });\n      return `Promise.resolve(${comment.trim()})`;\n    }\n\n    const chunks = chunkGroup.chunks.filter(chunk => !chunk.hasRuntime() && chunk.id !== null);\n    const comment = this.comment({\n      message,\n      chunkName: block.chunkName\n    });\n\n    if (chunks.length === 1) {\n      const chunkId = JSON.stringify(chunks[0].id);\n      runtimeRequirements.add(RuntimeGlobals.ensureChunk);\n      return `${RuntimeGlobals.ensureChunk}(${comment}${chunkId})`;\n    } else if (chunks.length > 0) {\n      runtimeRequirements.add(RuntimeGlobals.ensureChunk);\n\n      const requireChunkId = chunk => `${RuntimeGlobals.ensureChunk}(${JSON.stringify(chunk.id)})`;\n\n      return `Promise.all(${comment.trim()}[${chunks.map(requireChunkId).join(\", \")}])`;\n    } else {\n      return `Promise.resolve(${comment.trim()})`;\n    }\n  }\n  /**\n   * @param {Object} options options\n   * @param {AsyncDependenciesBlock} options.block the async block\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @param {string=} options.request request string used originally\n   * @returns {string} expression\n   */\n\n\n  asyncModuleFactory(_ref17) {\n    let {\n      block,\n      chunkGraph,\n      runtimeRequirements,\n      request\n    } = _ref17;\n    const dep = block.dependencies[0];\n    const module = chunkGraph.moduleGraph.getModule(dep);\n    const ensureChunk = this.blockPromise({\n      block,\n      message: \"\",\n      chunkGraph,\n      runtimeRequirements\n    });\n    const factory = this.returningFunction(this.moduleRaw({\n      module,\n      chunkGraph,\n      request,\n      runtimeRequirements\n    }));\n    return this.returningFunction(ensureChunk.startsWith(\"Promise.resolve(\") ? `${factory}` : `${ensureChunk}.then(${this.returningFunction(factory)})`);\n  }\n  /**\n   * @param {Object} options options\n   * @param {Dependency} options.dependency the dependency\n   * @param {ChunkGraph} options.chunkGraph the chunk graph\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @param {string=} options.request request string used originally\n   * @returns {string} expression\n   */\n\n\n  syncModuleFactory(_ref18) {\n    let {\n      dependency,\n      chunkGraph,\n      runtimeRequirements,\n      request\n    } = _ref18;\n    const module = chunkGraph.moduleGraph.getModule(dependency);\n    const factory = this.returningFunction(this.moduleRaw({\n      module,\n      chunkGraph,\n      request,\n      runtimeRequirements\n    }));\n    return this.returningFunction(factory);\n  }\n  /**\n   * @param {Object} options options\n   * @param {string} options.exportsArgument the name of the exports object\n   * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n   * @returns {string} statement\n   */\n\n\n  defineEsModuleFlagStatement(_ref19) {\n    let {\n      exportsArgument,\n      runtimeRequirements\n    } = _ref19;\n    runtimeRequirements.add(RuntimeGlobals.makeNamespaceObject);\n    runtimeRequirements.add(RuntimeGlobals.exports);\n    return `${RuntimeGlobals.makeNamespaceObject}(${exportsArgument});\\n`;\n  }\n  /**\n   * @param {Object} options options object\n   * @param {Module} options.module the module\n   * @param {string} options.publicPath the public path\n   * @param {RuntimeSpec=} options.runtime runtime\n   * @param {CodeGenerationResults} options.codeGenerationResults the code generation results\n   * @returns {string} the url of the asset\n   */\n\n\n  assetUrl(_ref20) {\n    let {\n      publicPath,\n      runtime,\n      module,\n      codeGenerationResults\n    } = _ref20;\n\n    if (!module) {\n      return \"data:,\";\n    }\n\n    const codeGen = codeGenerationResults.get(module, runtime);\n    const {\n      data\n    } = codeGen;\n    const url = data.get(\"url\");\n    if (url) return url.toString();\n    const filename = data.get(\"filename\");\n    return publicPath + filename;\n  }\n\n}\n\nmodule.exports = RuntimeTemplate;","map":{"version":3,"sources":["G:/0_coding/Side Project/photo-website/node_modules/webpack/lib/RuntimeTemplate.js"],"names":["InitFragment","require","RuntimeGlobals","Template","equals","compileBooleanMatcher","propertyAccess","forEachRuntime","subtractRuntime","noModuleIdErrorMessage","module","chunkGraph","identifier","Array","from","getModuleChunksIterable","c","name","id","debugId","join","moduleGraph","getIncomingConnections","connection","originModule","dependency","type","explanations","getGlobalObject","definition","trimmed","trim","match","RuntimeTemplate","constructor","compilation","outputOptions","requestShortener","globalObject","contentHashReplacement","repeat","hashDigestLength","isIIFE","iife","isModule","supportsConst","environment","const","supportsArrowFunction","arrowFunction","supportsOptionalChaining","optionalChaining","supportsForOf","forOf","supportsDestructuring","destructuring","supportsBigIntLiteral","bigIntLiteral","supportsDynamicImport","dynamicImport","supportsEcmaScriptModuleSyntax","supportTemplateLiteral","templateLiteral","returningFunction","returnValue","args","basicFunction","body","indent","concatenation","len","length","_es5Concatenation","JSON","stringify","expr","templateCost","concatenationCost","lastWasExpr","arg","isExpr","map","str","expressionFunction","expression","emptyFunction","destructureArray","items","value","asString","item","i","destructureObject","forEach","variable","array","comment","request","chunkName","chunkReason","message","exportName","content","pathinfo","filter","Boolean","shorten","toComment","toNormalComment","throwMissingModuleErrorBlock","err","throwMissingModuleErrorFunction","missingModule","missingModuleStatement","missingModulePromise","weakError","idExpr","moduleId","getModuleId","errorMessage","errorStatements","weak","Error","moduleRaw","runtimeRequirements","add","moduleExports","moduleNamespace","strict","exportsType","getExportsType","createFakeNamespaceObject","moduleNamespacePromise","block","promise","blockPromise","appending","header","moduleFactories","moduleIdExpr","fakeType","rawModule","isAsync","returnExpression","runtimeConditionExpression","runtimeCondition","runtime","undefined","positiveRuntimeIds","Set","getRuntimeId","negativeRuntimeIds","runtimeId","fromLists","importStatement","update","importVar","optDeclaration","buildMeta","strictHarmonyModule","importContent","compatGetDefaultExport","exportFromImport","asiSafe","isCall","callContext","defaultInterop","initFragments","isArray","slice","push","STAGE_CONSTANTS","exportsInfo","getExportsInfo","used","getUsedName","access","chunkGroup","getBlockChunkGroup","chunks","chunk","hasRuntime","chunkId","ensureChunk","requireChunkId","asyncModuleFactory","dep","dependencies","getModule","factory","startsWith","syncModuleFactory","defineEsModuleFlagStatement","exportsArgument","makeNamespaceObject","exports","assetUrl","publicPath","codeGenerationResults","codeGen","get","data","url","toString","filename"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst InitFragment = require(\"./InitFragment\");\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\nconst Template = require(\"./Template\");\nconst { equals } = require(\"./util/ArrayHelpers\");\nconst compileBooleanMatcher = require(\"./util/compileBooleanMatcher\");\nconst propertyAccess = require(\"./util/propertyAccess\");\nconst { forEachRuntime, subtractRuntime } = require(\"./util/runtime\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").OutputNormalized} OutputOptions */\n/** @typedef {import(\"./AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n/** @typedef {import(\"./ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"./CodeGenerationResults\")} CodeGenerationResults */\n/** @typedef {import(\"./Compilation\")} Compilation */\n/** @typedef {import(\"./Dependency\")} Dependency */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"./RequestShortener\")} RequestShortener */\n/** @typedef {import(\"./util/runtime\").RuntimeSpec} RuntimeSpec */\n\n/**\n * @param {Module} module the module\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {string} error message\n */\nconst noModuleIdErrorMessage = (module, chunkGraph) => {\n\treturn `Module ${module.identifier()} has no id assigned.\nThis should not happen.\nIt's in these chunks: ${\n\t\tArray.from(\n\t\t\tchunkGraph.getModuleChunksIterable(module),\n\t\t\tc => c.name || c.id || c.debugId\n\t\t).join(\", \") || \"none\"\n\t} (If module is in no chunk this indicates a bug in some chunk/module optimization logic)\nModule has these incoming connections: ${Array.from(\n\t\tchunkGraph.moduleGraph.getIncomingConnections(module),\n\t\tconnection =>\n\t\t\t`\\n - ${\n\t\t\t\tconnection.originModule && connection.originModule.identifier()\n\t\t\t} ${connection.dependency && connection.dependency.type} ${\n\t\t\t\t(connection.explanations &&\n\t\t\t\t\tArray.from(connection.explanations).join(\", \")) ||\n\t\t\t\t\"\"\n\t\t\t}`\n\t).join(\"\")}`;\n};\n\n/**\n * @param {string|undefined} definition global object definition\n * @returns {string} save to use global object\n */\nfunction getGlobalObject(definition) {\n\tif (!definition) return definition;\n\tconst trimmed = definition.trim();\n\n\tif (\n\t\t// identifier, we do not need real identifier regarding ECMAScript/Unicode\n\t\ttrimmed.match(/^[_\\p{L}][_0-9\\p{L}]*$/iu) ||\n\t\t// iife\n\t\t// call expression\n\t\t// expression in parentheses\n\t\ttrimmed.match(/^([_\\p{L}][_0-9\\p{L}]*)?\\(.*\\)$/iu)\n\t)\n\t\treturn trimmed;\n\n\treturn `Object(${trimmed})`;\n}\n\nclass RuntimeTemplate {\n\t/**\n\t * @param {Compilation} compilation the compilation\n\t * @param {OutputOptions} outputOptions the compilation output options\n\t * @param {RequestShortener} requestShortener the request shortener\n\t */\n\tconstructor(compilation, outputOptions, requestShortener) {\n\t\tthis.compilation = compilation;\n\t\tthis.outputOptions = outputOptions || {};\n\t\tthis.requestShortener = requestShortener;\n\t\tthis.globalObject = getGlobalObject(outputOptions.globalObject);\n\t\tthis.contentHashReplacement = \"X\".repeat(outputOptions.hashDigestLength);\n\t}\n\n\tisIIFE() {\n\t\treturn this.outputOptions.iife;\n\t}\n\n\tisModule() {\n\t\treturn this.outputOptions.module;\n\t}\n\n\tsupportsConst() {\n\t\treturn this.outputOptions.environment.const;\n\t}\n\n\tsupportsArrowFunction() {\n\t\treturn this.outputOptions.environment.arrowFunction;\n\t}\n\n\tsupportsOptionalChaining() {\n\t\treturn this.outputOptions.environment.optionalChaining;\n\t}\n\n\tsupportsForOf() {\n\t\treturn this.outputOptions.environment.forOf;\n\t}\n\n\tsupportsDestructuring() {\n\t\treturn this.outputOptions.environment.destructuring;\n\t}\n\n\tsupportsBigIntLiteral() {\n\t\treturn this.outputOptions.environment.bigIntLiteral;\n\t}\n\n\tsupportsDynamicImport() {\n\t\treturn this.outputOptions.environment.dynamicImport;\n\t}\n\n\tsupportsEcmaScriptModuleSyntax() {\n\t\treturn this.outputOptions.environment.module;\n\t}\n\n\tsupportTemplateLiteral() {\n\t\treturn this.outputOptions.environment.templateLiteral;\n\t}\n\n\treturningFunction(returnValue, args = \"\") {\n\t\treturn this.supportsArrowFunction()\n\t\t\t? `(${args}) => (${returnValue})`\n\t\t\t: `function(${args}) { return ${returnValue}; }`;\n\t}\n\n\tbasicFunction(args, body) {\n\t\treturn this.supportsArrowFunction()\n\t\t\t? `(${args}) => {\\n${Template.indent(body)}\\n}`\n\t\t\t: `function(${args}) {\\n${Template.indent(body)}\\n}`;\n\t}\n\n\t/**\n\t * @param {Array<string|{expr: string}>} args args\n\t * @returns {string} result expression\n\t */\n\tconcatenation(...args) {\n\t\tconst len = args.length;\n\n\t\tif (len === 2) return this._es5Concatenation(args);\n\t\tif (len === 0) return '\"\"';\n\t\tif (len === 1) {\n\t\t\treturn typeof args[0] === \"string\"\n\t\t\t\t? JSON.stringify(args[0])\n\t\t\t\t: `\"\" + ${args[0].expr}`;\n\t\t}\n\t\tif (!this.supportTemplateLiteral()) return this._es5Concatenation(args);\n\n\t\t// cost comparison between template literal and concatenation:\n\t\t// both need equal surroundings: `xxx` vs \"xxx\"\n\t\t// template literal has constant cost of 3 chars for each expression\n\t\t// es5 concatenation has cost of 3 + n chars for n expressions in row\n\t\t// when a es5 concatenation ends with an expression it reduces cost by 3\n\t\t// when a es5 concatenation starts with an single expression it reduces cost by 3\n\t\t// e. g. `${a}${b}${c}` (3*3 = 9) is longer than \"\"+a+b+c ((3+3)-3 = 3)\n\t\t// e. g. `x${a}x${b}x${c}x` (3*3 = 9) is shorter than \"x\"+a+\"x\"+b+\"x\"+c+\"x\" (4+4+4 = 12)\n\n\t\tlet templateCost = 0;\n\t\tlet concatenationCost = 0;\n\n\t\tlet lastWasExpr = false;\n\t\tfor (const arg of args) {\n\t\t\tconst isExpr = typeof arg !== \"string\";\n\t\t\tif (isExpr) {\n\t\t\t\ttemplateCost += 3;\n\t\t\t\tconcatenationCost += lastWasExpr ? 1 : 4;\n\t\t\t}\n\t\t\tlastWasExpr = isExpr;\n\t\t}\n\t\tif (lastWasExpr) concatenationCost -= 3;\n\t\tif (typeof args[0] !== \"string\" && typeof args[1] === \"string\")\n\t\t\tconcatenationCost -= 3;\n\n\t\tif (concatenationCost <= templateCost) return this._es5Concatenation(args);\n\n\t\treturn `\\`${args\n\t\t\t.map(arg => (typeof arg === \"string\" ? arg : `\\${${arg.expr}}`))\n\t\t\t.join(\"\")}\\``;\n\t}\n\n\t/**\n\t * @param {Array<string|{expr: string}>} args args (len >= 2)\n\t * @returns {string} result expression\n\t * @private\n\t */\n\t_es5Concatenation(args) {\n\t\tconst str = args\n\t\t\t.map(arg => (typeof arg === \"string\" ? JSON.stringify(arg) : arg.expr))\n\t\t\t.join(\" + \");\n\n\t\t// when the first two args are expression, we need to prepend \"\" + to force string\n\t\t// concatenation instead of number addition.\n\t\treturn typeof args[0] !== \"string\" && typeof args[1] !== \"string\"\n\t\t\t? `\"\" + ${str}`\n\t\t\t: str;\n\t}\n\n\texpressionFunction(expression, args = \"\") {\n\t\treturn this.supportsArrowFunction()\n\t\t\t? `(${args}) => (${expression})`\n\t\t\t: `function(${args}) { ${expression}; }`;\n\t}\n\n\temptyFunction() {\n\t\treturn this.supportsArrowFunction() ? \"x => {}\" : \"function() {}\";\n\t}\n\n\tdestructureArray(items, value) {\n\t\treturn this.supportsDestructuring()\n\t\t\t? `var [${items.join(\", \")}] = ${value};`\n\t\t\t: Template.asString(\n\t\t\t\t\titems.map((item, i) => `var ${item} = ${value}[${i}];`)\n\t\t\t  );\n\t}\n\n\tdestructureObject(items, value) {\n\t\treturn this.supportsDestructuring()\n\t\t\t? `var {${items.join(\", \")}} = ${value};`\n\t\t\t: Template.asString(\n\t\t\t\t\titems.map(item => `var ${item} = ${value}${propertyAccess([item])};`)\n\t\t\t  );\n\t}\n\n\tiife(args, body) {\n\t\treturn `(${this.basicFunction(args, body)})()`;\n\t}\n\n\tforEach(variable, array, body) {\n\t\treturn this.supportsForOf()\n\t\t\t? `for(const ${variable} of ${array}) {\\n${Template.indent(body)}\\n}`\n\t\t\t: `${array}.forEach(function(${variable}) {\\n${Template.indent(\n\t\t\t\t\tbody\n\t\t\t  )}\\n});`;\n\t}\n\n\t/**\n\t * Add a comment\n\t * @param {object} options Information content of the comment\n\t * @param {string=} options.request request string used originally\n\t * @param {string=} options.chunkName name of the chunk referenced\n\t * @param {string=} options.chunkReason reason information of the chunk\n\t * @param {string=} options.message additional message\n\t * @param {string=} options.exportName name of the export\n\t * @returns {string} comment\n\t */\n\tcomment({ request, chunkName, chunkReason, message, exportName }) {\n\t\tlet content;\n\t\tif (this.outputOptions.pathinfo) {\n\t\t\tcontent = [message, request, chunkName, chunkReason]\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.map(item => this.requestShortener.shorten(item))\n\t\t\t\t.join(\" | \");\n\t\t} else {\n\t\t\tcontent = [message, chunkName, chunkReason]\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.map(item => this.requestShortener.shorten(item))\n\t\t\t\t.join(\" | \");\n\t\t}\n\t\tif (!content) return \"\";\n\t\tif (this.outputOptions.pathinfo) {\n\t\t\treturn Template.toComment(content) + \" \";\n\t\t} else {\n\t\t\treturn Template.toNormalComment(content) + \" \";\n\t\t}\n\t}\n\n\t/**\n\t * @param {object} options generation options\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} generated error block\n\t */\n\tthrowMissingModuleErrorBlock({ request }) {\n\t\tconst err = `Cannot find module '${request}'`;\n\t\treturn `var e = new Error(${JSON.stringify(\n\t\t\terr\n\t\t)}); e.code = 'MODULE_NOT_FOUND'; throw e;`;\n\t}\n\n\t/**\n\t * @param {object} options generation options\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} generated error function\n\t */\n\tthrowMissingModuleErrorFunction({ request }) {\n\t\treturn `function webpackMissingModule() { ${this.throwMissingModuleErrorBlock(\n\t\t\t{ request }\n\t\t)} }`;\n\t}\n\n\t/**\n\t * @param {object} options generation options\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} generated error IIFE\n\t */\n\tmissingModule({ request }) {\n\t\treturn `Object(${this.throwMissingModuleErrorFunction({ request })}())`;\n\t}\n\n\t/**\n\t * @param {object} options generation options\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} generated error statement\n\t */\n\tmissingModuleStatement({ request }) {\n\t\treturn `${this.missingModule({ request })};\\n`;\n\t}\n\n\t/**\n\t * @param {object} options generation options\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} generated error code\n\t */\n\tmissingModulePromise({ request }) {\n\t\treturn `Promise.resolve().then(${this.throwMissingModuleErrorFunction({\n\t\t\trequest\n\t\t})})`;\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {Module} options.module the module\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {string=} options.idExpr expression to use as id expression\n\t * @param {\"expression\" | \"promise\" | \"statements\"} options.type which kind of code should be returned\n\t * @returns {string} the code\n\t */\n\tweakError({ module, chunkGraph, request, idExpr, type }) {\n\t\tconst moduleId = chunkGraph.getModuleId(module);\n\t\tconst errorMessage =\n\t\t\tmoduleId === null\n\t\t\t\t? JSON.stringify(\"Module is not available (weak dependency)\")\n\t\t\t\t: idExpr\n\t\t\t\t? `\"Module '\" + ${idExpr} + \"' is not available (weak dependency)\"`\n\t\t\t\t: JSON.stringify(\n\t\t\t\t\t\t`Module '${moduleId}' is not available (weak dependency)`\n\t\t\t\t  );\n\t\tconst comment = request ? Template.toNormalComment(request) + \" \" : \"\";\n\t\tconst errorStatements =\n\t\t\t`var e = new Error(${errorMessage}); ` +\n\t\t\tcomment +\n\t\t\t\"e.code = 'MODULE_NOT_FOUND'; throw e;\";\n\t\tswitch (type) {\n\t\t\tcase \"statements\":\n\t\t\t\treturn errorStatements;\n\t\t\tcase \"promise\":\n\t\t\t\treturn `Promise.resolve().then(${this.basicFunction(\n\t\t\t\t\t\"\",\n\t\t\t\t\terrorStatements\n\t\t\t\t)})`;\n\t\t\tcase \"expression\":\n\t\t\t\treturn this.iife(\"\", errorStatements);\n\t\t}\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {Module} options.module the module\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n\t * @returns {string} the expression\n\t */\n\tmoduleId({ module, chunkGraph, request, weak }) {\n\t\tif (!module) {\n\t\t\treturn this.missingModule({\n\t\t\t\trequest\n\t\t\t});\n\t\t}\n\t\tconst moduleId = chunkGraph.getModuleId(module);\n\t\tif (moduleId === null) {\n\t\t\tif (weak) {\n\t\t\t\treturn \"null /* weak dependency, without id */\";\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`RuntimeTemplate.moduleId(): ${noModuleIdErrorMessage(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph\n\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\t\treturn `${this.comment({ request })}${JSON.stringify(moduleId)}`;\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {Module} options.module the module\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} the expression\n\t */\n\tmoduleRaw({ module, chunkGraph, request, weak, runtimeRequirements }) {\n\t\tif (!module) {\n\t\t\treturn this.missingModule({\n\t\t\t\trequest\n\t\t\t});\n\t\t}\n\t\tconst moduleId = chunkGraph.getModuleId(module);\n\t\tif (moduleId === null) {\n\t\t\tif (weak) {\n\t\t\t\t// only weak referenced modules don't get an id\n\t\t\t\t// we can always emit an error emitting code here\n\t\t\t\treturn this.weakError({\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\trequest,\n\t\t\t\t\ttype: \"expression\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`RuntimeTemplate.moduleId(): ${noModuleIdErrorMessage(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph\n\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\t\truntimeRequirements.add(RuntimeGlobals.require);\n\t\treturn `__webpack_require__(${this.moduleId({\n\t\t\tmodule,\n\t\t\tchunkGraph,\n\t\t\trequest,\n\t\t\tweak\n\t\t})})`;\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {Module} options.module the module\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} the expression\n\t */\n\tmoduleExports({ module, chunkGraph, request, weak, runtimeRequirements }) {\n\t\treturn this.moduleRaw({\n\t\t\tmodule,\n\t\t\tchunkGraph,\n\t\t\trequest,\n\t\t\tweak,\n\t\t\truntimeRequirements\n\t\t});\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {Module} options.module the module\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {boolean=} options.strict if the current module is in strict esm mode\n\t * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} the expression\n\t */\n\tmoduleNamespace({\n\t\tmodule,\n\t\tchunkGraph,\n\t\trequest,\n\t\tstrict,\n\t\tweak,\n\t\truntimeRequirements\n\t}) {\n\t\tif (!module) {\n\t\t\treturn this.missingModule({\n\t\t\t\trequest\n\t\t\t});\n\t\t}\n\t\tif (chunkGraph.getModuleId(module) === null) {\n\t\t\tif (weak) {\n\t\t\t\t// only weak referenced modules don't get an id\n\t\t\t\t// we can always emit an error emitting code here\n\t\t\t\treturn this.weakError({\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\trequest,\n\t\t\t\t\ttype: \"expression\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`RuntimeTemplate.moduleNamespace(): ${noModuleIdErrorMessage(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph\n\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\t\tconst moduleId = this.moduleId({\n\t\t\tmodule,\n\t\t\tchunkGraph,\n\t\t\trequest,\n\t\t\tweak\n\t\t});\n\t\tconst exportsType = module.getExportsType(chunkGraph.moduleGraph, strict);\n\t\tswitch (exportsType) {\n\t\t\tcase \"namespace\":\n\t\t\t\treturn this.moduleRaw({\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\trequest,\n\t\t\t\t\tweak,\n\t\t\t\t\truntimeRequirements\n\t\t\t\t});\n\t\t\tcase \"default-with-named\":\n\t\t\t\truntimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t\treturn `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 3)`;\n\t\t\tcase \"default-only\":\n\t\t\t\truntimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t\treturn `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 1)`;\n\t\t\tcase \"dynamic\":\n\t\t\t\truntimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t\treturn `${RuntimeGlobals.createFakeNamespaceObject}(${moduleId}, 7)`;\n\t\t}\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {AsyncDependenciesBlock=} options.block the current dependencies block\n\t * @param {Module} options.module the module\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {string} options.message a message for the comment\n\t * @param {boolean=} options.strict if the current module is in strict esm mode\n\t * @param {boolean=} options.weak if the dependency is weak (will create a nice error message)\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} the promise expression\n\t */\n\tmoduleNamespacePromise({\n\t\tchunkGraph,\n\t\tblock,\n\t\tmodule,\n\t\trequest,\n\t\tmessage,\n\t\tstrict,\n\t\tweak,\n\t\truntimeRequirements\n\t}) {\n\t\tif (!module) {\n\t\t\treturn this.missingModulePromise({\n\t\t\t\trequest\n\t\t\t});\n\t\t}\n\t\tconst moduleId = chunkGraph.getModuleId(module);\n\t\tif (moduleId === null) {\n\t\t\tif (weak) {\n\t\t\t\t// only weak referenced modules don't get an id\n\t\t\t\t// we can always emit an error emitting code here\n\t\t\t\treturn this.weakError({\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\trequest,\n\t\t\t\t\ttype: \"promise\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`RuntimeTemplate.moduleNamespacePromise(): ${noModuleIdErrorMessage(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph\n\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\t\tconst promise = this.blockPromise({\n\t\t\tchunkGraph,\n\t\t\tblock,\n\t\t\tmessage,\n\t\t\truntimeRequirements\n\t\t});\n\n\t\tlet appending;\n\t\tlet idExpr = JSON.stringify(chunkGraph.getModuleId(module));\n\t\tconst comment = this.comment({\n\t\t\trequest\n\t\t});\n\t\tlet header = \"\";\n\t\tif (weak) {\n\t\t\tif (idExpr.length > 8) {\n\t\t\t\t// 'var x=\"nnnnnn\";x,\"+x+\",x' vs '\"nnnnnn\",nnnnnn,\"nnnnnn\"'\n\t\t\t\theader += `var id = ${idExpr}; `;\n\t\t\t\tidExpr = \"id\";\n\t\t\t}\n\t\t\truntimeRequirements.add(RuntimeGlobals.moduleFactories);\n\t\t\theader += `if(!${\n\t\t\t\tRuntimeGlobals.moduleFactories\n\t\t\t}[${idExpr}]) { ${this.weakError({\n\t\t\t\tmodule,\n\t\t\t\tchunkGraph,\n\t\t\t\trequest,\n\t\t\t\tidExpr,\n\t\t\t\ttype: \"statements\"\n\t\t\t})} } `;\n\t\t}\n\t\tconst moduleIdExpr = this.moduleId({\n\t\t\tmodule,\n\t\t\tchunkGraph,\n\t\t\trequest,\n\t\t\tweak\n\t\t});\n\t\tconst exportsType = module.getExportsType(chunkGraph.moduleGraph, strict);\n\t\tlet fakeType = 16;\n\t\tswitch (exportsType) {\n\t\t\tcase \"namespace\":\n\t\t\t\tif (header) {\n\t\t\t\t\tconst rawModule = this.moduleRaw({\n\t\t\t\t\t\tmodule,\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\trequest,\n\t\t\t\t\t\tweak,\n\t\t\t\t\t\truntimeRequirements\n\t\t\t\t\t});\n\t\t\t\t\tappending = `.then(${this.basicFunction(\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t`${header}return ${rawModule};`\n\t\t\t\t\t)})`;\n\t\t\t\t} else {\n\t\t\t\t\truntimeRequirements.add(RuntimeGlobals.require);\n\t\t\t\t\tappending = `.then(__webpack_require__.bind(__webpack_require__, ${comment}${idExpr}))`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"dynamic\":\n\t\t\t\tfakeType |= 4;\n\t\t\t/* fall through */\n\t\t\tcase \"default-with-named\":\n\t\t\t\tfakeType |= 2;\n\t\t\t/* fall through */\n\t\t\tcase \"default-only\":\n\t\t\t\truntimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t\tif (chunkGraph.moduleGraph.isAsync(module)) {\n\t\t\t\t\tif (header) {\n\t\t\t\t\t\tconst rawModule = this.moduleRaw({\n\t\t\t\t\t\t\tmodule,\n\t\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\t\trequest,\n\t\t\t\t\t\t\tweak,\n\t\t\t\t\t\t\truntimeRequirements\n\t\t\t\t\t\t});\n\t\t\t\t\t\tappending = `.then(${this.basicFunction(\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t`${header}return ${rawModule};`\n\t\t\t\t\t\t)})`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\truntimeRequirements.add(RuntimeGlobals.require);\n\t\t\t\t\t\tappending = `.then(__webpack_require__.bind(__webpack_require__, ${comment}${idExpr}))`;\n\t\t\t\t\t}\n\t\t\t\t\tappending += `.then(${this.returningFunction(\n\t\t\t\t\t\t`${RuntimeGlobals.createFakeNamespaceObject}(m, ${fakeType})`,\n\t\t\t\t\t\t\"m\"\n\t\t\t\t\t)})`;\n\t\t\t\t} else {\n\t\t\t\t\tfakeType |= 1;\n\t\t\t\t\tif (header) {\n\t\t\t\t\t\tconst returnExpression = `${RuntimeGlobals.createFakeNamespaceObject}(${moduleIdExpr}, ${fakeType})`;\n\t\t\t\t\t\tappending = `.then(${this.basicFunction(\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t`${header}return ${returnExpression};`\n\t\t\t\t\t\t)})`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tappending = `.then(${RuntimeGlobals.createFakeNamespaceObject}.bind(__webpack_require__, ${comment}${idExpr}, ${fakeType}))`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn `${promise || \"Promise.resolve()\"}${appending}`;\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {RuntimeSpec=} options.runtime runtime for which this code will be generated\n\t * @param {RuntimeSpec | boolean=} options.runtimeCondition only execute the statement in some runtimes\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} expression\n\t */\n\truntimeConditionExpression({\n\t\tchunkGraph,\n\t\truntimeCondition,\n\t\truntime,\n\t\truntimeRequirements\n\t}) {\n\t\tif (runtimeCondition === undefined) return \"true\";\n\t\tif (typeof runtimeCondition === \"boolean\") return `${runtimeCondition}`;\n\t\t/** @type {Set<string>} */\n\t\tconst positiveRuntimeIds = new Set();\n\t\tforEachRuntime(runtimeCondition, runtime =>\n\t\t\tpositiveRuntimeIds.add(`${chunkGraph.getRuntimeId(runtime)}`)\n\t\t);\n\t\t/** @type {Set<string>} */\n\t\tconst negativeRuntimeIds = new Set();\n\t\tforEachRuntime(subtractRuntime(runtime, runtimeCondition), runtime =>\n\t\t\tnegativeRuntimeIds.add(`${chunkGraph.getRuntimeId(runtime)}`)\n\t\t);\n\t\truntimeRequirements.add(RuntimeGlobals.runtimeId);\n\t\treturn compileBooleanMatcher.fromLists(\n\t\t\tArray.from(positiveRuntimeIds),\n\t\t\tArray.from(negativeRuntimeIds)\n\t\t)(RuntimeGlobals.runtimeId);\n\t}\n\n\t/**\n\t *\n\t * @param {Object} options options object\n\t * @param {boolean=} options.update whether a new variable should be created or the existing one updated\n\t * @param {Module} options.module the module\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {string} options.request the request that should be printed as comment\n\t * @param {string} options.importVar name of the import variable\n\t * @param {Module} options.originModule module in which the statement is emitted\n\t * @param {boolean=} options.weak true, if this is a weak dependency\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {[string, string]} the import statement and the compat statement\n\t */\n\timportStatement({\n\t\tupdate,\n\t\tmodule,\n\t\tchunkGraph,\n\t\trequest,\n\t\timportVar,\n\t\toriginModule,\n\t\tweak,\n\t\truntimeRequirements\n\t}) {\n\t\tif (!module) {\n\t\t\treturn [\n\t\t\t\tthis.missingModuleStatement({\n\t\t\t\t\trequest\n\t\t\t\t}),\n\t\t\t\t\"\"\n\t\t\t];\n\t\t}\n\t\tif (chunkGraph.getModuleId(module) === null) {\n\t\t\tif (weak) {\n\t\t\t\t// only weak referenced modules don't get an id\n\t\t\t\t// we can always emit an error emitting code here\n\t\t\t\treturn [\n\t\t\t\t\tthis.weakError({\n\t\t\t\t\t\tmodule,\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\trequest,\n\t\t\t\t\t\ttype: \"statements\"\n\t\t\t\t\t}),\n\t\t\t\t\t\"\"\n\t\t\t\t];\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`RuntimeTemplate.importStatement(): ${noModuleIdErrorMessage(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunkGraph\n\t\t\t\t)}`\n\t\t\t);\n\t\t}\n\t\tconst moduleId = this.moduleId({\n\t\t\tmodule,\n\t\t\tchunkGraph,\n\t\t\trequest,\n\t\t\tweak\n\t\t});\n\t\tconst optDeclaration = update ? \"\" : \"var \";\n\n\t\tconst exportsType = module.getExportsType(\n\t\t\tchunkGraph.moduleGraph,\n\t\t\toriginModule.buildMeta.strictHarmonyModule\n\t\t);\n\t\truntimeRequirements.add(RuntimeGlobals.require);\n\t\tconst importContent = `/* harmony import */ ${optDeclaration}${importVar} = __webpack_require__(${moduleId});\\n`;\n\n\t\tif (exportsType === \"dynamic\") {\n\t\t\truntimeRequirements.add(RuntimeGlobals.compatGetDefaultExport);\n\t\t\treturn [\n\t\t\t\timportContent,\n\t\t\t\t`/* harmony import */ ${optDeclaration}${importVar}_default = /*#__PURE__*/${RuntimeGlobals.compatGetDefaultExport}(${importVar});\\n`\n\t\t\t];\n\t\t}\n\t\treturn [importContent, \"\"];\n\t}\n\n\t/**\n\t * @param {Object} options options\n\t * @param {ModuleGraph} options.moduleGraph the module graph\n\t * @param {Module} options.module the module\n\t * @param {string} options.request the request\n\t * @param {string | string[]} options.exportName the export name\n\t * @param {Module} options.originModule the origin module\n\t * @param {boolean|undefined} options.asiSafe true, if location is safe for ASI, a bracket can be emitted\n\t * @param {boolean} options.isCall true, if expression will be called\n\t * @param {boolean} options.callContext when false, call context will not be preserved\n\t * @param {boolean} options.defaultInterop when true and accessing the default exports, interop code will be generated\n\t * @param {string} options.importVar the identifier name of the import variable\n\t * @param {InitFragment[]} options.initFragments init fragments will be added here\n\t * @param {RuntimeSpec} options.runtime runtime for which this code will be generated\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} expression\n\t */\n\texportFromImport({\n\t\tmoduleGraph,\n\t\tmodule,\n\t\trequest,\n\t\texportName,\n\t\toriginModule,\n\t\tasiSafe,\n\t\tisCall,\n\t\tcallContext,\n\t\tdefaultInterop,\n\t\timportVar,\n\t\tinitFragments,\n\t\truntime,\n\t\truntimeRequirements\n\t}) {\n\t\tif (!module) {\n\t\t\treturn this.missingModule({\n\t\t\t\trequest\n\t\t\t});\n\t\t}\n\t\tif (!Array.isArray(exportName)) {\n\t\t\texportName = exportName ? [exportName] : [];\n\t\t}\n\t\tconst exportsType = module.getExportsType(\n\t\t\tmoduleGraph,\n\t\t\toriginModule.buildMeta.strictHarmonyModule\n\t\t);\n\n\t\tif (defaultInterop) {\n\t\t\tif (exportName.length > 0 && exportName[0] === \"default\") {\n\t\t\t\tswitch (exportsType) {\n\t\t\t\t\tcase \"dynamic\":\n\t\t\t\t\t\tif (isCall) {\n\t\t\t\t\t\t\treturn `${importVar}_default()${propertyAccess(exportName, 1)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn asiSafe\n\t\t\t\t\t\t\t\t? `(${importVar}_default()${propertyAccess(exportName, 1)})`\n\t\t\t\t\t\t\t\t: asiSafe === false\n\t\t\t\t\t\t\t\t? `;(${importVar}_default()${propertyAccess(exportName, 1)})`\n\t\t\t\t\t\t\t\t: `${importVar}_default.a${propertyAccess(exportName, 1)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase \"default-only\":\n\t\t\t\t\tcase \"default-with-named\":\n\t\t\t\t\t\texportName = exportName.slice(1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (exportName.length > 0) {\n\t\t\t\tif (exportsType === \"default-only\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\"/* non-default import from non-esm module */undefined\" +\n\t\t\t\t\t\tpropertyAccess(exportName, 1)\n\t\t\t\t\t);\n\t\t\t\t} else if (\n\t\t\t\t\texportsType !== \"namespace\" &&\n\t\t\t\t\texportName[0] === \"__esModule\"\n\t\t\t\t) {\n\t\t\t\t\treturn \"/* __esModule */true\";\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\texportsType === \"default-only\" ||\n\t\t\t\texportsType === \"default-with-named\"\n\t\t\t) {\n\t\t\t\truntimeRequirements.add(RuntimeGlobals.createFakeNamespaceObject);\n\t\t\t\tinitFragments.push(\n\t\t\t\t\tnew InitFragment(\n\t\t\t\t\t\t`var ${importVar}_namespace_cache;\\n`,\n\t\t\t\t\t\tInitFragment.STAGE_CONSTANTS,\n\t\t\t\t\t\t-1,\n\t\t\t\t\t\t`${importVar}_namespace_cache`\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn `/*#__PURE__*/ ${\n\t\t\t\t\tasiSafe ? \"\" : asiSafe === false ? \";\" : \"Object\"\n\t\t\t\t}(${importVar}_namespace_cache || (${importVar}_namespace_cache = ${\n\t\t\t\t\tRuntimeGlobals.createFakeNamespaceObject\n\t\t\t\t}(${importVar}${exportsType === \"default-only\" ? \"\" : \", 2\"})))`;\n\t\t\t}\n\t\t}\n\n\t\tif (exportName.length > 0) {\n\t\t\tconst exportsInfo = moduleGraph.getExportsInfo(module);\n\t\t\tconst used = exportsInfo.getUsedName(exportName, runtime);\n\t\t\tif (!used) {\n\t\t\t\tconst comment = Template.toNormalComment(\n\t\t\t\t\t`unused export ${propertyAccess(exportName)}`\n\t\t\t\t);\n\t\t\t\treturn `${comment} undefined`;\n\t\t\t}\n\t\t\tconst comment = equals(used, exportName)\n\t\t\t\t? \"\"\n\t\t\t\t: Template.toNormalComment(propertyAccess(exportName)) + \" \";\n\t\t\tconst access = `${importVar}${comment}${propertyAccess(used)}`;\n\t\t\tif (isCall && callContext === false) {\n\t\t\t\treturn asiSafe\n\t\t\t\t\t? `(0,${access})`\n\t\t\t\t\t: asiSafe === false\n\t\t\t\t\t? `;(0,${access})`\n\t\t\t\t\t: `/*#__PURE__*/Object(${access})`;\n\t\t\t}\n\t\t\treturn access;\n\t\t} else {\n\t\t\treturn importVar;\n\t\t}\n\t}\n\n\t/**\n\t * @param {Object} options options\n\t * @param {AsyncDependenciesBlock} options.block the async block\n\t * @param {string} options.message the message\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} expression\n\t */\n\tblockPromise({ block, message, chunkGraph, runtimeRequirements }) {\n\t\tif (!block) {\n\t\t\tconst comment = this.comment({\n\t\t\t\tmessage\n\t\t\t});\n\t\t\treturn `Promise.resolve(${comment.trim()})`;\n\t\t}\n\t\tconst chunkGroup = chunkGraph.getBlockChunkGroup(block);\n\t\tif (!chunkGroup || chunkGroup.chunks.length === 0) {\n\t\t\tconst comment = this.comment({\n\t\t\t\tmessage\n\t\t\t});\n\t\t\treturn `Promise.resolve(${comment.trim()})`;\n\t\t}\n\t\tconst chunks = chunkGroup.chunks.filter(\n\t\t\tchunk => !chunk.hasRuntime() && chunk.id !== null\n\t\t);\n\t\tconst comment = this.comment({\n\t\t\tmessage,\n\t\t\tchunkName: block.chunkName\n\t\t});\n\t\tif (chunks.length === 1) {\n\t\t\tconst chunkId = JSON.stringify(chunks[0].id);\n\t\t\truntimeRequirements.add(RuntimeGlobals.ensureChunk);\n\t\t\treturn `${RuntimeGlobals.ensureChunk}(${comment}${chunkId})`;\n\t\t} else if (chunks.length > 0) {\n\t\t\truntimeRequirements.add(RuntimeGlobals.ensureChunk);\n\t\t\tconst requireChunkId = chunk =>\n\t\t\t\t`${RuntimeGlobals.ensureChunk}(${JSON.stringify(chunk.id)})`;\n\t\t\treturn `Promise.all(${comment.trim()}[${chunks\n\t\t\t\t.map(requireChunkId)\n\t\t\t\t.join(\", \")}])`;\n\t\t} else {\n\t\t\treturn `Promise.resolve(${comment.trim()})`;\n\t\t}\n\t}\n\n\t/**\n\t * @param {Object} options options\n\t * @param {AsyncDependenciesBlock} options.block the async block\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} expression\n\t */\n\tasyncModuleFactory({ block, chunkGraph, runtimeRequirements, request }) {\n\t\tconst dep = block.dependencies[0];\n\t\tconst module = chunkGraph.moduleGraph.getModule(dep);\n\t\tconst ensureChunk = this.blockPromise({\n\t\t\tblock,\n\t\t\tmessage: \"\",\n\t\t\tchunkGraph,\n\t\t\truntimeRequirements\n\t\t});\n\t\tconst factory = this.returningFunction(\n\t\t\tthis.moduleRaw({\n\t\t\t\tmodule,\n\t\t\t\tchunkGraph,\n\t\t\t\trequest,\n\t\t\t\truntimeRequirements\n\t\t\t})\n\t\t);\n\t\treturn this.returningFunction(\n\t\t\tensureChunk.startsWith(\"Promise.resolve(\")\n\t\t\t\t? `${factory}`\n\t\t\t\t: `${ensureChunk}.then(${this.returningFunction(factory)})`\n\t\t);\n\t}\n\n\t/**\n\t * @param {Object} options options\n\t * @param {Dependency} options.dependency the dependency\n\t * @param {ChunkGraph} options.chunkGraph the chunk graph\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @param {string=} options.request request string used originally\n\t * @returns {string} expression\n\t */\n\tsyncModuleFactory({ dependency, chunkGraph, runtimeRequirements, request }) {\n\t\tconst module = chunkGraph.moduleGraph.getModule(dependency);\n\t\tconst factory = this.returningFunction(\n\t\t\tthis.moduleRaw({\n\t\t\t\tmodule,\n\t\t\t\tchunkGraph,\n\t\t\t\trequest,\n\t\t\t\truntimeRequirements\n\t\t\t})\n\t\t);\n\t\treturn this.returningFunction(factory);\n\t}\n\n\t/**\n\t * @param {Object} options options\n\t * @param {string} options.exportsArgument the name of the exports object\n\t * @param {Set<string>} options.runtimeRequirements if set, will be filled with runtime requirements\n\t * @returns {string} statement\n\t */\n\tdefineEsModuleFlagStatement({ exportsArgument, runtimeRequirements }) {\n\t\truntimeRequirements.add(RuntimeGlobals.makeNamespaceObject);\n\t\truntimeRequirements.add(RuntimeGlobals.exports);\n\t\treturn `${RuntimeGlobals.makeNamespaceObject}(${exportsArgument});\\n`;\n\t}\n\n\t/**\n\t * @param {Object} options options object\n\t * @param {Module} options.module the module\n\t * @param {string} options.publicPath the public path\n\t * @param {RuntimeSpec=} options.runtime runtime\n\t * @param {CodeGenerationResults} options.codeGenerationResults the code generation results\n\t * @returns {string} the url of the asset\n\t */\n\tassetUrl({ publicPath, runtime, module, codeGenerationResults }) {\n\t\tif (!module) {\n\t\t\treturn \"data:,\";\n\t\t}\n\t\tconst codeGen = codeGenerationResults.get(module, runtime);\n\t\tconst { data } = codeGen;\n\t\tconst url = data.get(\"url\");\n\t\tif (url) return url.toString();\n\t\tconst filename = data.get(\"filename\");\n\t\treturn publicPath + filename;\n\t}\n}\n\nmodule.exports = RuntimeTemplate;\n"]},"metadata":{},"sourceType":"script"}